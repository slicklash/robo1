import{r as ee,a as Xh,c as ks,g as Gf,R as vi}from"./index.f1f2c4b1.js";import{A as ti,I as Jh,M as _b,N as eu,a as ja,b as Ha,c as tu,U as Eb,p as Ob,_ as $}from"./astro-assets-services.79a8b34c.js";import{s as gi}from"./Scene_module.c9dcc3ae.81ba598e.js";var Kf={exports:{}},ca={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb=ee,Rb=Symbol.for("react.element"),Lb=Symbol.for("react.fragment"),Pb=Object.prototype.hasOwnProperty,Ib=Tb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nb={key:!0,ref:!0,__self:!0,__source:!0};function qf(r,e,t){var i,n={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Pb.call(e,i)&&!Nb.hasOwnProperty(i)&&(n[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:Rb,type:r,key:s,ref:o,props:n,_owner:Ib.current}}ca.Fragment=Lb;ca.jsx=qf;ca.jsxs=qf;Kf.exports=ca;var De=Kf.exports;function Mb(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function Db(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var $b=function(){function r(t){var i=this;this._insertTag=function(n){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(n,s),i.tags.push(n)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Db(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Mb(n);try{s.insertRule(i,s.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},r}(),Je="-ms-",Ao="-moz-",le="-webkit-",Yf="comm",Qc="rule",Xc="decl",Bb="@import",Zf="@keyframes",zb="@layer",Fb=Math.abs,ha=String.fromCharCode,jb=Object.assign;function Hb(r,e){return Qe(r,0)^45?(((e<<2^Qe(r,0))<<2^Qe(r,1))<<2^Qe(r,2))<<2^Qe(r,3):0}function Qf(r){return r.trim()}function Vb(r,e){return(r=e.exec(r))?r[0]:r}function ce(r,e,t){return r.replace(e,t)}function Nl(r,e){return r.indexOf(e)}function Qe(r,e){return r.charCodeAt(e)|0}function Bn(r,e,t){return r.slice(e,t)}function Vt(r){return r.length}function Jc(r){return r.length}function xs(r,e){return e.push(r),r}function Wb(r,e){return r.map(e).join("")}var ua=1,zi=1,Xf=0,dt=0,je=0,Zi="";function da(r,e,t,i,n,s,o){return{value:r,root:e,parent:t,type:i,props:n,children:s,line:ua,column:zi,length:o,return:""}}function on(r,e){return jb(da("",null,null,"",null,null,0),r,{length:-r.length},e)}function Ub(){return je}function Gb(){return je=dt>0?Qe(Zi,--dt):0,zi--,je===10&&(zi=1,ua--),je}function wt(){return je=dt<Xf?Qe(Zi,dt++):0,zi++,je===10&&(zi=1,ua++),je}function Yt(){return Qe(Zi,dt)}function Zs(){return dt}function ss(r,e){return Bn(Zi,r,e)}function zn(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jf(r){return ua=zi=1,Xf=Vt(Zi=r),dt=0,[]}function ep(r){return Zi="",r}function Qs(r){return Qf(ss(dt-1,Ml(r===91?r+2:r===40?r+1:r)))}function Kb(r){for(;(je=Yt())&&je<33;)wt();return zn(r)>2||zn(je)>3?"":" "}function qb(r,e){for(;--e&&wt()&&!(je<48||je>102||je>57&&je<65||je>70&&je<97););return ss(r,Zs()+(e<6&&Yt()==32&&wt()==32))}function Ml(r){for(;wt();)switch(je){case r:return dt;case 34:case 39:r!==34&&r!==39&&Ml(je);break;case 40:r===41&&Ml(r);break;case 92:wt();break}return dt}function Yb(r,e){for(;wt()&&r+je!==47+10;)if(r+je===42+42&&Yt()===47)break;return"/*"+ss(e,dt-1)+"*"+ha(r===47?r:wt())}function Zb(r){for(;!zn(Yt());)wt();return ss(r,dt)}function Qb(r){return ep(Xs("",null,null,null,[""],r=Jf(r),0,[0],r))}function Xs(r,e,t,i,n,s,o,a,l){for(var c=0,h=0,u=o,d=0,f=0,p=0,b=1,g=1,v=1,k=0,E="",A=n,_=s,O=i,C=E;g;)switch(p=k,k=wt()){case 40:if(p!=108&&Qe(C,u-1)==58){Nl(C+=ce(Qs(k),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=Qs(k);break;case 9:case 10:case 13:case 32:C+=Kb(p);break;case 92:C+=qb(Zs()-1,7);continue;case 47:switch(Yt()){case 42:case 47:xs(Xb(Yb(wt(),Zs()),e,t),l);break;default:C+="/"}break;case 123*b:a[c++]=Vt(C)*v;case 125*b:case 59:case 0:switch(k){case 0:case 125:g=0;case 59+h:v==-1&&(C=ce(C,/\f/g,"")),f>0&&Vt(C)-u&&xs(f>32?iu(C+";",i,t,u-1):iu(ce(C," ","")+";",i,t,u-2),l);break;case 59:C+=";";default:if(xs(O=ru(C,e,t,c,h,n,a,E,A=[],_=[],u),s),k===123)if(h===0)Xs(C,e,O,O,A,s,u,a,_);else switch(d===99&&Qe(C,3)===110?100:d){case 100:case 108:case 109:case 115:Xs(r,O,O,i&&xs(ru(r,O,O,0,0,n,a,E,n,A=[],u),_),n,_,u,a,i?A:_);break;default:Xs(C,O,O,O,[""],_,0,a,_)}}c=h=f=0,b=v=1,E=C="",u=o;break;case 58:u=1+Vt(C),f=p;default:if(b<1){if(k==123)--b;else if(k==125&&b++==0&&Gb()==125)continue}switch(C+=ha(k),k*b){case 38:v=h>0?1:(C+="\f",-1);break;case 44:a[c++]=(Vt(C)-1)*v,v=1;break;case 64:Yt()===45&&(C+=Qs(wt())),d=Yt(),h=u=Vt(E=C+=Zb(Zs())),k++;break;case 45:p===45&&Vt(C)==2&&(b=0)}}return s}function ru(r,e,t,i,n,s,o,a,l,c,h){for(var u=n-1,d=n===0?s:[""],f=Jc(d),p=0,b=0,g=0;p<i;++p)for(var v=0,k=Bn(r,u+1,u=Fb(b=o[p])),E=r;v<f;++v)(E=Qf(b>0?d[v]+" "+k:ce(k,/&\f/g,d[v])))&&(l[g++]=E);return da(r,e,t,n===0?Qc:a,l,c,h)}function Xb(r,e,t){return da(r,e,t,Yf,ha(Ub()),Bn(r,2,-2),0)}function iu(r,e,t,i){return da(r,e,t,Xc,Bn(r,0,i),Bn(r,i+1,-1),i)}function Oi(r,e){for(var t="",i=Jc(r),n=0;n<i;n++)t+=e(r[n],n,r,e)||"";return t}function Jb(r,e,t,i){switch(r.type){case zb:if(r.children.length)break;case Bb:case Xc:return r.return=r.return||r.value;case Yf:return"";case Zf:return r.return=r.value+"{"+Oi(r.children,i)+"}";case Qc:r.value=r.props.join(",")}return Vt(t=Oi(r.children,i))?r.return=r.value+"{"+t+"}":""}function ey(r){var e=Jc(r);return function(t,i,n,s){for(var o="",a=0;a<e;a++)o+=r[a](t,i,n,s)||"";return o}}function ty(r){return function(e){e.root||(e=e.return)&&r(e)}}var nu=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var n=e(i);return t.set(i,n),n}},ry=function(e,t,i){for(var n=0,s=0;n=s,s=Yt(),n===38&&s===12&&(t[i]=1),!zn(s);)wt();return ss(e,dt)},iy=function(e,t){var i=-1,n=44;do switch(zn(n)){case 0:n===38&&Yt()===12&&(t[i]=1),e[i]+=ry(dt-1,t,i);break;case 2:e[i]+=Qs(n);break;case 4:if(n===44){e[++i]=Yt()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=ha(n)}while(n=wt());return e},ny=function(e,t){return ep(iy(Jf(e),t))},su=new WeakMap,sy=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,n=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!su.get(i))&&!n){su.set(e,!0);for(var s=[],o=ny(t,s),a=i.props,l=0,c=0;l<o.length;l++)for(var h=0;h<a.length;h++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[h]):a[h]+" "+o[l]}}},oy=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function tp(r,e){switch(Hb(r,e)){case 5103:return le+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return le+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return le+r+Ao+r+Je+r+r;case 6828:case 4268:return le+r+Je+r+r;case 6165:return le+r+Je+"flex-"+r+r;case 5187:return le+r+ce(r,/(\w+).+(:[^]+)/,le+"box-$1$2"+Je+"flex-$1$2")+r;case 5443:return le+r+Je+"flex-item-"+ce(r,/flex-|-self/,"")+r;case 4675:return le+r+Je+"flex-line-pack"+ce(r,/align-content|flex-|-self/,"")+r;case 5548:return le+r+Je+ce(r,"shrink","negative")+r;case 5292:return le+r+Je+ce(r,"basis","preferred-size")+r;case 6060:return le+"box-"+ce(r,"-grow","")+le+r+Je+ce(r,"grow","positive")+r;case 4554:return le+ce(r,/([^-])(transform)/g,"$1"+le+"$2")+r;case 6187:return ce(ce(ce(r,/(zoom-|grab)/,le+"$1"),/(image-set)/,le+"$1"),r,"")+r;case 5495:case 3959:return ce(r,/(image-set\([^]*)/,le+"$1$`$1");case 4968:return ce(ce(r,/(.+:)(flex-)?(.*)/,le+"box-pack:$3"+Je+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+le+r+r;case 4095:case 3583:case 4068:case 2532:return ce(r,/(.+)-inline(.+)/,le+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vt(r)-1-e>6)switch(Qe(r,e+1)){case 109:if(Qe(r,e+4)!==45)break;case 102:return ce(r,/(.+:)(.+)-([^]+)/,"$1"+le+"$2-$3$1"+Ao+(Qe(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~Nl(r,"stretch")?tp(ce(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Qe(r,e+1)!==115)break;case 6444:switch(Qe(r,Vt(r)-3-(~Nl(r,"!important")&&10))){case 107:return ce(r,":",":"+le)+r;case 101:return ce(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+le+(Qe(r,14)===45?"inline-":"")+"box$3$1"+le+"$2$3$1"+Je+"$2box$3")+r}break;case 5936:switch(Qe(r,e+11)){case 114:return le+r+Je+ce(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return le+r+Je+ce(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return le+r+Je+ce(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return le+r+Je+r+r}return r}var ay=function(e,t,i,n){if(e.length>-1&&!e.return)switch(e.type){case Xc:e.return=tp(e.value,e.length);break;case Zf:return Oi([on(e,{value:ce(e.value,"@","@"+le)})],n);case Qc:if(e.length)return Wb(e.props,function(s){switch(Vb(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Oi([on(e,{props:[ce(s,/:(read-\w+)/,":"+Ao+"$1")]})],n);case"::placeholder":return Oi([on(e,{props:[ce(s,/:(plac\w+)/,":"+le+"input-$1")]}),on(e,{props:[ce(s,/:(plac\w+)/,":"+Ao+"$1")]}),on(e,{props:[ce(s,/:(plac\w+)/,Je+"input-$1")]})],n)}return""})}},ly=[ay],cy=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(b){var g=b.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var n=e.stylisPlugins||ly,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(b){for(var g=b.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)s[g[v]]=!0;a.push(b)});var l,c=[sy,oy];{var h,u=[Jb,ty(function(b){h.insert(b)})],d=ey(c.concat(n,u)),f=function(g){return Oi(Qb(g),d)};l=function(g,v,k,E){h=k,f(g?g+"{"+v.styles+"}":v.styles),E&&(p.inserted[v.name]=!0)}}var p={key:t,sheet:new $b({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p};function _o(){return _o=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},_o.apply(this,arguments)}var hy=!0;function uy(r,e,t){var i="";return t.split(" ").forEach(function(n){r[n]!==void 0?e.push(r[n]+";"):i+=n+" "}),i}var rp=function(e,t,i){var n=e.key+"-"+t.name;(i===!1||hy===!1)&&e.registered[n]===void 0&&(e.registered[n]=t.styles)},dy=function(e,t,i){rp(e,t,i);var n=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+n:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function fy(r){for(var e=0,t,i=0,n=r.length;n>=4;++i,n-=4)t=r.charCodeAt(i)&255|(r.charCodeAt(++i)&255)<<8|(r.charCodeAt(++i)&255)<<16|(r.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(n){case 3:e^=(r.charCodeAt(i+2)&255)<<16;case 2:e^=(r.charCodeAt(i+1)&255)<<8;case 1:e^=r.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var py={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function my(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var gy=/[A-Z]|^ms/g,by=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ip=function(e){return e.charCodeAt(1)===45},ou=function(e){return e!=null&&typeof e!="boolean"},Va=my(function(r){return ip(r)?r:r.replace(gy,"-$&").toLowerCase()}),au=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(by,function(i,n,s){return Wt={name:n,styles:s,next:Wt},n})}return py[e]!==1&&!ip(e)&&typeof t=="number"&&t!==0?t+"px":t};function Fn(r,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Wt={name:t.name,styles:t.styles,next:Wt},t.name;if(t.styles!==void 0){var i=t.next;if(i!==void 0)for(;i!==void 0;)Wt={name:i.name,styles:i.styles,next:Wt},i=i.next;var n=t.styles+";";return n}return yy(r,e,t)}case"function":{if(r!==void 0){var s=Wt,o=t(r);return Wt=s,Fn(r,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function yy(r,e,t){var i="";if(Array.isArray(t))for(var n=0;n<t.length;n++)i+=Fn(r,e,t[n])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":ou(o)&&(i+=Va(s)+":"+au(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)ou(o[a])&&(i+=Va(s)+":"+au(s,o[a])+";");else{var l=Fn(r,e,o);switch(s){case"animation":case"animationName":{i+=Va(s)+":"+l+";";break}default:i+=s+"{"+l+"}"}}}return i}var lu=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wt,vy=function(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";Wt=void 0;var o=e[0];o==null||o.raw===void 0?(n=!1,s+=Fn(i,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Fn(i,t,e[a]),n&&(s+=o[a]);lu.lastIndex=0;for(var l="",c;(c=lu.exec(s))!==null;)l+="-"+c[1];var h=fy(s)+l;return{name:h,styles:s,next:Wt}},Sy=function(e){return e()},np=Xh["useInsertionEffect"]?Xh["useInsertionEffect"]:!1,wy=np||Sy,sP=np||ee.useLayoutEffect,sp=ee.createContext(typeof HTMLElement<"u"?cy({key:"css"}):null);sp.Provider;var ky=function(e){return ee.forwardRef(function(t,i){var n=ee.useContext(sp);return e(t,n,i)})},Eo=ee.createContext({}),xy=function(e,t){if(typeof t=="function"){var i=t(e);return i}return _o({},e,t)},Cy=nu(function(r){return nu(function(e){return xy(r,e)})}),oP=function(e){var t=ee.useContext(Eo);return e.theme!==t&&(t=Cy(t)(e.theme)),ee.createElement(Eo.Provider,{value:t},e.children)};function Ay(){const r=ee.useContext(Eo);if(!r)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return r}var op=ee.createContext({});op.displayName="ColorModeContext";function ap(){const r=ee.useContext(op);if(r===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return r}function _y(){const r=ap(),e=Ay();return{...r,theme:e}}var Ey=(...r)=>r.filter(Boolean).join(" ");function Et(r){const e=typeof r;return r!=null&&(e==="object"||e==="function")&&!Array.isArray(r)}function Xr(r,...e){return Oy(r)?r(...e):r}var Oy=r=>typeof r=="function",aP=r=>r?"":void 0;function lP(...r){return function(t){r.some(i=>(i?.(t),t?.defaultPrevented))}}var Oo={exports:{}};Oo.exports;(function(r,e){var t=200,i="__lodash_hash_undefined__",n=800,s=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",h="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",b="[object Map]",g="[object Number]",v="[object Null]",k="[object Object]",E="[object Proxy]",A="[object RegExp]",_="[object Set]",O="[object String]",C="[object Undefined]",N="[object WeakMap]",I="[object ArrayBuffer]",V="[object DataView]",X="[object Float32Array]",xe="[object Float64Array]",Ne="[object Int8Array]",R="[object Int16Array]",J="[object Int32Array]",ve="[object Uint8Array]",Oe="[object Uint8ClampedArray]",Te="[object Uint16Array]",Se="[object Uint32Array]",Re=/[\\^$.*+?()[\]{}|]/g,mt=/^\[object .+?Constructor\]$/,Rt=/^(?:0|[1-9]\d*)$/,ne={};ne[X]=ne[xe]=ne[Ne]=ne[R]=ne[J]=ne[ve]=ne[Oe]=ne[Te]=ne[Se]=!0,ne[a]=ne[l]=ne[I]=ne[h]=ne[V]=ne[u]=ne[d]=ne[f]=ne[b]=ne[g]=ne[k]=ne[A]=ne[_]=ne[O]=ne[N]=!1;var Ji=typeof ks=="object"&&ks&&ks.Object===Object&&ks,d0=typeof self=="object"&&self&&self.Object===Object&&self,en=Ji||d0||Function("return this")(),Th=e&&!e.nodeType&&e,tn=Th&&!0&&r&&!r.nodeType&&r,Rh=tn&&tn.exports===Th,Ta=Rh&&Ji.process,Lh=function(){try{var m=tn&&tn.require&&tn.require("util").types;return m||Ta&&Ta.binding&&Ta.binding("util")}catch{}}(),Ph=Lh&&Lh.isTypedArray;function f0(m,S,x){switch(x.length){case 0:return m.call(S);case 1:return m.call(S,x[0]);case 2:return m.call(S,x[0],x[1]);case 3:return m.call(S,x[0],x[1],x[2])}return m.apply(S,x)}function p0(m,S){for(var x=-1,D=Array(m);++x<m;)D[x]=S(x);return D}function m0(m){return function(S){return m(S)}}function g0(m,S){return m?.[S]}function b0(m,S){return function(x){return m(S(x))}}var y0=Array.prototype,v0=Function.prototype,ps=Object.prototype,Ra=en["__core-js_shared__"],ms=v0.toString,rr=ps.hasOwnProperty,Ih=function(){var m=/[^.]+$/.exec(Ra&&Ra.keys&&Ra.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}(),Nh=ps.toString,S0=ms.call(Object),w0=RegExp("^"+ms.call(rr).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gs=Rh?en.Buffer:void 0,Mh=en.Symbol,Dh=en.Uint8Array,$h=gs?gs.allocUnsafe:void 0,Bh=b0(Object.getPrototypeOf,Object),zh=Object.create,k0=ps.propertyIsEnumerable,x0=y0.splice,Vr=Mh?Mh.toStringTag:void 0,bs=function(){try{var m=Ia(Object,"defineProperty");return m({},"",{}),m}catch{}}(),C0=gs?gs.isBuffer:void 0,Fh=Math.max,A0=Date.now,jh=Ia(en,"Map"),rn=Ia(Object,"create"),_0=function(){function m(){}return function(S){if(!Ur(S))return{};if(zh)return zh(S);m.prototype=S;var x=new m;return m.prototype=void 0,x}}();function Wr(m){var S=-1,x=m==null?0:m.length;for(this.clear();++S<x;){var D=m[S];this.set(D[0],D[1])}}function E0(){this.__data__=rn?rn(null):{},this.size=0}function O0(m){var S=this.has(m)&&delete this.__data__[m];return this.size-=S?1:0,S}function T0(m){var S=this.__data__;if(rn){var x=S[m];return x===i?void 0:x}return rr.call(S,m)?S[m]:void 0}function R0(m){var S=this.__data__;return rn?S[m]!==void 0:rr.call(S,m)}function L0(m,S){var x=this.__data__;return this.size+=this.has(m)?0:1,x[m]=rn&&S===void 0?i:S,this}Wr.prototype.clear=E0,Wr.prototype.delete=O0,Wr.prototype.get=T0,Wr.prototype.has=R0,Wr.prototype.set=L0;function ir(m){var S=-1,x=m==null?0:m.length;for(this.clear();++S<x;){var D=m[S];this.set(D[0],D[1])}}function P0(){this.__data__=[],this.size=0}function I0(m){var S=this.__data__,x=ys(S,m);if(x<0)return!1;var D=S.length-1;return x==D?S.pop():x0.call(S,x,1),--this.size,!0}function N0(m){var S=this.__data__,x=ys(S,m);return x<0?void 0:S[x][1]}function M0(m){return ys(this.__data__,m)>-1}function D0(m,S){var x=this.__data__,D=ys(x,m);return D<0?(++this.size,x.push([m,S])):x[D][1]=S,this}ir.prototype.clear=P0,ir.prototype.delete=I0,ir.prototype.get=N0,ir.prototype.has=M0,ir.prototype.set=D0;function ui(m){var S=-1,x=m==null?0:m.length;for(this.clear();++S<x;){var D=m[S];this.set(D[0],D[1])}}function $0(){this.size=0,this.__data__={hash:new Wr,map:new(jh||ir),string:new Wr}}function B0(m){var S=Ss(this,m).delete(m);return this.size-=S?1:0,S}function z0(m){return Ss(this,m).get(m)}function F0(m){return Ss(this,m).has(m)}function j0(m,S){var x=Ss(this,m),D=x.size;return x.set(m,S),this.size+=x.size==D?0:1,this}ui.prototype.clear=$0,ui.prototype.delete=B0,ui.prototype.get=z0,ui.prototype.has=F0,ui.prototype.set=j0;function di(m){var S=this.__data__=new ir(m);this.size=S.size}function H0(){this.__data__=new ir,this.size=0}function V0(m){var S=this.__data__,x=S.delete(m);return this.size=S.size,x}function W0(m){return this.__data__.get(m)}function U0(m){return this.__data__.has(m)}function G0(m,S){var x=this.__data__;if(x instanceof ir){var D=x.__data__;if(!jh||D.length<t-1)return D.push([m,S]),this.size=++x.size,this;x=this.__data__=new ui(D)}return x.set(m,S),this.size=x.size,this}di.prototype.clear=H0,di.prototype.delete=V0,di.prototype.get=W0,di.prototype.has=U0,di.prototype.set=G0;function K0(m,S){var x=Da(m),D=!x&&Ma(m),ie=!x&&!D&&Gh(m),we=!x&&!D&&!ie&&qh(m),Le=x||D||ie||we,re=Le?p0(m.length,String):[],Pe=re.length;for(var xt in m)(S||rr.call(m,xt))&&!(Le&&(xt=="length"||ie&&(xt=="offset"||xt=="parent")||we&&(xt=="buffer"||xt=="byteLength"||xt=="byteOffset")||Wh(xt,Pe)))&&re.push(xt);return re}function La(m,S,x){(x!==void 0&&!ws(m[S],x)||x===void 0&&!(S in m))&&Pa(m,S,x)}function q0(m,S,x){var D=m[S];(!(rr.call(m,S)&&ws(D,x))||x===void 0&&!(S in m))&&Pa(m,S,x)}function ys(m,S){for(var x=m.length;x--;)if(ws(m[x][0],S))return x;return-1}function Pa(m,S,x){S=="__proto__"&&bs?bs(m,S,{configurable:!0,enumerable:!0,value:x,writable:!0}):m[S]=x}var Y0=lb();function vs(m){return m==null?m===void 0?C:v:Vr&&Vr in Object(m)?cb(m):mb(m)}function Hh(m){return nn(m)&&vs(m)==a}function Z0(m){if(!Ur(m)||fb(m))return!1;var S=Ba(m)?w0:mt;return S.test(vb(m))}function Q0(m){return nn(m)&&Kh(m.length)&&!!ne[vs(m)]}function X0(m){if(!Ur(m))return pb(m);var S=Uh(m),x=[];for(var D in m)D=="constructor"&&(S||!rr.call(m,D))||x.push(D);return x}function Vh(m,S,x,D,ie){m!==S&&Y0(S,function(we,Le){if(ie||(ie=new di),Ur(we))J0(m,S,Le,x,Vh,D,ie);else{var re=D?D(Na(m,Le),we,Le+"",m,S,ie):void 0;re===void 0&&(re=we),La(m,Le,re)}},Yh)}function J0(m,S,x,D,ie,we,Le){var re=Na(m,x),Pe=Na(S,x),xt=Le.get(Pe);if(xt){La(m,x,xt);return}var gt=we?we(re,Pe,x+"",m,S,Le):void 0,sn=gt===void 0;if(sn){var za=Da(Pe),Fa=!za&&Gh(Pe),Qh=!za&&!Fa&&qh(Pe);gt=Pe,za||Fa||Qh?Da(re)?gt=re:Sb(re)?gt=sb(re):Fa?(sn=!1,gt=rb(Pe,!0)):Qh?(sn=!1,gt=nb(Pe,!0)):gt=[]:wb(Pe)||Ma(Pe)?(gt=re,Ma(re)?gt=kb(re):(!Ur(re)||Ba(re))&&(gt=hb(Pe))):sn=!1}sn&&(Le.set(Pe,gt),ie(gt,Pe,D,we,Le),Le.delete(Pe)),La(m,x,gt)}function eb(m,S){return bb(gb(m,S,Zh),m+"")}var tb=bs?function(m,S){return bs(m,"toString",{configurable:!0,enumerable:!1,value:Cb(S),writable:!0})}:Zh;function rb(m,S){if(S)return m.slice();var x=m.length,D=$h?$h(x):new m.constructor(x);return m.copy(D),D}function ib(m){var S=new m.constructor(m.byteLength);return new Dh(S).set(new Dh(m)),S}function nb(m,S){var x=S?ib(m.buffer):m.buffer;return new m.constructor(x,m.byteOffset,m.length)}function sb(m,S){var x=-1,D=m.length;for(S||(S=Array(D));++x<D;)S[x]=m[x];return S}function ob(m,S,x,D){var ie=!x;x||(x={});for(var we=-1,Le=S.length;++we<Le;){var re=S[we],Pe=D?D(x[re],m[re],re,x,m):void 0;Pe===void 0&&(Pe=m[re]),ie?Pa(x,re,Pe):q0(x,re,Pe)}return x}function ab(m){return eb(function(S,x){var D=-1,ie=x.length,we=ie>1?x[ie-1]:void 0,Le=ie>2?x[2]:void 0;for(we=m.length>3&&typeof we=="function"?(ie--,we):void 0,Le&&ub(x[0],x[1],Le)&&(we=ie<3?void 0:we,ie=1),S=Object(S);++D<ie;){var re=x[D];re&&m(S,re,D,we)}return S})}function lb(m){return function(S,x,D){for(var ie=-1,we=Object(S),Le=D(S),re=Le.length;re--;){var Pe=Le[m?re:++ie];if(x(we[Pe],Pe,we)===!1)break}return S}}function Ss(m,S){var x=m.__data__;return db(S)?x[typeof S=="string"?"string":"hash"]:x.map}function Ia(m,S){var x=g0(m,S);return Z0(x)?x:void 0}function cb(m){var S=rr.call(m,Vr),x=m[Vr];try{m[Vr]=void 0;var D=!0}catch{}var ie=Nh.call(m);return D&&(S?m[Vr]=x:delete m[Vr]),ie}function hb(m){return typeof m.constructor=="function"&&!Uh(m)?_0(Bh(m)):{}}function Wh(m,S){var x=typeof m;return S=S??o,!!S&&(x=="number"||x!="symbol"&&Rt.test(m))&&m>-1&&m%1==0&&m<S}function ub(m,S,x){if(!Ur(x))return!1;var D=typeof S;return(D=="number"?$a(x)&&Wh(S,x.length):D=="string"&&S in x)?ws(x[S],m):!1}function db(m){var S=typeof m;return S=="string"||S=="number"||S=="symbol"||S=="boolean"?m!=="__proto__":m===null}function fb(m){return!!Ih&&Ih in m}function Uh(m){var S=m&&m.constructor,x=typeof S=="function"&&S.prototype||ps;return m===x}function pb(m){var S=[];if(m!=null)for(var x in Object(m))S.push(x);return S}function mb(m){return Nh.call(m)}function gb(m,S,x){return S=Fh(S===void 0?m.length-1:S,0),function(){for(var D=arguments,ie=-1,we=Fh(D.length-S,0),Le=Array(we);++ie<we;)Le[ie]=D[S+ie];ie=-1;for(var re=Array(S+1);++ie<S;)re[ie]=D[ie];return re[S]=x(Le),f0(m,this,re)}}function Na(m,S){if(!(S==="constructor"&&typeof m[S]=="function")&&S!="__proto__")return m[S]}var bb=yb(tb);function yb(m){var S=0,x=0;return function(){var D=A0(),ie=s-(D-x);if(x=D,ie>0){if(++S>=n)return arguments[0]}else S=0;return m.apply(void 0,arguments)}}function vb(m){if(m!=null){try{return ms.call(m)}catch{}try{return m+""}catch{}}return""}function ws(m,S){return m===S||m!==m&&S!==S}var Ma=Hh(function(){return arguments}())?Hh:function(m){return nn(m)&&rr.call(m,"callee")&&!k0.call(m,"callee")},Da=Array.isArray;function $a(m){return m!=null&&Kh(m.length)&&!Ba(m)}function Sb(m){return nn(m)&&$a(m)}var Gh=C0||Ab;function Ba(m){if(!Ur(m))return!1;var S=vs(m);return S==f||S==p||S==c||S==E}function Kh(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=o}function Ur(m){var S=typeof m;return m!=null&&(S=="object"||S=="function")}function nn(m){return m!=null&&typeof m=="object"}function wb(m){if(!nn(m)||vs(m)!=k)return!1;var S=Bh(m);if(S===null)return!0;var x=rr.call(S,"constructor")&&S.constructor;return typeof x=="function"&&x instanceof x&&ms.call(x)==S0}var qh=Ph?m0(Ph):Q0;function kb(m){return ob(m,Yh(m))}function Yh(m){return $a(m)?K0(m,!0):X0(m)}var xb=ab(function(m,S,x,D){Vh(m,S,x,D)});function Cb(m){return function(){return m}}function Zh(m){return m}function Ab(){return!1}r.exports=xb})(Oo,Oo.exports);var Ty=Oo.exports;const _t=Gf(Ty);var Ry=r=>/!(important)?$/.test(r),cu=r=>typeof r=="string"?r.replace(/!(important)?$/,"").trim():r,Ly=(r,e)=>t=>{const i=String(e),n=Ry(i),s=cu(i),o=r?`${r}.${s}`:s;let a=Et(t.__cssMap)&&o in t.__cssMap?t.__cssMap[o].varRef:e;return a=cu(a),n?`${a} !important`:a};function eh(r){const{scale:e,transform:t,compose:i}=r;return(s,o)=>{var a;const l=Ly(e,s)(o);let c=(a=t?.(l,o))!=null?a:l;return i&&(c=i(c,o)),c}}var Cs=(...r)=>e=>r.reduce((t,i)=>i(t),e);function Ct(r,e){return t=>{const i={property:t,scale:r};return i.transform=eh({scale:r,transform:e}),i}}var Py=({rtl:r,ltr:e})=>t=>t.direction==="rtl"?r:e;function Iy(r){const{property:e,scale:t,transform:i}=r;return{scale:t,property:Py(e),transform:t?eh({scale:t,compose:i}):i}}var lp=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function Ny(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...lp].join(" ")}function My(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...lp].join(" ")}var Dy={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},$y={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function By(r){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":r,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var zy={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},Dl={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Fy=new Set(Object.values(Dl)),$l=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),jy=r=>r.trim();function Hy(r,e){if(r==null||$l.has(r))return r;if(!(Bl(r)||$l.has(r)))return`url('${r}')`;const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(r),s=n?.[1],o=n?.[2];if(!s||!o)return r;const a=s.includes("-gradient")?s:`${s}-gradient`,[l,...c]=o.split(",").map(jy).filter(Boolean);if(c?.length===0)return r;const h=l in Dl?Dl[l]:l;c.unshift(h);const u=c.map(d=>{if(Fy.has(d))return d;const f=d.indexOf(" "),[p,b]=f!==-1?[d.substr(0,f),d.substr(f+1)]:[d],g=Bl(b)?b:b&&b.split(" "),v=`colors.${p}`,k=v in e.__cssMap?e.__cssMap[v].varRef:p;return g?[k,...Array.isArray(g)?g:[g]].join(" "):k});return`${a}(${u.join(", ")})`}var Bl=r=>typeof r=="string"&&r.includes("(")&&r.includes(")"),Vy=(r,e)=>Hy(r,e??{});function Wy(r){return/^var\(--.+\)$/.test(r)}var Uy=r=>{const e=parseFloat(r.toString()),t=r.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}},$t=r=>e=>`${r}(${e})`,oe={filter(r){return r!=="auto"?r:Dy},backdropFilter(r){return r!=="auto"?r:$y},ring(r){return By(oe.px(r))},bgClip(r){return r==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:r}},transform(r){return r==="auto"?Ny():r==="auto-gpu"?My():r},vh(r){return r==="$100vh"?"var(--chakra-vh)":r},px(r){if(r==null)return r;const{unitless:e}=Uy(r);return e||typeof r=="number"?`${r}px`:r},fraction(r){return typeof r!="number"||r>1?r:`${r*100}%`},float(r,e){const t={left:"right",right:"left"};return e.direction==="rtl"?t[r]:r},degree(r){if(Wy(r)||r==null)return r;const e=typeof r=="string"&&!r.endsWith("deg");return typeof r=="number"||e?`${r}deg`:r},gradient:Vy,blur:$t("blur"),opacity:$t("opacity"),brightness:$t("brightness"),contrast:$t("contrast"),dropShadow:$t("drop-shadow"),grayscale:$t("grayscale"),hueRotate:$t("hue-rotate"),invert:$t("invert"),saturate:$t("saturate"),sepia:$t("sepia"),bgImage(r){return r==null||Bl(r)||$l.has(r)?r:`url(${r})`},outline(r){const e=String(r)==="0"||String(r)==="none";return r!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:r}},flexDirection(r){var e;const{space:t,divide:i}=(e=zy[r])!=null?e:{},n={flexDirection:r};return t&&(n[t]=1),i&&(n[i]=1),n}},w={borderWidths:Ct("borderWidths"),borderStyles:Ct("borderStyles"),colors:Ct("colors"),borders:Ct("borders"),gradients:Ct("gradients",oe.gradient),radii:Ct("radii",oe.px),space:Ct("space",Cs(oe.vh,oe.px)),spaceT:Ct("space",Cs(oe.vh,oe.px)),degreeT(r){return{property:r,transform:oe.degree}},prop(r,e,t){return{property:r,scale:e,...e&&{transform:eh({scale:e,transform:t})}}},propT(r,e){return{property:r,transform:e}},sizes:Ct("sizes",Cs(oe.vh,oe.px)),sizesT:Ct("sizes",Cs(oe.vh,oe.fraction)),shadows:Ct("shadows"),logical:Iy,blur:Ct("blur",oe.blur)},Js={background:w.colors("background"),backgroundColor:w.colors("backgroundColor"),backgroundImage:w.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:oe.bgClip},bgSize:w.prop("backgroundSize"),bgPosition:w.prop("backgroundPosition"),bg:w.colors("background"),bgColor:w.colors("backgroundColor"),bgPos:w.prop("backgroundPosition"),bgRepeat:w.prop("backgroundRepeat"),bgAttachment:w.prop("backgroundAttachment"),bgGradient:w.gradients("backgroundImage"),bgClip:{transform:oe.bgClip}};Object.assign(Js,{bgImage:Js.backgroundImage,bgImg:Js.backgroundImage});var ae={border:w.borders("border"),borderWidth:w.borderWidths("borderWidth"),borderStyle:w.borderStyles("borderStyle"),borderColor:w.colors("borderColor"),borderRadius:w.radii("borderRadius"),borderTop:w.borders("borderTop"),borderBlockStart:w.borders("borderBlockStart"),borderTopLeftRadius:w.radii("borderTopLeftRadius"),borderStartStartRadius:w.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:w.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:w.radii("borderTopRightRadius"),borderStartEndRadius:w.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:w.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:w.borders("borderRight"),borderInlineEnd:w.borders("borderInlineEnd"),borderBottom:w.borders("borderBottom"),borderBlockEnd:w.borders("borderBlockEnd"),borderBottomLeftRadius:w.radii("borderBottomLeftRadius"),borderBottomRightRadius:w.radii("borderBottomRightRadius"),borderLeft:w.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:w.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:w.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:w.borders(["borderLeft","borderRight"]),borderInline:w.borders("borderInline"),borderY:w.borders(["borderTop","borderBottom"]),borderBlock:w.borders("borderBlock"),borderTopWidth:w.borderWidths("borderTopWidth"),borderBlockStartWidth:w.borderWidths("borderBlockStartWidth"),borderTopColor:w.colors("borderTopColor"),borderBlockStartColor:w.colors("borderBlockStartColor"),borderTopStyle:w.borderStyles("borderTopStyle"),borderBlockStartStyle:w.borderStyles("borderBlockStartStyle"),borderBottomWidth:w.borderWidths("borderBottomWidth"),borderBlockEndWidth:w.borderWidths("borderBlockEndWidth"),borderBottomColor:w.colors("borderBottomColor"),borderBlockEndColor:w.colors("borderBlockEndColor"),borderBottomStyle:w.borderStyles("borderBottomStyle"),borderBlockEndStyle:w.borderStyles("borderBlockEndStyle"),borderLeftWidth:w.borderWidths("borderLeftWidth"),borderInlineStartWidth:w.borderWidths("borderInlineStartWidth"),borderLeftColor:w.colors("borderLeftColor"),borderInlineStartColor:w.colors("borderInlineStartColor"),borderLeftStyle:w.borderStyles("borderLeftStyle"),borderInlineStartStyle:w.borderStyles("borderInlineStartStyle"),borderRightWidth:w.borderWidths("borderRightWidth"),borderInlineEndWidth:w.borderWidths("borderInlineEndWidth"),borderRightColor:w.colors("borderRightColor"),borderInlineEndColor:w.colors("borderInlineEndColor"),borderRightStyle:w.borderStyles("borderRightStyle"),borderInlineEndStyle:w.borderStyles("borderInlineEndStyle"),borderTopRadius:w.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:w.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:w.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:w.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(ae,{rounded:ae.borderRadius,roundedTop:ae.borderTopRadius,roundedTopLeft:ae.borderTopLeftRadius,roundedTopRight:ae.borderTopRightRadius,roundedTopStart:ae.borderStartStartRadius,roundedTopEnd:ae.borderStartEndRadius,roundedBottom:ae.borderBottomRadius,roundedBottomLeft:ae.borderBottomLeftRadius,roundedBottomRight:ae.borderBottomRightRadius,roundedBottomStart:ae.borderEndStartRadius,roundedBottomEnd:ae.borderEndEndRadius,roundedLeft:ae.borderLeftRadius,roundedRight:ae.borderRightRadius,roundedStart:ae.borderInlineStartRadius,roundedEnd:ae.borderInlineEndRadius,borderStart:ae.borderInlineStart,borderEnd:ae.borderInlineEnd,borderTopStartRadius:ae.borderStartStartRadius,borderTopEndRadius:ae.borderStartEndRadius,borderBottomStartRadius:ae.borderEndStartRadius,borderBottomEndRadius:ae.borderEndEndRadius,borderStartRadius:ae.borderInlineStartRadius,borderEndRadius:ae.borderInlineEndRadius,borderStartWidth:ae.borderInlineStartWidth,borderEndWidth:ae.borderInlineEndWidth,borderStartColor:ae.borderInlineStartColor,borderEndColor:ae.borderInlineEndColor,borderStartStyle:ae.borderInlineStartStyle,borderEndStyle:ae.borderInlineEndStyle});var Gy={color:w.colors("color"),textColor:w.colors("color"),fill:w.colors("fill"),stroke:w.colors("stroke")},zl={boxShadow:w.shadows("boxShadow"),mixBlendMode:!0,blendMode:w.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:w.prop("backgroundBlendMode"),opacity:!0};Object.assign(zl,{shadow:zl.boxShadow});var Ky={filter:{transform:oe.filter},blur:w.blur("--chakra-blur"),brightness:w.propT("--chakra-brightness",oe.brightness),contrast:w.propT("--chakra-contrast",oe.contrast),hueRotate:w.degreeT("--chakra-hue-rotate"),invert:w.propT("--chakra-invert",oe.invert),saturate:w.propT("--chakra-saturate",oe.saturate),dropShadow:w.propT("--chakra-drop-shadow",oe.dropShadow),backdropFilter:{transform:oe.backdropFilter},backdropBlur:w.blur("--chakra-backdrop-blur"),backdropBrightness:w.propT("--chakra-backdrop-brightness",oe.brightness),backdropContrast:w.propT("--chakra-backdrop-contrast",oe.contrast),backdropHueRotate:w.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:w.propT("--chakra-backdrop-invert",oe.invert),backdropSaturate:w.propT("--chakra-backdrop-saturate",oe.saturate)},To={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:oe.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:w.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:w.space("gap"),rowGap:w.space("rowGap"),columnGap:w.space("columnGap")};Object.assign(To,{flexDir:To.flexDirection});var cp={gridGap:w.space("gridGap"),gridColumnGap:w.space("gridColumnGap"),gridRowGap:w.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},qy={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:oe.outline},outlineOffset:!0,outlineColor:w.colors("outlineColor")},At={width:w.sizesT("width"),inlineSize:w.sizesT("inlineSize"),height:w.sizes("height"),blockSize:w.sizes("blockSize"),boxSize:w.sizes(["width","height"]),minWidth:w.sizes("minWidth"),minInlineSize:w.sizes("minInlineSize"),minHeight:w.sizes("minHeight"),minBlockSize:w.sizes("minBlockSize"),maxWidth:w.sizes("maxWidth"),maxInlineSize:w.sizes("maxInlineSize"),maxHeight:w.sizes("maxHeight"),maxBlockSize:w.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(r,e)=>{var t,i,n;return{[`@media screen and (min-width: ${(n=(i=(t=e.__breakpoints)==null?void 0:t.get(r))==null?void 0:i.minW)!=null?n:r})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(r,e)=>{var t,i,n;return{[`@media screen and (max-width: ${(n=(i=(t=e.__breakpoints)==null?void 0:t.get(r))==null?void 0:i._minW)!=null?n:r})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:w.propT("float",oe.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(At,{w:At.width,h:At.height,minW:At.minWidth,maxW:At.maxWidth,minH:At.minHeight,maxH:At.maxHeight,overscroll:At.overscrollBehavior,overscrollX:At.overscrollBehaviorX,overscrollY:At.overscrollBehaviorY});var Yy={listStyleType:!0,listStylePosition:!0,listStylePos:w.prop("listStylePosition"),listStyleImage:!0,listStyleImg:w.prop("listStyleImage")};function Zy(r,e,t,i){const n=typeof e=="string"?e.split("."):[e];for(i=0;i<n.length&&r;i+=1)r=r[n[i]];return r===void 0?t:r}var Qy=r=>{const e=new WeakMap;return(i,n,s,o)=>{if(typeof i>"u")return r(i,n,s);e.has(i)||e.set(i,new Map);const a=e.get(i);if(a.has(n))return a.get(n);const l=r(i,n,s,o);return a.set(n,l),l}},Xy=Qy(Zy),Jy={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},ev={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Wa=(r,e,t)=>{const i={},n=Xy(r,e,{});for(const s in n)s in t&&t[s]!=null||(i[s]=n[s]);return i},tv={srOnly:{transform(r){return r===!0?Jy:r==="focusable"?ev:{}}},layerStyle:{processResult:!0,transform:(r,e,t)=>Wa(e,`layerStyles.${r}`,t)},textStyle:{processResult:!0,transform:(r,e,t)=>Wa(e,`textStyles.${r}`,t)},apply:{processResult:!0,transform:(r,e,t)=>Wa(e,r,t)}},An={position:!0,pos:w.prop("position"),zIndex:w.prop("zIndex","zIndices"),inset:w.spaceT("inset"),insetX:w.spaceT(["left","right"]),insetInline:w.spaceT("insetInline"),insetY:w.spaceT(["top","bottom"]),insetBlock:w.spaceT("insetBlock"),top:w.spaceT("top"),insetBlockStart:w.spaceT("insetBlockStart"),bottom:w.spaceT("bottom"),insetBlockEnd:w.spaceT("insetBlockEnd"),left:w.spaceT("left"),insetInlineStart:w.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:w.spaceT("right"),insetInlineEnd:w.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(An,{insetStart:An.insetInlineStart,insetEnd:An.insetInlineEnd});var rv={ring:{transform:oe.ring},ringColor:w.colors("--chakra-ring-color"),ringOffset:w.prop("--chakra-ring-offset-width"),ringOffsetColor:w.colors("--chakra-ring-offset-color"),ringInset:w.prop("--chakra-ring-inset")},Ae={margin:w.spaceT("margin"),marginTop:w.spaceT("marginTop"),marginBlockStart:w.spaceT("marginBlockStart"),marginRight:w.spaceT("marginRight"),marginInlineEnd:w.spaceT("marginInlineEnd"),marginBottom:w.spaceT("marginBottom"),marginBlockEnd:w.spaceT("marginBlockEnd"),marginLeft:w.spaceT("marginLeft"),marginInlineStart:w.spaceT("marginInlineStart"),marginX:w.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:w.spaceT("marginInline"),marginY:w.spaceT(["marginTop","marginBottom"]),marginBlock:w.spaceT("marginBlock"),padding:w.space("padding"),paddingTop:w.space("paddingTop"),paddingBlockStart:w.space("paddingBlockStart"),paddingRight:w.space("paddingRight"),paddingBottom:w.space("paddingBottom"),paddingBlockEnd:w.space("paddingBlockEnd"),paddingLeft:w.space("paddingLeft"),paddingInlineStart:w.space("paddingInlineStart"),paddingInlineEnd:w.space("paddingInlineEnd"),paddingX:w.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:w.space("paddingInline"),paddingY:w.space(["paddingTop","paddingBottom"]),paddingBlock:w.space("paddingBlock")};Object.assign(Ae,{m:Ae.margin,mt:Ae.marginTop,mr:Ae.marginRight,me:Ae.marginInlineEnd,marginEnd:Ae.marginInlineEnd,mb:Ae.marginBottom,ml:Ae.marginLeft,ms:Ae.marginInlineStart,marginStart:Ae.marginInlineStart,mx:Ae.marginX,my:Ae.marginY,p:Ae.padding,pt:Ae.paddingTop,py:Ae.paddingY,px:Ae.paddingX,pb:Ae.paddingBottom,pl:Ae.paddingLeft,ps:Ae.paddingInlineStart,paddingStart:Ae.paddingInlineStart,pr:Ae.paddingRight,pe:Ae.paddingInlineEnd,paddingEnd:Ae.paddingInlineEnd});var iv={textDecorationColor:w.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:w.shadows("textShadow")},nv={clipPath:!0,transform:w.propT("transform",oe.transform),transformOrigin:!0,translateX:w.spaceT("--chakra-translate-x"),translateY:w.spaceT("--chakra-translate-y"),skewX:w.degreeT("--chakra-skew-x"),skewY:w.degreeT("--chakra-skew-y"),scaleX:w.prop("--chakra-scale-x"),scaleY:w.prop("--chakra-scale-y"),scale:w.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:w.degreeT("--chakra-rotate")},sv={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:w.prop("transitionDuration","transition.duration"),transitionProperty:w.prop("transitionProperty","transition.property"),transitionTimingFunction:w.prop("transitionTimingFunction","transition.easing")},ov={fontFamily:w.prop("fontFamily","fonts"),fontSize:w.prop("fontSize","fontSizes",oe.px),fontWeight:w.prop("fontWeight","fontWeights"),lineHeight:w.prop("lineHeight","lineHeights"),letterSpacing:w.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(r){if(r===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},av={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:w.spaceT("scrollMargin"),scrollMarginTop:w.spaceT("scrollMarginTop"),scrollMarginBottom:w.spaceT("scrollMarginBottom"),scrollMarginLeft:w.spaceT("scrollMarginLeft"),scrollMarginRight:w.spaceT("scrollMarginRight"),scrollMarginX:w.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:w.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:w.spaceT("scrollPadding"),scrollPaddingTop:w.spaceT("scrollPaddingTop"),scrollPaddingBottom:w.spaceT("scrollPaddingBottom"),scrollPaddingLeft:w.spaceT("scrollPaddingLeft"),scrollPaddingRight:w.spaceT("scrollPaddingRight"),scrollPaddingX:w.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:w.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function hp(r){return Et(r)&&r.reference?r.reference:String(r)}var fa=(r,...e)=>e.map(hp).join(` ${r} `).replace(/calc/g,""),hu=(...r)=>`calc(${fa("+",...r)})`,uu=(...r)=>`calc(${fa("-",...r)})`,Fl=(...r)=>`calc(${fa("*",...r)})`,du=(...r)=>`calc(${fa("/",...r)})`,fu=r=>{const e=hp(r);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Fl(e,-1)},qr=Object.assign(r=>({add:(...e)=>qr(hu(r,...e)),subtract:(...e)=>qr(uu(r,...e)),multiply:(...e)=>qr(Fl(r,...e)),divide:(...e)=>qr(du(r,...e)),negate:()=>qr(fu(r)),toString:()=>r.toString()}),{add:hu,subtract:uu,multiply:Fl,divide:du,negate:fu});function lv(r,e="-"){return r.replace(/\s+/g,e)}function cv(r){const e=lv(r.toString());return uv(hv(e))}function hv(r){return r.includes("\\.")?r:!Number.isInteger(parseFloat(r.toString()))?r.replace(".","\\."):r}function uv(r){return r.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function dv(r,e=""){return[e,r].filter(Boolean).join("-")}function fv(r,e){return`var(${r}${e?`, ${e}`:""})`}function pv(r,e=""){return cv(`--${dv(r,e)}`)}function G(r,e,t){const i=pv(r,t);return{variable:i,reference:fv(i,e)}}function mv(r,e){const t={};for(const i of e){if(Array.isArray(i)){const[n,s]=i;t[n]=G(`${r}-${n}`,s);continue}t[i]=G(`${r}-${i}`)}return t}function gv(r){const e=r==null?0:r.length;return e?r[e-1]:void 0}function bv(r){const e=parseFloat(r.toString()),t=r.toString().replace(String(e),"");return{unitless:!t,value:e,unit:t}}function jl(r){if(r==null)return r;const{unitless:e}=bv(r);return e||typeof r=="number"?`${r}px`:r}var up=(r,e)=>parseInt(r[1],10)>parseInt(e[1],10)?1:-1,th=r=>Object.fromEntries(Object.entries(r).sort(up));function pu(r){const e=th(r);return Object.assign(Object.values(e),e)}function yv(r){const e=Object.keys(th(r));return new Set(e)}function mu(r){var e;if(!r)return r;r=(e=jl(r))!=null?e:r;const t=-.02;return typeof r=="number"?`${r+t}`:r.replace(/(\d+\.?\d*)/u,i=>`${parseFloat(i)+t}`)}function pn(r,e){const t=["@media screen"];return r&&t.push("and",`(min-width: ${jl(r)})`),e&&t.push("and",`(max-width: ${jl(e)})`),t.join(" ")}function vv(r){var e;if(!r)return null;r.base=(e=r.base)!=null?e:"0px";const t=pu(r),i=Object.entries(r).sort(up).map(([o,a],l,c)=>{var h;let[,u]=(h=c[l+1])!=null?h:[];return u=parseFloat(u)>0?mu(u):void 0,{_minW:mu(a),breakpoint:o,minW:a,maxW:u,maxWQuery:pn(null,u),minWQuery:pn(a),minMaxQuery:pn(a,u)}}),n=yv(r),s=Array.from(n.values());return{keys:n,normalized:t,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>n.has(l))},asObject:th(r),asArray:pu(r),details:i,get(o){return i.find(a=>a.breakpoint===o)},media:[null,...t.map(o=>pn(o)).slice(1)],toArrayValue(o){if(!Et(o))throw new Error("toArrayValue: value must be an object");const a=s.map(l=>{var c;return(c=o[l])!=null?c:null});for(;gv(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const h=s[c];return h!=null&&l!=null&&(a[h]=l),a},{})}}}var qe={hover:(r,e)=>`${r}:hover ${e}, ${r}[data-hover] ${e}`,focus:(r,e)=>`${r}:focus ${e}, ${r}[data-focus] ${e}`,focusVisible:(r,e)=>`${r}:focus-visible ${e}`,focusWithin:(r,e)=>`${r}:focus-within ${e}`,active:(r,e)=>`${r}:active ${e}, ${r}[data-active] ${e}`,disabled:(r,e)=>`${r}:disabled ${e}, ${r}[data-disabled] ${e}`,invalid:(r,e)=>`${r}:invalid ${e}, ${r}[data-invalid] ${e}`,checked:(r,e)=>`${r}:checked ${e}, ${r}[data-checked] ${e}`,indeterminate:(r,e)=>`${r}:indeterminate ${e}, ${r}[aria-checked=mixed] ${e}, ${r}[data-indeterminate] ${e}`,readOnly:(r,e)=>`${r}:read-only ${e}, ${r}[readonly] ${e}, ${r}[data-read-only] ${e}`,expanded:(r,e)=>`${r}:read-only ${e}, ${r}[aria-expanded=true] ${e}, ${r}[data-expanded] ${e}`,placeholderShown:(r,e)=>`${r}:placeholder-shown ${e}`},Sr=r=>dp(e=>r(e,"&"),"[role=group]","[data-group]",".group"),nr=r=>dp(e=>r(e,"~ &"),"[data-peer]",".peer"),dp=(r,...e)=>e.map(r).join(", "),pa={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Sr(qe.hover),_peerHover:nr(qe.hover),_groupFocus:Sr(qe.focus),_peerFocus:nr(qe.focus),_groupFocusVisible:Sr(qe.focusVisible),_peerFocusVisible:nr(qe.focusVisible),_groupActive:Sr(qe.active),_peerActive:nr(qe.active),_groupDisabled:Sr(qe.disabled),_peerDisabled:nr(qe.disabled),_groupInvalid:Sr(qe.invalid),_peerInvalid:nr(qe.invalid),_groupChecked:Sr(qe.checked),_peerChecked:nr(qe.checked),_groupFocusWithin:Sr(qe.focusWithin),_peerFocusWithin:nr(qe.focusWithin),_peerPlaceholderShown:nr(qe.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},fp=Object.keys(pa);function gu(r,e){return G(String(r).replace(/\./g,"-"),void 0,e)}function Sv(r,e){let t={};const i={};for(const[n,s]of Object.entries(r)){const{isSemantic:o,value:a}=s,{variable:l,reference:c}=gu(n,e?.cssVarPrefix);if(!o){if(n.startsWith("space")){const d=n.split("."),[f,...p]=d,b=`${f}.-${p.join(".")}`,g=qr.negate(a),v=qr.negate(c);i[b]={value:g,var:l,varRef:v}}t[l]=a,i[n]={value:a,var:l,varRef:c};continue}const h=d=>{const p=[String(n).split(".")[0],d].join(".");if(!r[p])return d;const{reference:g}=gu(p,e?.cssVarPrefix);return g},u=Et(a)?a:{default:a};t=_t(t,Object.entries(u).reduce((d,[f,p])=>{var b,g;if(!p)return d;const v=h(`${p}`);if(f==="default")return d[l]=v,d;const k=(g=(b=pa)==null?void 0:b[f])!=null?g:f;return d[k]={[l]:v},d},{})),i[n]={value:c,var:l,varRef:c}}return{cssVars:t,cssMap:i}}function wv(r,e=[]){const t=Object.assign({},r);for(const i of e)i in t&&delete t[i];return t}function kv(r,e){const t={};for(const i of e)i in r&&(t[i]=r[i]);return t}function xv(r){return typeof r=="object"&&r!=null&&!Array.isArray(r)}function bu(r,e,t={}){const{stop:i,getKey:n}=t;function s(o,a=[]){var l;if(xv(o)||Array.isArray(o)){const c={};for(const[h,u]of Object.entries(o)){const d=(l=n?.(h))!=null?l:h,f=[...a,d];if(i?.(o,f))return e(o,a);c[d]=s(u,f)}return c}return e(o,a)}return s(r)}var Cv=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function Av(r){return kv(r,Cv)}function _v(r){return r.semanticTokens}function Ev(r){const{__cssMap:e,__cssVars:t,__breakpoints:i,...n}=r;return n}var Ov=r=>fp.includes(r)||r==="default";function Tv({tokens:r,semanticTokens:e}){const t={};return bu(r,(i,n)=>{i!=null&&(t[n.join(".")]={isSemantic:!1,value:i})}),bu(e,(i,n)=>{i!=null&&(t[n.join(".")]={isSemantic:!0,value:i})},{stop:i=>Object.keys(i).every(Ov)}),t}function cP(r){var e;const t=Ev(r),i=Av(t),n=_v(t),s=Tv({tokens:i,semanticTokens:n}),o=(e=t.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=Sv(s,{cssVarPrefix:o});return Object.assign(t,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:vv(t.breakpoints)}),t}var rh=_t({},Js,ae,Gy,To,At,Ky,rv,qy,cp,tv,An,zl,Ae,av,ov,iv,nv,Yy,sv);Object.assign({},Ae,At,To,cp,An);var Rv=[...Object.keys(rh),...fp],Lv={...rh,...pa},Pv=r=>r in Lv,Iv=r=>e=>{if(!e.__breakpoints)return r;const{isResponsive:t,toArrayValue:i,media:n}=e.__breakpoints,s={};for(const o in r){let a=Xr(r[o],e);if(a==null)continue;if(a=Et(a)&&t(a)?i(a):a,!Array.isArray(a)){s[o]=a;continue}const l=a.slice(0,n.length).length;for(let c=0;c<l;c+=1){const h=n?.[c];if(!h){s[o]=a[c];continue}s[h]=s[h]||{},a[c]!=null&&(s[h][o]=a[c])}}return s};function Nv(r){const e=[];let t="",i=!1;for(let n=0;n<r.length;n++){const s=r[n];s==="("?(i=!0,t+=s):s===")"?(i=!1,t+=s):s===","&&!i?(e.push(t),t=""):t+=s}return t=t.trim(),t&&e.push(t),e}function Mv(r){return/^var\(--.+\)$/.test(r)}var Dv=(r,e)=>r.startsWith("--")&&typeof e=="string"&&!Mv(e),$v=(r,e)=>{var t,i;if(e==null)return e;const n=l=>{var c,h;return(h=(c=r.__cssMap)==null?void 0:c[l])==null?void 0:h.varRef},s=l=>{var c;return(c=n(l))!=null?c:l},[o,a]=Nv(e);return e=(i=(t=n(o))!=null?t:s(a))!=null?i:s(e),e};function Bv(r){const{configs:e={},pseudos:t={},theme:i}=r,n=(s,o=!1)=>{var a,l,c;const h=Xr(s,i),u=Iv(h)(i);let d={};for(let f in u){const p=u[f];let b=Xr(p,i);f in t&&(f=t[f]),Dv(f,b)&&(b=$v(i,b));let g=e[f];if(g===!0&&(g={property:f}),Et(b)){d[f]=(a=d[f])!=null?a:{},d[f]=_t({},d[f],n(b,!0));continue}let v=(c=(l=g?.transform)==null?void 0:l.call(g,b,i,h))!=null?c:b;v=g?.processResult?n(v,!0):v;const k=Xr(g?.property,i);if(!o&&g?.static){const E=Xr(g.static,i);d=_t({},d,E)}if(k&&Array.isArray(k)){for(const E of k)d[E]=v;continue}if(k){k==="&"&&Et(v)?d=_t({},d,v):d[k]=v;continue}if(Et(v)){d=_t({},d,v);continue}d[f]=v}return d};return n}var zv=r=>e=>Bv({theme:e,pseudos:pa,configs:rh})(r);function Ce(r){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:r,...e}}}}function Fv(r,e){if(Array.isArray(r))return r;if(Et(r))return e(r);if(r!=null)return[r]}function jv(r,e){for(let t=e+1;t<r.length;t++)if(r[t]!=null)return t;return-1}function Hv(r){const e=r.__breakpoints;return function(i,n,s,o){var a,l;if(!e)return;const c={},h=Fv(s,e.toArrayValue);if(!h)return c;const u=h.length,d=u===1,f=!!i.parts;for(let p=0;p<u;p++){const b=e.details[p],g=e.details[jv(h,p)],v=pn(b.minW,g?._minW),k=Xr((a=i[n])==null?void 0:a[h[p]],o);if(k){if(f){(l=i.parts)==null||l.forEach(E=>{_t(c,{[E]:d?k[E]:{[v]:k[E]}})});continue}if(!f){d?_t(c,k):c[v]=k;continue}c[v]=k}}return c}}function Vv(r){return e=>{var t;const{variant:i,size:n,theme:s}=e,o=Hv(s);return _t({},Xr((t=r.baseStyle)!=null?t:{},e),o(r,"sizes",n,e),o(r,"variants",i,e))}}function hP(r){return wv(r,["styleConfig","size","variant","colorScheme"])}var Wv=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function Uv(r){return Et(r)?Wv.every(e=>Object.prototype.hasOwnProperty.call(r,e)):!1}var Gv={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},Kv={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},qv={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},Yv={property:Gv,easing:Kv,duration:qv},Zv=Yv,Qv={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Xv=Qv,Jv={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},e1=Jv,t1={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},r1=t1,i1={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},n1=i1,s1={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},o1=s1,a1={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},l1=a1,c1={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},h1=c1,u1={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},pp=u1,mp={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},d1={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},f1={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},p1={...mp,...d1,container:f1},gp=p1,m1={breakpoints:r1,zIndices:Xv,radii:o1,blur:h1,colors:n1,...pp,sizes:gp,shadows:l1,space:mp,borders:e1,transition:Zv},{defineMultiStyleConfig:g1,definePartsStyle:mn}=Ce(["stepper","step","title","description","indicator","separator","icon","number"]),or=G("stepper-indicator-size"),Si=G("stepper-icon-size"),wi=G("stepper-title-font-size"),gn=G("stepper-description-font-size"),an=G("stepper-accent-color"),b1=mn(({colorScheme:r})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[an.variable]:`colors.${r}.500`,_dark:{[an.variable]:`colors.${r}.200`}},title:{fontSize:wi.reference,fontWeight:"medium"},description:{fontSize:gn.reference,color:"chakra-subtle-text"},number:{fontSize:wi.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Si.reference,height:Si.reference},indicator:{flexShrink:0,borderRadius:"full",width:or.reference,height:or.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:an.reference},"&[data-status=complete]":{bg:an.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:an.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${or.reference} - 8px)`,top:`calc(${or.reference} + 4px)`,insetStart:`calc(${or.reference} / 2 - 1px)`}}})),y1=g1({baseStyle:b1,sizes:{xs:mn({stepper:{[or.variable]:"sizes.4",[Si.variable]:"sizes.3",[wi.variable]:"fontSizes.xs",[gn.variable]:"fontSizes.xs"}}),sm:mn({stepper:{[or.variable]:"sizes.6",[Si.variable]:"sizes.4",[wi.variable]:"fontSizes.sm",[gn.variable]:"fontSizes.xs"}}),md:mn({stepper:{[or.variable]:"sizes.8",[Si.variable]:"sizes.5",[wi.variable]:"fontSizes.md",[gn.variable]:"fontSizes.sm"}}),lg:mn({stepper:{[or.variable]:"sizes.10",[Si.variable]:"sizes.6",[wi.variable]:"fontSizes.lg",[gn.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function me(r,e={}){let t=!1;function i(){if(!t){t=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function n(...h){i();for(const u of h)e[u]=l(u);return me(r,e)}function s(...h){for(const u of h)u in e||(e[u]=l(u));return me(r,e)}function o(){return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,d.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,d.className]))}function l(h){const f=`chakra-${(["container","root"].includes(h??"")?[r]:[r,h]).filter(Boolean).join("__")}`;return{className:f,selector:`.${f}`,toString:()=>h}}return{parts:n,toPart:l,extend:s,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var v1=me("accordion").parts("root","container","button","panel").extend("icon"),S1=me("alert").parts("title","description","container").extend("icon","spinner"),w1=me("avatar").parts("label","badge","container").extend("excessLabel","group"),k1=me("breadcrumb").parts("link","item","container").extend("separator");me("button").parts();var x1=me("checkbox").parts("control","icon","container").extend("label");me("progress").parts("track","filledTrack").extend("label");var C1=me("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),A1=me("editable").parts("preview","input","textarea"),_1=me("form").parts("container","requiredIndicator","helperText"),E1=me("formError").parts("text","icon"),O1=me("input").parts("addon","field","element","group"),T1=me("list").parts("container","item","icon"),R1=me("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),L1=me("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),P1=me("numberinput").parts("root","field","stepperGroup","stepper");me("pininput").parts("field");var I1=me("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),N1=me("progress").parts("label","filledTrack","track"),M1=me("radio").parts("container","control","label"),D1=me("select").parts("field","icon"),$1=me("slider").parts("container","track","thumb","filledTrack","mark"),B1=me("stat").parts("container","label","helpText","number","icon"),z1=me("switch").parts("container","track","thumb"),F1=me("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),j1=me("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),H1=me("tag").parts("container","label","closeButton"),V1=me("card").parts("container","header","body","footer");function Jr(r,e,t){return Math.min(Math.max(r,t),e)}class W1 extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var bn=W1;function ih(r){if(typeof r!="string")throw new bn(r);if(r.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=r.trim();e=X1.test(r)?K1(r):r;const t=q1.exec(e);if(t){const o=Array.from(t).slice(1);return[...o.slice(0,3).map(a=>parseInt(jn(a,2),16)),parseInt(jn(o[3]||"f",2),16)/255]}const i=Y1.exec(e);if(i){const o=Array.from(i).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const n=Z1.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const s=Q1.exec(e);if(s){const[o,a,l,c]=Array.from(s).slice(1).map(parseFloat);if(Jr(0,100,a)!==a)throw new bn(r);if(Jr(0,100,l)!==l)throw new bn(r);return[...J1(o,a,l),Number.isNaN(c)?1:c]}throw new bn(r)}function U1(r){let e=5381,t=r.length;for(;t;)e=e*33^r.charCodeAt(--t);return(e>>>0)%2341}const yu=r=>parseInt(r.replace(/_/g,""),36),G1="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((r,e)=>{const t=yu(e.substring(0,3)),i=yu(e.substring(3)).toString(16);let n="";for(let s=0;s<6-i.length;s++)n+="0";return r[t]=`${n}${i}`,r},{});function K1(r){const e=r.toLowerCase().trim(),t=G1[U1(e)];if(!t)throw new bn(r);return`#${t}`}const jn=(r,e)=>Array.from(Array(e)).map(()=>r).join(""),q1=new RegExp(`^#${jn("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Y1=new RegExp(`^#${jn("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Z1=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${jn(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Q1=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,X1=/^[a-z]+$/i,vu=r=>Math.round(r*255),J1=(r,e,t)=>{let i=t/100;if(e===0)return[i,i,i].map(vu);const n=(r%360+360)%360/60,s=(1-Math.abs(2*i-1))*(e/100),o=s*(1-Math.abs(n%2-1));let a=0,l=0,c=0;n>=0&&n<1?(a=s,l=o):n>=1&&n<2?(a=o,l=s):n>=2&&n<3?(l=s,c=o):n>=3&&n<4?(l=o,c=s):n>=4&&n<5?(a=o,c=s):n>=5&&n<6&&(a=s,c=o);const h=i-s/2,u=a+h,d=l+h,f=c+h;return[u,d,f].map(vu)};function eS(r,e,t,i){return`rgba(${Jr(0,255,r).toFixed()}, ${Jr(0,255,e).toFixed()}, ${Jr(0,255,t).toFixed()}, ${parseFloat(Jr(0,1,i).toFixed(3))})`}function tS(r,e){const[t,i,n,s]=ih(r);return eS(t,i,n,s-e)}function rS(r){const[e,t,i,n]=ih(r);let s=o=>{const a=Jr(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${s(e)}${s(t)}${s(i)}${n<1?s(Math.round(n*255)):""}`}function iS(r,e,t,i,n){for(e=e.split?e.split("."):e,i=0;i<e.length;i++)r=r?r[e[i]]:n;return r===n?t:r}var nS=r=>Object.keys(r).length===0,nt=(r,e,t)=>{const i=iS(r,`colors.${e}`,e);try{return rS(i),i}catch{return t??"#000000"}},sS=r=>{const[e,t,i]=ih(r);return(e*299+t*587+i*114)/1e3},oS=r=>e=>{const t=nt(e,r);return sS(t)<128?"dark":"light"},aS=r=>e=>oS(r)(e)==="dark",Fi=(r,e)=>t=>{const i=nt(t,r);return tS(i,1-e)};function Su(r="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${r} ${r}`}}var lS=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function cS(r){const e=lS();return!r||nS(r)?e:r.string&&r.colors?uS(r.string,r.colors):r.string&&!r.colors?hS(r.string):r.colors&&!r.string?dS(r.colors):e}function hS(r){let e=0;if(r.length===0)return e.toString();for(let i=0;i<r.length;i+=1)e=r.charCodeAt(i)+((e<<5)-e),e=e&e;let t="#";for(let i=0;i<3;i+=1){const n=e>>i*8&255;t+=`00${n.toString(16)}`.substr(-2)}return t}function uS(r,e){let t=0;if(r.length===0)return e[0];for(let i=0;i<r.length;i+=1)t=r.charCodeAt(i)+((t<<5)-t),t=t&t;return t=(t%e.length+e.length)%e.length,e[t]}function dS(r){return r[Math.floor(Math.random()*r.length)]}function U(r,e){return t=>t.colorMode==="dark"?e:r}function nh(r){const{orientation:e,vertical:t,horizontal:i}=r;return e?e==="vertical"?t:i:{}}function bp(r){return Et(r)&&r.reference?r.reference:String(r)}var ma=(r,...e)=>e.map(bp).join(` ${r} `).replace(/calc/g,""),wu=(...r)=>`calc(${ma("+",...r)})`,ku=(...r)=>`calc(${ma("-",...r)})`,Hl=(...r)=>`calc(${ma("*",...r)})`,xu=(...r)=>`calc(${ma("/",...r)})`,Cu=r=>{const e=bp(r);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Hl(e,-1)},ar=Object.assign(r=>({add:(...e)=>ar(wu(r,...e)),subtract:(...e)=>ar(ku(r,...e)),multiply:(...e)=>ar(Hl(r,...e)),divide:(...e)=>ar(xu(r,...e)),negate:()=>ar(Cu(r)),toString:()=>r.toString()}),{add:wu,subtract:ku,multiply:Hl,divide:xu,negate:Cu});function fS(r){return!Number.isInteger(parseFloat(r.toString()))}function pS(r,e="-"){return r.replace(/\s+/g,e)}function yp(r){const e=pS(r.toString());return e.includes("\\.")?r:fS(r)?e.replace(".","\\."):r}function mS(r,e=""){return[e,yp(r)].filter(Boolean).join("-")}function gS(r,e){return`var(${yp(r)}${e?`, ${e}`:""})`}function bS(r,e=""){return`--${mS(r,e)}`}function We(r,e){const t=bS(r,e?.prefix);return{variable:t,reference:gS(t,yS(e?.fallback))}}function yS(r){return typeof r=="string"?r:r?.reference}var{defineMultiStyleConfig:vS,definePartsStyle:eo}=Ce(z1.keys),_n=We("switch-track-width"),ri=We("switch-track-height"),Ua=We("switch-track-diff"),SS=ar.subtract(_n,ri),Vl=We("switch-thumb-x"),ln=We("switch-bg"),wS=r=>{const{colorScheme:e}=r;return{borderRadius:"full",p:"0.5",width:[_n.reference],height:[ri.reference],transitionProperty:"common",transitionDuration:"fast",[ln.variable]:"colors.gray.300",_dark:{[ln.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[ln.variable]:`colors.${e}.500`,_dark:{[ln.variable]:`colors.${e}.200`}},bg:ln.reference}},kS={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[ri.reference],height:[ri.reference],_checked:{transform:`translateX(${Vl.reference})`}},xS=eo(r=>({container:{[Ua.variable]:SS,[Vl.variable]:Ua.reference,_rtl:{[Vl.variable]:ar(Ua).negate().toString()}},track:wS(r),thumb:kS})),CS={sm:eo({container:{[_n.variable]:"1.375rem",[ri.variable]:"sizes.3"}}),md:eo({container:{[_n.variable]:"1.875rem",[ri.variable]:"sizes.4"}}),lg:eo({container:{[_n.variable]:"2.875rem",[ri.variable]:"sizes.6"}})},AS=vS({baseStyle:xS,sizes:CS,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:_S,definePartsStyle:Ti}=Ce(F1.keys),ES=Ti({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Ro={"&[data-is-numeric=true]":{textAlign:"end"}},OS=Ti(r=>{const{colorScheme:e}=r;return{th:{color:U("gray.600","gray.400")(r),borderBottom:"1px",borderColor:U(`${e}.100`,`${e}.700`)(r),...Ro},td:{borderBottom:"1px",borderColor:U(`${e}.100`,`${e}.700`)(r),...Ro},caption:{color:U("gray.600","gray.100")(r)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),TS=Ti(r=>{const{colorScheme:e}=r;return{th:{color:U("gray.600","gray.400")(r),borderBottom:"1px",borderColor:U(`${e}.100`,`${e}.700`)(r),...Ro},td:{borderBottom:"1px",borderColor:U(`${e}.100`,`${e}.700`)(r),...Ro},caption:{color:U("gray.600","gray.100")(r)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:U(`${e}.100`,`${e}.700`)(r)},td:{background:U(`${e}.100`,`${e}.700`)(r)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),RS={simple:OS,striped:TS,unstyled:{}},LS={sm:Ti({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:Ti({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:Ti({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},PS=_S({baseStyle:ES,variants:RS,sizes:LS,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),ht=G("tabs-color"),It=G("tabs-bg"),As=G("tabs-border-color"),{defineMultiStyleConfig:IS,definePartsStyle:Zt}=Ce(j1.keys),NS=r=>{const{orientation:e}=r;return{display:e==="vertical"?"flex":"block"}},MS=r=>{const{isFitted:e}=r;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},DS=r=>{const{align:e="start",orientation:t}=r;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:t==="vertical"?"column":"row"}},$S={p:4},BS=Zt(r=>({root:NS(r),tab:MS(r),tablist:DS(r),tabpanel:$S})),zS={sm:Zt({tab:{py:1,px:4,fontSize:"sm"}}),md:Zt({tab:{fontSize:"md",py:2,px:4}}),lg:Zt({tab:{fontSize:"lg",py:3,px:4}})},FS=Zt(r=>{const{colorScheme:e,orientation:t}=r,i=t==="vertical",n=i?"borderStart":"borderBottom",s=i?"marginStart":"marginBottom";return{tablist:{[n]:"2px solid",borderColor:"inherit"},tab:{[n]:"2px solid",borderColor:"transparent",[s]:"-2px",_selected:{[ht.variable]:`colors.${e}.600`,_dark:{[ht.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[It.variable]:"colors.gray.200",_dark:{[It.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:ht.reference,bg:It.reference}}}),jS=Zt(r=>{const{colorScheme:e}=r;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[As.variable]:"transparent",_selected:{[ht.variable]:`colors.${e}.600`,[As.variable]:"colors.white",_dark:{[ht.variable]:`colors.${e}.300`,[As.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:As.reference},color:ht.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),HS=Zt(r=>{const{colorScheme:e}=r;return{tab:{border:"1px solid",borderColor:"inherit",[It.variable]:"colors.gray.50",_dark:{[It.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[It.variable]:"colors.white",[ht.variable]:`colors.${e}.600`,_dark:{[It.variable]:"colors.gray.800",[ht.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:ht.reference,bg:It.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),VS=Zt(r=>{const{colorScheme:e,theme:t}=r;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:nt(t,`${e}.700`),bg:nt(t,`${e}.100`)}}}}),WS=Zt(r=>{const{colorScheme:e}=r;return{tab:{borderRadius:"full",fontWeight:"semibold",[ht.variable]:"colors.gray.600",_dark:{[ht.variable]:"inherit"},_selected:{[ht.variable]:"colors.white",[It.variable]:`colors.${e}.600`,_dark:{[ht.variable]:"colors.gray.800",[It.variable]:`colors.${e}.300`}},color:ht.reference,bg:It.reference}}}),US=Zt({}),GS={line:FS,enclosed:jS,"enclosed-colored":HS,"soft-rounded":VS,"solid-rounded":WS,unstyled:US},KS=IS({baseStyle:BS,sizes:zS,variants:GS,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Be=mv("badge",["bg","color","shadow"]),qS={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Be.bg.reference,color:Be.color.reference,boxShadow:Be.shadow.reference},YS=r=>{const{colorScheme:e,theme:t}=r,i=Fi(`${e}.500`,.6)(t);return{[Be.bg.variable]:`colors.${e}.500`,[Be.color.variable]:"colors.white",_dark:{[Be.bg.variable]:i,[Be.color.variable]:"colors.whiteAlpha.800"}}},ZS=r=>{const{colorScheme:e,theme:t}=r,i=Fi(`${e}.200`,.16)(t);return{[Be.bg.variable]:`colors.${e}.100`,[Be.color.variable]:`colors.${e}.800`,_dark:{[Be.bg.variable]:i,[Be.color.variable]:`colors.${e}.200`}}},QS=r=>{const{colorScheme:e,theme:t}=r,i=Fi(`${e}.200`,.8)(t);return{[Be.color.variable]:`colors.${e}.500`,_dark:{[Be.color.variable]:i},[Be.shadow.variable]:`inset 0 0 0px 1px ${Be.color.reference}`}},XS={solid:YS,subtle:ZS,outline:QS},En={baseStyle:qS,variants:XS,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:JS,definePartsStyle:ii}=Ce(H1.keys),Au=G("tag-bg"),_u=G("tag-color"),Ga=G("tag-shadow"),to=G("tag-min-height"),ro=G("tag-min-width"),io=G("tag-font-size"),no=G("tag-padding-inline"),ew={fontWeight:"medium",lineHeight:1.2,outline:0,[_u.variable]:Be.color.reference,[Au.variable]:Be.bg.reference,[Ga.variable]:Be.shadow.reference,color:_u.reference,bg:Au.reference,boxShadow:Ga.reference,borderRadius:"md",minH:to.reference,minW:ro.reference,fontSize:io.reference,px:no.reference,_focusVisible:{[Ga.variable]:"shadows.outline"}},tw={lineHeight:1.2,overflow:"visible"},rw={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},iw=ii({container:ew,label:tw,closeButton:rw}),nw={sm:ii({container:{[to.variable]:"sizes.5",[ro.variable]:"sizes.5",[io.variable]:"fontSizes.xs",[no.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:ii({container:{[to.variable]:"sizes.6",[ro.variable]:"sizes.6",[io.variable]:"fontSizes.sm",[no.variable]:"space.2"}}),lg:ii({container:{[to.variable]:"sizes.8",[ro.variable]:"sizes.8",[io.variable]:"fontSizes.md",[no.variable]:"space.3"}})},sw={subtle:ii(r=>{var e;return{container:(e=En.variants)==null?void 0:e.subtle(r)}}),solid:ii(r=>{var e;return{container:(e=En.variants)==null?void 0:e.solid(r)}}),outline:ii(r=>{var e;return{container:(e=En.variants)==null?void 0:e.outline(r)}})},ow=JS({variants:sw,baseStyle:iw,sizes:nw,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:lr,defineMultiStyleConfig:aw}=Ce(O1.keys),ki=G("input-height"),xi=G("input-font-size"),Ci=G("input-padding"),Ai=G("input-border-radius"),lw=lr({addon:{height:ki.reference,fontSize:xi.reference,px:Ci.reference,borderRadius:Ai.reference},field:{width:"100%",height:ki.reference,fontSize:xi.reference,px:Ci.reference,borderRadius:Ai.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),wr={lg:{[xi.variable]:"fontSizes.lg",[Ci.variable]:"space.4",[Ai.variable]:"radii.md",[ki.variable]:"sizes.12"},md:{[xi.variable]:"fontSizes.md",[Ci.variable]:"space.4",[Ai.variable]:"radii.md",[ki.variable]:"sizes.10"},sm:{[xi.variable]:"fontSizes.sm",[Ci.variable]:"space.3",[Ai.variable]:"radii.sm",[ki.variable]:"sizes.8"},xs:{[xi.variable]:"fontSizes.xs",[Ci.variable]:"space.2",[Ai.variable]:"radii.sm",[ki.variable]:"sizes.6"}},cw={lg:lr({field:wr.lg,group:wr.lg}),md:lr({field:wr.md,group:wr.md}),sm:lr({field:wr.sm,group:wr.sm}),xs:lr({field:wr.xs,group:wr.xs})};function sh(r){const{focusBorderColor:e,errorBorderColor:t}=r;return{focusBorderColor:e||U("blue.500","blue.300")(r),errorBorderColor:t||U("red.500","red.300")(r)}}var hw=lr(r=>{const{theme:e}=r,{focusBorderColor:t,errorBorderColor:i}=sh(r);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:U("gray.300","whiteAlpha.400")(r)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:nt(e,i),boxShadow:`0 0 0 1px ${nt(e,i)}`},_focusVisible:{zIndex:1,borderColor:nt(e,t),boxShadow:`0 0 0 1px ${nt(e,t)}`}},addon:{border:"1px solid",borderColor:U("inherit","whiteAlpha.50")(r),bg:U("gray.100","whiteAlpha.300")(r)}}}),uw=lr(r=>{const{theme:e}=r,{focusBorderColor:t,errorBorderColor:i}=sh(r);return{field:{border:"2px solid",borderColor:"transparent",bg:U("gray.100","whiteAlpha.50")(r),_hover:{bg:U("gray.200","whiteAlpha.100")(r)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:nt(e,i)},_focusVisible:{bg:"transparent",borderColor:nt(e,t)}},addon:{border:"2px solid",borderColor:"transparent",bg:U("gray.100","whiteAlpha.50")(r)}}}),dw=lr(r=>{const{theme:e}=r,{focusBorderColor:t,errorBorderColor:i}=sh(r);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:nt(e,i),boxShadow:`0px 1px 0px 0px ${nt(e,i)}`},_focusVisible:{borderColor:nt(e,t),boxShadow:`0px 1px 0px 0px ${nt(e,t)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),fw=lr({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),pw={outline:hw,filled:uw,flushed:dw,unstyled:fw},he=aw({baseStyle:lw,sizes:cw,variants:pw,defaultProps:{size:"md",variant:"outline"}}),Eu,mw={...(Eu=he.baseStyle)==null?void 0:Eu.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},Ou,Tu,gw={outline:r=>{var e,t;return(t=(e=he.variants)==null?void 0:e.outline(r).field)!=null?t:{}},flushed:r=>{var e,t;return(t=(e=he.variants)==null?void 0:e.flushed(r).field)!=null?t:{}},filled:r=>{var e,t;return(t=(e=he.variants)==null?void 0:e.filled(r).field)!=null?t:{}},unstyled:(Tu=(Ou=he.variants)==null?void 0:Ou.unstyled.field)!=null?Tu:{}},Ru,Lu,Pu,Iu,Nu,Mu,Du,$u,bw={xs:(Lu=(Ru=he.sizes)==null?void 0:Ru.xs.field)!=null?Lu:{},sm:(Iu=(Pu=he.sizes)==null?void 0:Pu.sm.field)!=null?Iu:{},md:(Mu=(Nu=he.sizes)==null?void 0:Nu.md.field)!=null?Mu:{},lg:($u=(Du=he.sizes)==null?void 0:Du.lg.field)!=null?$u:{}},yw={baseStyle:mw,sizes:bw,variants:gw,defaultProps:{size:"md",variant:"outline"}},_s=We("tooltip-bg"),Ka=We("tooltip-fg"),vw=We("popper-arrow-bg"),Sw={bg:_s.reference,color:Ka.reference,[_s.variable]:"colors.gray.700",[Ka.variable]:"colors.whiteAlpha.900",_dark:{[_s.variable]:"colors.gray.300",[Ka.variable]:"colors.gray.900"},[vw.variable]:_s.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},ww={baseStyle:Sw},{defineMultiStyleConfig:kw,definePartsStyle:yn}=Ce(N1.keys),xw=r=>{const{colorScheme:e,theme:t,isIndeterminate:i,hasStripe:n}=r,s=U(Su(),Su("1rem","rgba(0,0,0,0.1)"))(r),o=U(`${e}.500`,`${e}.200`)(r),a=`linear-gradient(
    to right,
    transparent 0%,
    ${nt(t,o)} 50%,
    transparent 100%
  )`;return{...!i&&n&&s,...i?{bgImage:a}:{bgColor:o}}},Cw={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Aw=r=>({bg:U("gray.100","whiteAlpha.300")(r)}),_w=r=>({transitionProperty:"common",transitionDuration:"slow",...xw(r)}),Ew=yn(r=>({label:Cw,filledTrack:_w(r),track:Aw(r)})),Ow={xs:yn({track:{h:"1"}}),sm:yn({track:{h:"2"}}),md:yn({track:{h:"3"}}),lg:yn({track:{h:"4"}})},Tw=kw({sizes:Ow,baseStyle:Ew,defaultProps:{size:"md",colorScheme:"blue"}}),Rw=r=>typeof r=="function";function st(r,...e){return Rw(r)?r(...e):r}var{definePartsStyle:so,defineMultiStyleConfig:Lw}=Ce(x1.keys),On=G("checkbox-size"),Pw=r=>{const{colorScheme:e}=r;return{w:On.reference,h:On.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:U(`${e}.500`,`${e}.200`)(r),borderColor:U(`${e}.500`,`${e}.200`)(r),color:U("white","gray.900")(r),_hover:{bg:U(`${e}.600`,`${e}.300`)(r),borderColor:U(`${e}.600`,`${e}.300`)(r)},_disabled:{borderColor:U("gray.200","transparent")(r),bg:U("gray.200","whiteAlpha.300")(r),color:U("gray.500","whiteAlpha.500")(r)}},_indeterminate:{bg:U(`${e}.500`,`${e}.200`)(r),borderColor:U(`${e}.500`,`${e}.200`)(r),color:U("white","gray.900")(r)},_disabled:{bg:U("gray.100","whiteAlpha.100")(r),borderColor:U("gray.100","transparent")(r)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:U("red.500","red.300")(r)}}},Iw={_disabled:{cursor:"not-allowed"}},Nw={userSelect:"none",_disabled:{opacity:.4}},Mw={transitionProperty:"transform",transitionDuration:"normal"},Dw=so(r=>({icon:Mw,container:Iw,control:st(Pw,r),label:Nw})),$w={sm:so({control:{[On.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:so({control:{[On.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:so({control:{[On.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Lo=Lw({baseStyle:Dw,sizes:$w,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Bw,definePartsStyle:oo}=Ce(M1.keys),zw=r=>{var e;const t=(e=st(Lo.baseStyle,r))==null?void 0:e.control;return{...t,borderRadius:"full",_checked:{...t?._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},Fw=oo(r=>{var e,t,i,n;return{label:(t=(e=Lo).baseStyle)==null?void 0:t.call(e,r).label,container:(n=(i=Lo).baseStyle)==null?void 0:n.call(i,r).container,control:zw(r)}}),jw={md:oo({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:oo({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:oo({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},Hw=Bw({baseStyle:Fw,sizes:jw,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:Vw,definePartsStyle:Ww}=Ce(D1.keys),Es=G("select-bg"),Bu,Uw={...(Bu=he.baseStyle)==null?void 0:Bu.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Es.reference,[Es.variable]:"colors.white",_dark:{[Es.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Es.reference}},Gw={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},Kw=Ww({field:Uw,icon:Gw}),Os={paddingInlineEnd:"8"},zu,Fu,ju,Hu,Vu,Wu,Uu,Gu,qw={lg:{...(zu=he.sizes)==null?void 0:zu.lg,field:{...(Fu=he.sizes)==null?void 0:Fu.lg.field,...Os}},md:{...(ju=he.sizes)==null?void 0:ju.md,field:{...(Hu=he.sizes)==null?void 0:Hu.md.field,...Os}},sm:{...(Vu=he.sizes)==null?void 0:Vu.sm,field:{...(Wu=he.sizes)==null?void 0:Wu.sm.field,...Os}},xs:{...(Uu=he.sizes)==null?void 0:Uu.xs,field:{...(Gu=he.sizes)==null?void 0:Gu.xs.field,...Os},icon:{insetEnd:"1"}}},Yw=Vw({baseStyle:Kw,sizes:qw,variants:he.variants,defaultProps:he.defaultProps}),qa=G("skeleton-start-color"),Ya=G("skeleton-end-color"),Zw={[qa.variable]:"colors.gray.100",[Ya.variable]:"colors.gray.400",_dark:{[qa.variable]:"colors.gray.800",[Ya.variable]:"colors.gray.600"},background:qa.reference,borderColor:Ya.reference,opacity:.7,borderRadius:"sm"},Qw={baseStyle:Zw},Za=G("skip-link-bg"),Xw={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[Za.variable]:"colors.white",_dark:{[Za.variable]:"colors.gray.700"},bg:Za.reference}},Jw={baseStyle:Xw},{defineMultiStyleConfig:ek,definePartsStyle:ga}=Ce($1.keys),Hn=G("slider-thumb-size"),Vn=G("slider-track-size"),_r=G("slider-bg"),tk=r=>{const{orientation:e}=r;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...nh({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},rk=r=>({...nh({orientation:r.orientation,horizontal:{h:Vn.reference},vertical:{w:Vn.reference}}),overflow:"hidden",borderRadius:"sm",[_r.variable]:"colors.gray.200",_dark:{[_r.variable]:"colors.whiteAlpha.200"},_disabled:{[_r.variable]:"colors.gray.300",_dark:{[_r.variable]:"colors.whiteAlpha.300"}},bg:_r.reference}),ik=r=>{const{orientation:e}=r;return{...nh({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Hn.reference,h:Hn.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},nk=r=>{const{colorScheme:e}=r;return{width:"inherit",height:"inherit",[_r.variable]:`colors.${e}.500`,_dark:{[_r.variable]:`colors.${e}.200`},bg:_r.reference}},sk=ga(r=>({container:tk(r),track:rk(r),thumb:ik(r),filledTrack:nk(r)})),ok=ga({container:{[Hn.variable]:"sizes.4",[Vn.variable]:"sizes.1"}}),ak=ga({container:{[Hn.variable]:"sizes.3.5",[Vn.variable]:"sizes.1"}}),lk=ga({container:{[Hn.variable]:"sizes.2.5",[Vn.variable]:"sizes.0.5"}}),ck={lg:ok,md:ak,sm:lk},hk=ek({baseStyle:sk,sizes:ck,defaultProps:{size:"md",colorScheme:"blue"}}),Yr=We("spinner-size"),uk={width:[Yr.reference],height:[Yr.reference]},dk={xs:{[Yr.variable]:"sizes.3"},sm:{[Yr.variable]:"sizes.4"},md:{[Yr.variable]:"sizes.6"},lg:{[Yr.variable]:"sizes.8"},xl:{[Yr.variable]:"sizes.12"}},fk={baseStyle:uk,sizes:dk,defaultProps:{size:"md"}},{defineMultiStyleConfig:pk,definePartsStyle:vp}=Ce(B1.keys),mk={fontWeight:"medium"},gk={opacity:.8,marginBottom:"2"},bk={verticalAlign:"baseline",fontWeight:"semibold"},yk={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},vk=vp({container:{},label:mk,helpText:gk,number:bk,icon:yk}),Sk={md:vp({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},wk=pk({baseStyle:vk,sizes:Sk,defaultProps:{size:"md"}}),Qa=G("kbd-bg"),kk={[Qa.variable]:"colors.gray.100",_dark:{[Qa.variable]:"colors.whiteAlpha.100"},bg:Qa.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},xk={baseStyle:kk},Ck={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},Ak={baseStyle:Ck},{defineMultiStyleConfig:_k,definePartsStyle:Ek}=Ce(T1.keys),Ok={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},Tk=Ek({icon:Ok}),Rk=_k({baseStyle:Tk}),{defineMultiStyleConfig:Lk,definePartsStyle:Pk}=Ce(R1.keys),Ht=G("menu-bg"),Xa=G("menu-shadow"),Ik={[Ht.variable]:"#fff",[Xa.variable]:"shadows.sm",_dark:{[Ht.variable]:"colors.gray.700",[Xa.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Ht.reference,boxShadow:Xa.reference},Nk={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ht.variable]:"colors.gray.100",_dark:{[Ht.variable]:"colors.whiteAlpha.100"}},_active:{[Ht.variable]:"colors.gray.200",_dark:{[Ht.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ht.variable]:"colors.gray.100",_dark:{[Ht.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ht.reference},Mk={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},Dk={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},$k={opacity:.6},Bk={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},zk={transitionProperty:"common",transitionDuration:"normal"},Fk=Pk({button:zk,list:Ik,item:Nk,groupTitle:Mk,icon:Dk,command:$k,divider:Bk}),jk=Lk({baseStyle:Fk}),{defineMultiStyleConfig:Hk,definePartsStyle:Wl}=Ce(L1.keys),Ja=G("modal-bg"),el=G("modal-shadow"),Vk={bg:"blackAlpha.600",zIndex:"modal"},Wk=r=>{const{isCentered:e,scrollBehavior:t}=r;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:t==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},Uk=r=>{const{isCentered:e,scrollBehavior:t}=r;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:t==="inside"?"calc(100% - 7.5rem)":void 0,[Ja.variable]:"colors.white",[el.variable]:"shadows.lg",_dark:{[Ja.variable]:"colors.gray.700",[el.variable]:"shadows.dark-lg"},bg:Ja.reference,boxShadow:el.reference}},Gk={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Kk={position:"absolute",top:"2",insetEnd:"3"},qk=r=>{const{scrollBehavior:e}=r;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},Yk={px:"6",py:"4"},Zk=Wl(r=>({overlay:Vk,dialogContainer:st(Wk,r),dialog:st(Uk,r),header:Gk,closeButton:Kk,body:st(qk,r),footer:Yk}));function Lt(r){return Wl(r==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:r}})}var Qk={xs:Lt("xs"),sm:Lt("sm"),md:Lt("md"),lg:Lt("lg"),xl:Lt("xl"),"2xl":Lt("2xl"),"3xl":Lt("3xl"),"4xl":Lt("4xl"),"5xl":Lt("5xl"),"6xl":Lt("6xl"),full:Lt("full")},Xk=Hk({baseStyle:Zk,sizes:Qk,defaultProps:{size:"md"}}),{defineMultiStyleConfig:Jk,definePartsStyle:Sp}=Ce(P1.keys),oh=We("number-input-stepper-width"),wp=We("number-input-input-padding"),ex=ar(oh).add("0.5rem").toString(),tl=We("number-input-bg"),rl=We("number-input-color"),il=We("number-input-border-color"),tx={[oh.variable]:"sizes.6",[wp.variable]:ex},rx=r=>{var e,t;return(t=(e=st(he.baseStyle,r))==null?void 0:e.field)!=null?t:{}},ix={width:oh.reference},nx={borderStart:"1px solid",borderStartColor:il.reference,color:rl.reference,bg:tl.reference,[rl.variable]:"colors.chakra-body-text",[il.variable]:"colors.chakra-border-color",_dark:{[rl.variable]:"colors.whiteAlpha.800",[il.variable]:"colors.whiteAlpha.300"},_active:{[tl.variable]:"colors.gray.200",_dark:{[tl.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},sx=Sp(r=>{var e;return{root:tx,field:(e=st(rx,r))!=null?e:{},stepperGroup:ix,stepper:nx}});function Ts(r){var e,t,i;const n=(e=he.sizes)==null?void 0:e[r],s={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(i=(t=n.field)==null?void 0:t.fontSize)!=null?i:"md",a=pp.fontSizes[o];return Sp({field:{...n.field,paddingInlineEnd:wp.reference,verticalAlign:"top"},stepper:{fontSize:ar(a).multiply(.75).toString(),_first:{borderTopEndRadius:s[r]},_last:{borderBottomEndRadius:s[r],mt:"-1px",borderTopWidth:1}}})}var ox={xs:Ts("xs"),sm:Ts("sm"),md:Ts("md"),lg:Ts("lg")},ax=Jk({baseStyle:sx,sizes:ox,variants:he.variants,defaultProps:he.defaultProps}),Ku,lx={...(Ku=he.baseStyle)==null?void 0:Ku.field,textAlign:"center"},cx={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},qu,Yu,hx={outline:r=>{var e,t,i;return(i=(t=st((e=he.variants)==null?void 0:e.outline,r))==null?void 0:t.field)!=null?i:{}},flushed:r=>{var e,t,i;return(i=(t=st((e=he.variants)==null?void 0:e.flushed,r))==null?void 0:t.field)!=null?i:{}},filled:r=>{var e,t,i;return(i=(t=st((e=he.variants)==null?void 0:e.filled,r))==null?void 0:t.field)!=null?i:{}},unstyled:(Yu=(qu=he.variants)==null?void 0:qu.unstyled.field)!=null?Yu:{}},ux={baseStyle:lx,sizes:cx,variants:hx,defaultProps:he.defaultProps},{defineMultiStyleConfig:dx,definePartsStyle:fx}=Ce(I1.keys),Rs=We("popper-bg"),px=We("popper-arrow-bg"),Zu=We("popper-arrow-shadow-color"),mx={zIndex:10},gx={[Rs.variable]:"colors.white",bg:Rs.reference,[px.variable]:Rs.reference,[Zu.variable]:"colors.gray.200",_dark:{[Rs.variable]:"colors.gray.700",[Zu.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},bx={px:3,py:2,borderBottomWidth:"1px"},yx={px:3,py:2},vx={px:3,py:2,borderTopWidth:"1px"},Sx={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},wx=fx({popper:mx,content:gx,header:bx,body:yx,footer:vx,closeButton:Sx}),kx=dx({baseStyle:wx}),{definePartsStyle:Ul,defineMultiStyleConfig:xx}=Ce(C1.keys),nl=G("drawer-bg"),sl=G("drawer-box-shadow");function fi(r){return Ul(r==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:r}})}var Cx={bg:"blackAlpha.600",zIndex:"modal"},Ax={display:"flex",zIndex:"modal",justifyContent:"center"},_x=r=>{const{isFullHeight:e}=r;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[nl.variable]:"colors.white",[sl.variable]:"shadows.lg",_dark:{[nl.variable]:"colors.gray.700",[sl.variable]:"shadows.dark-lg"},bg:nl.reference,boxShadow:sl.reference}},Ex={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},Ox={position:"absolute",top:"2",insetEnd:"3"},Tx={px:"6",py:"2",flex:"1",overflow:"auto"},Rx={px:"6",py:"4"},Lx=Ul(r=>({overlay:Cx,dialogContainer:Ax,dialog:st(_x,r),header:Ex,closeButton:Ox,body:Tx,footer:Rx})),Px={xs:fi("xs"),sm:fi("md"),md:fi("lg"),lg:fi("2xl"),xl:fi("4xl"),full:fi("full")},Ix=xx({baseStyle:Lx,sizes:Px,defaultProps:{size:"xs"}}),{definePartsStyle:Nx,defineMultiStyleConfig:Mx}=Ce(A1.keys),Dx={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},$x={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},Bx={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},zx=Nx({preview:Dx,input:$x,textarea:Bx}),Fx=Mx({baseStyle:zx}),{definePartsStyle:jx,defineMultiStyleConfig:Hx}=Ce(_1.keys),Ri=G("form-control-color"),Vx={marginStart:"1",[Ri.variable]:"colors.red.500",_dark:{[Ri.variable]:"colors.red.300"},color:Ri.reference},Wx={mt:"2",[Ri.variable]:"colors.gray.600",_dark:{[Ri.variable]:"colors.whiteAlpha.600"},color:Ri.reference,lineHeight:"normal",fontSize:"sm"},Ux=jx({container:{width:"100%",position:"relative"},requiredIndicator:Vx,helperText:Wx}),Gx=Hx({baseStyle:Ux}),{definePartsStyle:Kx,defineMultiStyleConfig:qx}=Ce(E1.keys),Li=G("form-error-color"),Yx={[Li.variable]:"colors.red.500",_dark:{[Li.variable]:"colors.red.300"},color:Li.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},Zx={marginEnd:"0.5em",[Li.variable]:"colors.red.500",_dark:{[Li.variable]:"colors.red.300"},color:Li.reference},Qx=Kx({text:Yx,icon:Zx}),Xx=qx({baseStyle:Qx}),Jx={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},eC={baseStyle:Jx},tC={fontFamily:"heading",fontWeight:"bold"},rC={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},iC={baseStyle:tC,sizes:rC,defaultProps:{size:"xl"}},{defineMultiStyleConfig:nC,definePartsStyle:sC}=Ce(k1.keys),ol=G("breadcrumb-link-decor"),oC={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:ol.reference,[ol.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[ol.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},aC=sC({link:oC}),lC=nC({baseStyle:aC}),cC={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},kp=r=>{const{colorScheme:e,theme:t}=r;if(e==="gray")return{color:U("gray.800","whiteAlpha.900")(r),_hover:{bg:U("gray.100","whiteAlpha.200")(r)},_active:{bg:U("gray.200","whiteAlpha.300")(r)}};const i=Fi(`${e}.200`,.12)(t),n=Fi(`${e}.200`,.24)(t);return{color:U(`${e}.600`,`${e}.200`)(r),bg:"transparent",_hover:{bg:U(`${e}.50`,i)(r)},_active:{bg:U(`${e}.100`,n)(r)}}},hC=r=>{const{colorScheme:e}=r,t=U("gray.200","whiteAlpha.300")(r);return{border:"1px solid",borderColor:e==="gray"?t:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...st(kp,r)}},uC={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},dC=r=>{var e;const{colorScheme:t}=r;if(t==="gray"){const l=U("gray.100","whiteAlpha.200")(r);return{bg:l,color:U("gray.800","whiteAlpha.900")(r),_hover:{bg:U("gray.200","whiteAlpha.300")(r),_disabled:{bg:l}},_active:{bg:U("gray.300","whiteAlpha.400")(r)}}}const{bg:i=`${t}.500`,color:n="white",hoverBg:s=`${t}.600`,activeBg:o=`${t}.700`}=(e=uC[t])!=null?e:{},a=U(i,`${t}.200`)(r);return{bg:a,color:U(n,"gray.800")(r),_hover:{bg:U(s,`${t}.300`)(r),_disabled:{bg:a}},_active:{bg:U(o,`${t}.400`)(r)}}},fC=r=>{const{colorScheme:e}=r;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:U(`${e}.500`,`${e}.200`)(r),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:U(`${e}.700`,`${e}.500`)(r)}}},pC={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},mC={ghost:kp,outline:hC,solid:dC,link:fC,unstyled:pC},gC={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},bC={baseStyle:cC,variants:mC,sizes:gC,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ni,defineMultiStyleConfig:yC}=Ce(V1.keys),Po=G("card-bg"),ur=G("card-padding"),xp=G("card-shadow"),ao=G("card-radius"),Cp=G("card-border-width","0"),Ap=G("card-border-color"),vC=ni({container:{[Po.variable]:"colors.chakra-body-bg",backgroundColor:Po.reference,boxShadow:xp.reference,borderRadius:ao.reference,color:"chakra-body-text",borderWidth:Cp.reference,borderColor:Ap.reference},body:{padding:ur.reference,flex:"1 1 0%"},header:{padding:ur.reference},footer:{padding:ur.reference}}),SC={sm:ni({container:{[ao.variable]:"radii.base",[ur.variable]:"space.3"}}),md:ni({container:{[ao.variable]:"radii.md",[ur.variable]:"space.5"}}),lg:ni({container:{[ao.variable]:"radii.xl",[ur.variable]:"space.7"}})},wC={elevated:ni({container:{[xp.variable]:"shadows.base",_dark:{[Po.variable]:"colors.gray.700"}}}),outline:ni({container:{[Cp.variable]:"1px",[Ap.variable]:"colors.chakra-border-color"}}),filled:ni({container:{[Po.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[ur.variable]:0},header:{[ur.variable]:0},footer:{[ur.variable]:0}}},kC=yC({baseStyle:vC,variants:wC,sizes:SC,defaultProps:{variant:"elevated",size:"md"}}),Tn=We("close-button-size"),cn=We("close-button-bg"),xC={w:[Tn.reference],h:[Tn.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[cn.variable]:"colors.blackAlpha.100",_dark:{[cn.variable]:"colors.whiteAlpha.100"}},_active:{[cn.variable]:"colors.blackAlpha.200",_dark:{[cn.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:cn.reference},CC={lg:{[Tn.variable]:"sizes.10",fontSize:"md"},md:{[Tn.variable]:"sizes.8",fontSize:"xs"},sm:{[Tn.variable]:"sizes.6",fontSize:"2xs"}},AC={baseStyle:xC,sizes:CC,defaultProps:{size:"md"}},{variants:_C,defaultProps:EC}=En,OC={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Be.bg.reference,color:Be.color.reference,boxShadow:Be.shadow.reference},TC={baseStyle:OC,variants:_C,defaultProps:EC},RC={w:"100%",mx:"auto",maxW:"prose",px:"4"},LC={baseStyle:RC},PC={opacity:.6,borderColor:"inherit"},IC={borderStyle:"solid"},NC={borderStyle:"dashed"},MC={solid:IC,dashed:NC},DC={baseStyle:PC,variants:MC,defaultProps:{variant:"solid"}},{definePartsStyle:$C,defineMultiStyleConfig:BC}=Ce(v1.keys),zC={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},FC={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},jC={pt:"2",px:"4",pb:"5"},HC={fontSize:"1.25em"},VC=$C({container:zC,button:FC,panel:jC,icon:HC}),WC=BC({baseStyle:VC}),{definePartsStyle:os,defineMultiStyleConfig:UC}=Ce(S1.keys),kt=G("alert-fg"),fr=G("alert-bg"),GC=os({container:{bg:fr.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:kt.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:kt.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function ah(r){const{theme:e,colorScheme:t}=r,i=Fi(`${t}.200`,.16)(e);return{light:`colors.${t}.100`,dark:i}}var KC=os(r=>{const{colorScheme:e}=r,t=ah(r);return{container:{[kt.variable]:`colors.${e}.500`,[fr.variable]:t.light,_dark:{[kt.variable]:`colors.${e}.200`,[fr.variable]:t.dark}}}}),qC=os(r=>{const{colorScheme:e}=r,t=ah(r);return{container:{[kt.variable]:`colors.${e}.500`,[fr.variable]:t.light,_dark:{[kt.variable]:`colors.${e}.200`,[fr.variable]:t.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:kt.reference}}}),YC=os(r=>{const{colorScheme:e}=r,t=ah(r);return{container:{[kt.variable]:`colors.${e}.500`,[fr.variable]:t.light,_dark:{[kt.variable]:`colors.${e}.200`,[fr.variable]:t.dark},pt:"2",borderTopWidth:"4px",borderTopColor:kt.reference}}}),ZC=os(r=>{const{colorScheme:e}=r;return{container:{[kt.variable]:"colors.white",[fr.variable]:`colors.${e}.500`,_dark:{[kt.variable]:"colors.gray.900",[fr.variable]:`colors.${e}.200`},color:kt.reference}}}),QC={subtle:KC,"left-accent":qC,"top-accent":YC,solid:ZC},XC=UC({baseStyle:GC,variants:QC,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:_p,defineMultiStyleConfig:JC}=Ce(w1.keys),Pi=G("avatar-border-color"),Rn=G("avatar-bg"),Wn=G("avatar-font-size"),ji=G("avatar-size"),eA={borderRadius:"full",border:"0.2em solid",borderColor:Pi.reference,[Pi.variable]:"white",_dark:{[Pi.variable]:"colors.gray.800"}},tA={bg:Rn.reference,fontSize:Wn.reference,width:ji.reference,height:ji.reference,lineHeight:"1",[Rn.variable]:"colors.gray.200",_dark:{[Rn.variable]:"colors.whiteAlpha.400"}},rA=r=>{const{name:e,theme:t}=r,i=e?cS({string:e}):"colors.gray.400",n=aS(i)(t);let s="white";return n||(s="gray.800"),{bg:Rn.reference,fontSize:Wn.reference,color:s,borderColor:Pi.reference,verticalAlign:"top",width:ji.reference,height:ji.reference,"&:not([data-loaded])":{[Rn.variable]:i},[Pi.variable]:"colors.white",_dark:{[Pi.variable]:"colors.gray.800"}}},iA={fontSize:Wn.reference,lineHeight:"1"},nA=_p(r=>({badge:st(eA,r),excessLabel:st(tA,r),container:st(rA,r),label:iA}));function kr(r){const e=r!=="100%"?gp[r]:void 0;return _p({container:{[ji.variable]:e??r,[Wn.variable]:`calc(${e??r} / 2.5)`},excessLabel:{[ji.variable]:e??r,[Wn.variable]:`calc(${e??r} / 2.5)`}})}var sA={"2xs":kr(4),xs:kr(6),sm:kr(8),md:kr(12),lg:kr(16),xl:kr(24),"2xl":kr(32),full:kr("100%")},oA=JC({baseStyle:nA,sizes:sA,defaultProps:{size:"md"}}),aA={Accordion:WC,Alert:XC,Avatar:oA,Badge:En,Breadcrumb:lC,Button:bC,Checkbox:Lo,CloseButton:AC,Code:TC,Container:LC,Divider:DC,Drawer:Ix,Editable:Fx,Form:Gx,FormError:Xx,FormLabel:eC,Heading:iC,Input:he,Kbd:xk,Link:Ak,List:Rk,Menu:jk,Modal:Xk,NumberInput:ax,PinInput:ux,Popover:kx,Progress:Tw,Radio:Hw,Select:Yw,Skeleton:Qw,SkipLink:Jw,Slider:hk,Spinner:fk,Stat:wk,Switch:AS,Table:PS,Tabs:KS,Tag:ow,Textarea:yw,Tooltip:ww,Card:kC,Stepper:y1},lA={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},cA={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},hA="ltr",uA={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},dA={semanticTokens:lA,direction:hA,...m1,components:aA,styles:cA,config:uA};function vn(r){return typeof r=="function"}function fA(...r){return e=>r.reduce((t,i)=>i(t),e)}var pA=r=>function(...t){let i=[...t],n=t[t.length-1];return Uv(n)&&i.length>1?i=i.slice(0,i.length-1):n=r,fA(...i.map(s=>o=>vn(s)?s(o):Ep(o,s)))(n)},mA=pA(dA);function Ep(...r){return _t({},...r,Op)}function Op(r,e,t,i){if((vn(r)||vn(e))&&Object.prototype.hasOwnProperty.call(i,t))return(...n)=>{const s=vn(r)?r(...n):r,o=vn(e)?e(...n):e;return _t({},s,o,Op)}}function gA({colorScheme:r,components:e}){return t=>{let i=Object.keys(t.components||{});return Array.isArray(e)?i=e:Et(e)&&(i=Object.keys(e)),Ep(t,{components:Object.fromEntries(i.map(n=>[n,{defaultProps:{colorScheme:r}}]))})}}function bA(r,e){const t={};return Object.keys(r).forEach(i=>{e.includes(i)||(t[i]=r[i])}),t}function yA(r,e,t,i){const n=typeof e=="string"?e.split("."):[e];for(i=0;i<n.length&&r;i+=1)r=r[n[i]];return r===void 0?t:r}var vA=r=>{const e=new WeakMap;return(i,n,s,o)=>{if(typeof i>"u")return r(i,n,s);e.has(i)||e.set(i,new Map);const a=e.get(i);if(a.has(n))return a.get(n);const l=r(i,n,s,o);return a.set(n,l),l}},SA=vA(yA);function Tp(r,e){const t={};return Object.keys(r).forEach(i=>{const n=r[i];e(n,i,r)&&(t[i]=n)}),t}var Rp=r=>Tp(r,e=>e!=null);function wA(r){return typeof r=="function"}function kA(r,...e){return wA(r)?r(...e):r}var xA=typeof Element<"u",CA=typeof Map=="function",AA=typeof Set=="function",_A=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function lo(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var t,i,n;if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(i=t;i--!==0;)if(!lo(r[i],e[i]))return!1;return!0}var s;if(CA&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(s=r.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;for(s=r.entries();!(i=s.next()).done;)if(!lo(i.value[1],e.get(i.value[0])))return!1;return!0}if(AA&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(s=r.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if(_A&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(t=r.length,t!=e.length)return!1;for(i=t;i--!==0;)if(r[i]!==e[i])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof e.valueOf=="function")return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof e.toString=="function")return r.toString()===e.toString();if(n=Object.keys(r),t=n.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;if(xA&&r instanceof Element)return!1;for(i=t;i--!==0;)if(!((n[i]==="_owner"||n[i]==="__v"||n[i]==="__o")&&r.$$typeof)&&!lo(r[n[i]],e[n[i]]))return!1;return!0}return r!==r&&e!==e}var EA=function(e,t){try{return lo(e,t)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const OA=Gf(EA);function Lp(r,e={}){var t;const{styleConfig:i,...n}=e,{theme:s,colorMode:o}=_y(),a=r?SA(s,`components.${r}`):void 0,l=i||a,c=_t({theme:s,colorMode:o},(t=l?.defaultProps)!=null?t:{},Rp(bA(n,["children"]))),h=ee.useRef({});if(l){const d=Vv(l)(c);OA(h.current,d)||(h.current=d)}return h.current}function TA(r,e={}){return Lp(r,e)}function uP(r,e={}){return Lp(r,e)}var RA=new Set([...Rv,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),LA=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function PA(r){return LA.has(r)||!RA.has(r)}function IA(r,...e){if(r==null)throw new TypeError("Cannot convert undefined or null to object");const t={...r};for(const i of e)if(i!=null)for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&(n in t&&delete t[n],t[n]=i[n]);return t}function NA(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var MA=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DA=NA(function(r){return MA.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),$A=DA,BA=function(e){return e!=="theme"},Qu=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?$A:BA},Xu=function(e,t,i){var n;if(t){var s=t.shouldForwardProp;n=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof n!="function"&&i&&(n=e.__emotion_forwardProp),n},zA=function(e){var t=e.cache,i=e.serialized,n=e.isStringTag;return rp(t,i,n),wy(function(){return dy(t,i,n)}),null},FA=function r(e,t){var i=e.__emotion_real===e,n=i&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=Xu(e,t,i),l=a||Qu(n),c=!l("as");return function(){var h=arguments,u=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&u.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)u.push.apply(u,h);else{u.push(h[0][0]);for(var d=h.length,f=1;f<d;f++)u.push(h[f],h[0][f])}var p=ky(function(b,g,v){var k=c&&b.as||n,E="",A=[],_=b;if(b.theme==null){_={};for(var O in b)_[O]=b[O];_.theme=ee.useContext(Eo)}typeof b.className=="string"?E=uy(g.registered,A,b.className):b.className!=null&&(E=b.className+" ");var C=vy(u.concat(A),g.registered,_);E+=g.key+"-"+C.name,o!==void 0&&(E+=" "+o);var N=c&&a===void 0?Qu(k):l,I={};for(var V in b)c&&V==="as"||N(V)&&(I[V]=b[V]);return I.className=E,I.ref=v,ee.createElement(ee.Fragment,null,ee.createElement(zA,{cache:g,serialized:C,isStringTag:typeof k=="string"}),ee.createElement(k,I))});return p.displayName=s!==void 0?s:"Styled("+(typeof n=="string"?n:n.displayName||n.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=n,p.__emotion_styles=u,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(b,g){return r(b,_o({},t,g,{shouldForwardProp:Xu(p,g,!0)})).apply(void 0,u)},p}},jA=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Io=FA.bind();jA.forEach(function(r){Io[r]=Io(r)});var Ju,HA=(Ju=Io.default)!=null?Ju:Io,VA=({baseStyle:r})=>e=>{const{theme:t,css:i,__css:n,sx:s,...o}=e,a=Tp(o,(u,d)=>Pv(d)),l=kA(r,e),c=IA({},n,l,Rp(a),s),h=zv(c)(e.theme);return i?[h,i]:h};function al(r,e){const{baseStyle:t,...i}=e??{};i.shouldForwardProp||(i.shouldForwardProp=PA);const n=VA({baseStyle:t}),s=HA(r,i)(n);return vi.forwardRef(function(l,c){const{colorMode:h,forced:u}=ap();return vi.createElement(s,{ref:c,"data-theme":u?h:void 0,...l})})}function WA(){const r=new Map;return new Proxy(al,{apply(e,t,i){return al(...i)},get(e,t){return r.has(t)||r.set(t,al(t)),r.get(t)}})}var Gl=WA();function ba(r){return ee.forwardRef(r)}var ed={path:De.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[De.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),De.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),De.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},lh=ba((r,e)=>{const{as:t,viewBox:i,color:n="currentColor",focusable:s=!1,children:o,className:a,__css:l,...c}=r,h=Ey("chakra-icon",a),u=TA("Icon",r),d={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:n,...l,...u},f={ref:e,focusable:s,className:h,__css:d},p=i??ed.viewBox;if(t&&typeof t!="string")return De.jsx(Gl.svg,{as:t,...f,...c});const b=o??ed.path;return De.jsx(Gl.svg,{verticalAlign:"middle",viewBox:p,...f,...c,children:b})});lh.displayName="Icon";function as(r){const{viewBox:e="0 0 24 24",d:t,displayName:i,defaultProps:n={}}=r,s=ee.Children.toArray(r.path),o=ba((a,l)=>De.jsx(lh,{ref:l,viewBox:e,...n,...a,children:s.length?s:De.jsx("path",{fill:"currentColor",d:t})}));return o.displayName=i,o}var ya=Gl("div");ya.displayName="Box";var Pp=ba(function(e,t){const{size:i,centerContent:n=!0,...s}=e,o=n?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return De.jsx(ya,{ref:t,boxSize:i,__css:{...o,flexShrink:0,flexGrow:0},...s})});Pp.displayName="Square";var UA=ba(function(e,t){const{size:i,...n}=e;return De.jsx(Pp,{size:i,ref:t,borderRadius:"9999px",...n})});UA.displayName="Circle";const Ip=(...r)=>r.filter(Boolean).join(" ");class Qi extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name=this.constructor.name}}let Pt=class extends Qi{constructor(e,t,i,n,s){super(t,e),this.code=e,this.message=t,this.lineNumber=i,this.columnNumber=n,this.unexpected=s,this.name=this.constructor.name}};class fe extends Qi{constructor(e,t,i){super(e,i),this.code=e,this.target=t,this.message=i,this.name=this.constructor.name}}class GA extends Qi{constructor(e){super("TIMEOUT",`Evaluation took longer than ${e} seconds`),this.timeoutSeconds=e,this.name=this.constructor.name}}class td extends Qi{constructor(e,t,i,n){super("CHECK_FAILED",e),this.message=e,this.expected=t,this.actual=i,this.operator=n,this.name=this.constructor.name}}class Ls extends Qi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.name=this.constructor.name}}var z=(r=>(r.COMPARISON="COMPARISON",r.BINARY="BINARY",r.UNARY="UNARY",r.LITERAL="LITERAL",r.LIST="LIST",r.MAP="MAP",r.SET="SET",r.TUPLE="TUPLE",r.VARIABLE="VARIABLE",r.IF_ELSE="IF_ELSE",r.WHEN="WHEN",r.BLOCK="BLOCK",r.FUNCTION_CALL="FUNCTION_CALL",r.LAMBDA="LAMBDA",r.REFERENCE="REFERENCE",r.GROUPING="GROUPING",r.LOGICAL_COMPARISON="LOGICAL_COMPARISON",r))(z||{}),K=(r=>(r.MOVE="MOVE",r.TURN="TURN",r.PICK_UP="PICK_UP",r.PLACE="PLACE",r.STOP="STOP",r.PEN="PEN",r.COLOR="COLOR",r.PRINT="PRINT",r.REPEAT="REPEAT",r.WHILE="WHILE",r.FOREACH="FOREACH",r.FUNCTION_DEFINITION="FUNCTION_DEFINITION",r.ASSIGNMENT="ASSIGNMENT",r.CHECK="CHECK",r.EXPRESSION="EXPRESSION",r))(K||{}),y=(r=>(r.INTEGER="INTEGER",r.FLOAT="FLOAT",r.LIST="LIST",r.STRING="STRING",r.IDENTIFIER="IDENTIFIER",r.LEFT_BRACKET="LEFT_BRACKET",r.RIGHT_BRACKET="RIGHT_BRACKET",r.LEFT_PAREN="LEFT_PAREN",r.RIGHT_PAREN="RIGHT_PAREN",r.LEFT_BRACE="LEFT_BRACE",r.RIGHT_BRACE="RIGHT_BRACE",r.DOT="DOT",r.COMMA="COMMA",r.COLON="COLON",r.SEMICOLON="SEMICOLON",r.BANG="BANG",r.QUESTION="QUESTION",r.UNDERSCORE="UNDERSCORE",r.PIPE="PIPE",r.BACKSLASH="BACKSLASH",r.FAT_ARROW="FAT_ARROW",r.AMPERSAND="AMPERSAND",r.EQUAL="EQUAL",r.PLUS="PLUS",r.MINUS="MINUS",r.STAR="STAR",r.SLASH="SLASH",r.AT="AT",r.LESS="LESS",r.LESS_EQUAL="LESS_EQUAL",r.GREATER="GREATER",r.GREATER_EQUAL="GREATER_EQUAL",r.EQUAL_EQUAL="EQUAL_EQUAL",r.BANG_EQUAL="BANG_EQUAL",r.COMMENT="COMMENT",r.MULTI_LINE_COMMENT="MULTI_LINE_COMMENT",r.DOC_STRING="DOC_STRING",r.FORWARD="FORWARD",r.BACKWARD="BACKWARD",r.RIGHT="RIGHT",r.LEFT="LEFT",r.PICK_UP="PICK_UP",r.PLACE="PLACE",r.STOP="STOP",r.PEN_DOWN="PEN_DOWN",r.PEN_UP="PEN_UP",r.COLOR="COLOR",r.PRINT="PRINT",r.REPEAT="REPEAT",r.WHILE="WHILE",r.FOREACH="FOREACH",r.IN="IN",r.FUNCTION="FUNCTION",r.IF="IF",r.ELSE="ELSE",r.WHEN="WHEN",r.CHECK="CHECK",r.IS="IS",r.AND="AND",r.OR="OR",r.EOL="EOL",r.EOF="EOF",r))(y||{});class KA{constructor(e,t,i,n){this.type=e,this.literal=t,this.lineNumber=i,this.columnNumber=n}toString(){return[this.type,this.literal].filter(Boolean).join(" ")}}const fP={LEFT_BRACKET:"[",RIGHT_BRACKET:"]",LEFT_PAREN:"(",RIGHT_PAREN:")",LEFT_BRACE:"{",RIGHT_BRACE:"}"},qA={pirmyn:y.FORWARD,atgal:y.BACKWARD,deinn:y.RIGHT,kairn:y.LEFT,paimk:y.PICK_UP,padk:y.PLACE,stok:y.STOP,piek:y.PEN_DOWN,nepiek:y.PEN_UP,spalva:y.COLOR,rayk:y.PRINT,kartok:y.REPEAT,kol:y.WHILE,su:y.FOREACH,i:y.IN,tai:y.FUNCTION,jeigu:y.IF,"kitu atveju":y.ELSE,kai:y.WHEN,tikrink:y.CHECK,yra:y.IS,ir:y.AND,arba:y.OR},YA={forward:y.FORWARD,backward:y.BACKWARD,right:y.RIGHT,left:y.LEFT,pickup:y.PICK_UP,place:y.PLACE,stop:y.STOP,pendown:y.PEN_DOWN,penup:y.PEN_UP,color:y.COLOR,print:y.PRINT,repeat:y.REPEAT,while:y.WHILE,for:y.FOREACH,in:y.IN,fn:y.FUNCTION,here:y.FUNCTION,if:y.IF,else:y.ELSE,when:y.WHEN,check:y.CHECK,is:y.IS,and:y.AND,or:y.OR},Np=r=>r==="en"?YA:qA,xr=`
`,Mp=(r,e)=>{const t=e?.keywords??Np(e?.language),i=Object.entries(t).reduce((R,[J,ve])=>{const Oe=J.split(" ");return Oe.length>1&&(R[Oe[0]]={tokenType:ve,words:Oe}),R},{}),n=[],s=r.split(xr);let[o,a,l,c,h]=[0,0,s[0],0,!1];const u=(R=0)=>a+R>=l.length,d=R=>/[\w\x80-\uFFFF]/i.test(R),f=R=>/[0-9]/.test(R),p=R=>/[ \t]/.test(R),b=(R=0)=>u(R)?xr:l[a+R],g=()=>u()?xr:l[a++],v=()=>{for(;p(b());)g()},k=(R,J)=>n.push(new KA(R,J,o,c)),E=()=>n[n.length-1],A=()=>{for(;d(b());)g();return l.substring(c,a)},_=()=>{const R=A(),J=E()?.type===y.COLON?y.IDENTIFIER:O(R.toLocaleLowerCase())||y.IDENTIFIER;k(J,J===y.IDENTIFIER?R:void 0)},O=R=>{const J=i[R];if(!J)return t[R];for(let ve=1;ve<J.words.length;ve++){const Oe=J.words[ve];v(),c=a;const Te=A().toLocaleLowerCase();if(Te!==Oe)throw new Pt("EXPECTED",`Expected ${Oe} but got ${Te}`,o,a,[Oe,Te])}return J.tokenType},C=()=>{for(;f(b())||b()==="_"&&f(b(1));)g();if(b()==="."&&f(b(1))){for(g();f(b());)g();return k(y.FLOAT,l.substring(c,a))}k(y.INTEGER,l.substring(c,a).replace(/_/g,""))},N=()=>{for(;b()!=='"';)if(g()===xr)throw new Pt("MULTILINE_NOT_SUPPORTED","Multiline strings are not supported",o,a);g(),k(y.STRING,l.substring(c+1,a-1))},I=()=>{if(b()==="[")return g(),V();for(;b()!==xr;)g();k(y.COMMENT,l.substring(c,a))},V=()=>{for(;;){if(b()==="#"&&b(1)==="]"){g(),g(),k(y.MULTI_LINE_COMMENT);return}if(h)throw new Pt("MULTILINE_COMMENT_NOT_CLOSED","Multi-line comment not closed",o,a);g()===xr&&xe(!1)}},X=()=>{for(;b()!==xr;)g();k(y.DOC_STRING,l.substring(c,a))},xe=(R=!0)=>{o<s.length-1?(l=s[++o],a=0):h=!0,R&&k(y.EOL)},Ne=()=>{const R=g();if(R===xr)return xe();if(f(R))return C();if(d(R))return _();if(p(R))return v();if(R==="@")return k(y.AT);if(R==="(")return k(y.LEFT_PAREN);if(R===")")return k(y.RIGHT_PAREN);if(R==="[")return k(y.LEFT_BRACKET);if(R==="]")return k(y.RIGHT_BRACKET);if(R==="{")return k(y.LEFT_BRACE);if(R==="}")return k(y.RIGHT_BRACE);if(R===".")return k(y.DOT);if(R===",")return k(y.COMMA);if(R===":")return k(y.COLON);if(R==="&")return k(y.AMPERSAND);if(R===";")return X();if(R==="=")return b()==="="?(g(),k(y.EQUAL_EQUAL)):b()===">"?(g(),k(y.FAT_ARROW)):k(y.EQUAL);if(R==="!")return b()==="="?(g(),k(y.BANG_EQUAL)):k(y.BANG);if(R==="?")return k(y.QUESTION);if(R==="+")return k(y.PLUS);if(R==="-")return k(y.MINUS);if(R==="*")return k(y.STAR);if(R==="/")return k(y.SLASH);if(R==="\\")return k(y.BACKSLASH);if(R==='"')return N();if(R==="#")return I();if(R==="<")return b()==="="?(g(),k(y.LESS_EQUAL)):k(y.LESS);if(R===">")return b()==="="?(g(),k(y.GREATER_EQUAL)):k(y.GREATER);if(R==="|"&&b()===">")return g(),k(y.PIPE);throw new Pt("UNEXPECTED",`Unexpected character: ${R}`,o,a,R)};for(;!h;)c=a,Ne();return k(y.EOF),n},ZA=(r,{language:e}={language:"lt"})=>{let t="@get";r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"object",isOptional:!1},{name:"key",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:(i,n)=>{if(i instanceof Array){if(n===0)throw new Qi("ARRAY_ORIGIN","Arrays are 1-indexed");return n<0?i[i.length+n]:i[n-1]}return i[n]}}),r.setVariable("fold",{type:K.FUNCTION_DEFINITION,name:"fold",params:[{name:"initial",isOptional:!1},{name:"list",isOptional:!1},{name:"fn",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:(i,n,s)=>n.reduce((o,a)=>s(o,a),i)}),t=e==="lt"?"liekana":"remainder",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"a",isOptional:!0},{name:"b",isOptional:!0}],block:{type:z.BLOCK,statements:[]},nativeFunction:(i,n)=>i%n}),t=e==="lt"?"rinkis":"choose",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"list",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:i=>i[Math.floor(Math.random()*i.length)]}),t=e==="lt"?"atsitiktinis":"random",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"min",isOptional:!0},{name:"max",isOptional:!0}],block:{type:z.BLOCK,statements:[]},nativeFunction:(i,n)=>i===void 0?Math.random():(i=Math.ceil(i||0),n=Math.floor(n||1),Math.floor(Math.random()*(n-i+1))+i)}),t=e==="lt"?"rikiuok":"sort",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"list",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:i=>(i.sort(),i)}),t=e==="lt"?"galva":"head",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"list",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:i=>i[0]}),t=e==="lt"?"uodega":"tail",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"list",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:i=>i.slice(1)}),t=e==="lt"?"paskutinis":"last",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"list",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:i=>i[i.length-1]}),t=e==="lt"?"didink":"inc",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"@variable",isOptional:!1},{name:"amount",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:(i,n)=>{if(i.type===z.LITERAL)return i.value+n;if(typeof i=="number")return i+n;const s=r.getVariable(i.variable)+n;return r.setVariable(i.variable,s),s}}),t=e==="lt"?"maink":"dec",r.setVariable(t,{type:K.FUNCTION_DEFINITION,name:t,params:[{name:"@variable",isOptional:!1},{name:"amount",isOptional:!1}],block:{type:z.BLOCK,statements:[]},nativeFunction:(i,n)=>{if(i.type===z.LITERAL)return i.value-n;if(typeof i=="number")return i-n;const s=r.getVariable(i.variable)-n;return r.setVariable(i.variable,s),s}})};var tt=(r=>(r.ENERGY="ENERGY",r.FRONT="FRONT",r.BACK="BACK",r.LEFT="LEFT",r.RIGHT="RIGHT",r.EMPTY="EMPTY",r.WALL="WALL",r.STAR="STAR",r.CHARGER="CHARGER",r.DIRECTION="DIRECTION",r.NORTH="NORTH",r.SOUTH="SOUTH",r.EAST="EAST",r.WEST="WEST",r))(tt||{});const Kl={ENERGIJA:"ENERGY",PRIEKYJE:"FRONT",GALE:"BACK",DEINJE:"RIGHT",KAIRJE:"LEFT",LAISVA:"EMPTY",SIENA:"WALL",VAIGD:"STAR",KROVIKLIS:"CHARGER",KRYPTIS:"DIRECTION",IAUR:"NORTH",PIETS:"SOUTH",RYTAI:"EAST",VAKARAI:"WEST"},rd=(r,e)=>tt.hasOwnProperty(r)?r:Kl[r],pP=r=>r==="lt"?Object.keys(Kl):Object.values(Kl);class Dp{globalScope=new Map;scopeStack=[];get currentScope(){return this.scopeStack[this.scopeStack.length-1]}sideEffectHandler=console.log;constructor(e){this.scopeStack.push(this.globalScope),ZA(this,e)}getVariable(e){for(let t=this.scopeStack.length-1;t>=0;t--){const i=this.scopeStack[t];if(i.has(e))return i.get(e);const n=rd(e);if(n&&i.has(n))return i.get(n)}throw new fe("VARIABLE_NOT_FOUND",e,`Variable not found: ${e}`)}setVariable(e,t){if(rd(e))throw new fe("READ_ONY_VARIABLE",e,"Read only variable");this.currentScope.set(e,t)}setReservedVariable(e,t){this.globalScope.set(e,t)}handleSideEffect(e,...t){this.sideEffectHandler(e,...t)}beginScope(e=new Map){this.scopeStack.push(e)}endScope(e=!1){if(this.scopeStack.length===1){if(e)return;throw new fe("END_GLOBAL_SCOPE",null,"Cannot end global scope")}this.scopeStack.pop()}}const QA=Symbol("nonce");let XA=class{constructor(e,t){this.tokens=e,this.definitions=t,this.tokenIndex=0,this.current=e[this.tokenIndex],this.previous=void 0}tokenIndex;current;previous;insidePipe=!1;blockLevel=0;wrgum(){const e=[];for(this.bfda();!this.foot();)e.push(this.crma());return e}crma(){this.bfda();let e;return this.mmmmmmmm(y.FORWARD,y.BACKWARD)?e=this.zomg():this.mmmmmmmm(y.RIGHT,y.LEFT)?e=this.gfgp():this.mmmmmmmm(y.PICK_UP)?e={type:K.PICK_UP}:this.mmmmmmmm(y.PLACE)?e={type:K.PLACE}:this.mmmmmmmm(y.STOP)?e={type:K.STOP}:this.mmmmmmmm(y.PEN_UP,y.PEN_DOWN)?e=this.tgz0z0():this.mmmmmmmm(y.COLOR)?e=this.dd0d0():this.mmmmmmmm(y.PRINT)?e=this.w2fda():this.j1j1j2(y.COLON,y.IDENTIFIER,y.EQUAL)?e=this.remove():this.mmmmmmmm(y.REPEAT)?e=this.dfa49():this.mmmmmmmm(y.WHILE)?e=this.robo1():this.mmmmmmmm(y.FOREACH)?e=this.bjzjzjz():this.mmmmmmmm(y.CHECK)?e=this.checkStmt():this.mmmmmmmm(y.FUNCTION)?e=this.pppp():e=this.hmmm(),this.bfda(),e}zomg(){const e=this.previous.type;return{type:K.MOVE,distance:this.fdasdfasfda798(1),forward:e===y.FORWARD}}fdasdfasfda798(e){return this.cococ()||this.mov()?{type:z.LITERAL,value:e}:this.asdfasfawwwww()}gfgp(){const e=this.previous.type;return{type:K.TURN,angle:this.fdasdfasfda798(90),right:e===y.RIGHT}}tgz0z0(){const e=this.previous.type;return{type:K.PEN,down:e===y.PEN_DOWN}}dd0d0(){return{type:K.COLOR,color:this.asdfasfawwwww()}}w2fda(){return{type:K.PRINT,expression:this.asdfasfawwwww()}}remove(){this.b8b8b8b(y.COLON);const e=this.b8b8b8b(y.IDENTIFIER).literal;this.b8b8b8b(y.EQUAL);const t=this.asdfasfawwwww();return{type:K.ASSIGNMENT,variable:e,expression:t}}dfa49(){const e=this.asdfasfawwwww(),t=this.nono();return{type:K.REPEAT,count:e,block:t}}robo1(){const e=this.asdfasfawwwww(),t=this.nono();return{type:K.WHILE,condition:e,block:t}}bjzjzjz(){this.b8b8b8b(y.COLON);const e=this.b8b8b8b(y.IDENTIFIER).literal;this.b8b8b8b(y.IN);const t=this.asdfasfawwwww(),i=this.nono();return{type:K.FOREACH,variable:e,sequence:t,block:i}}checkStmt(){const e=this.asdfasfawwwww();let t;return this.mmmmmmmm(y.STRING)&&(t=this.previous.literal),{type:K.CHECK,expression:e,message:t}}pppp(){const e=this.b8b8b8b(y.IDENTIFIER).literal;if(this.definitions.has(e))throw new Pt("FUNCTION_EXISTS",`function ${e} is already defined`,this.previous.lineNumber,this.previous.columnNumber,e);this.bfda();const t=[];for(;this.mmmmmmmm(y.COLON);){const s=this.b8b8b8b(y.IDENTIFIER).literal;let o=!1,a;this.mmmmmmmm(y.QUESTION)&&(o=!0,this.mmmmmmmm(y.EQUAL)&&(a=this.asdfasfawwwww())),a?t.push({name:s,isOptional:o,defaultValue:a}):t.push({name:s,isOptional:o}),this.bfda()}let i=!1;for(const s of t){if(i&&!s.isOptional)throw new Pt("OPTIONAL_PARAM_MISPLACED","Optional parameters must be at the end",this.previous.lineNumber,this.previous.columnNumber);i=s.isOptional}const n={type:K.FUNCTION_DEFINITION,name:e,params:t,block:{type:z.BLOCK,statements:[]}};return this.definitions.set(e,n),n.block=this.nono(),n}bbbbkk(e=void 0,{ufcs:t=!1}={}){const i=e?[e]:[];let n,s=[],o=!1,a,l=1;if(this.mmmmmmmm(y.MINUS)&&(l=-1),this.mmmmmmmm(y.INTEGER)&&t){const c=Number(this.previous.literal);n="@get",i.push({type:z.LITERAL,value:c*l})}else if(this.mmmmmmmm(y.LEFT_BRACKET))n="@get",i.push(this.asdfasfawwwww()),this.b8b8b8b(y.RIGHT_BRACKET);else if(this.j1j1j2(y.BACKSLASH))a=this.asdfa(),s=a.params;else if(n=this.b8b8b8b(y.IDENTIFIER).literal,n==="call"||n==="kviesk")n="@call",o=!0,s=[{name:"function",isOptional:!1},{name:"arg",isOptional:!1}];else{const c=this.definitions.get(n);if(!c)throw new Pt("UNKNOWN_COMMAND",`Unknown command "${n}"`,this.previous.lineNumber,this.previous.columnNumber,n);s=c.params||[]}if(s.length>0)for(let c=i.length;c<s.length;c++){const h=s[c];try{i.push(this.asdfasfawwwww())}catch(u){u instanceof Pt&&i.push(h.defaultValue!==void 0?h.defaultValue:QA)}}return{type:z.FUNCTION_CALL,name:n,args:i,dynamic:o,lambda:a}}asdfa(){this.b8b8b8b(y.BACKSLASH);const e=[];for(;this.mmmmmmmm(y.COLON);)e.push({name:this.b8b8b8b(y.IDENTIFIER).literal,isOptional:!1});this.b8b8b8b(y.FAT_ARROW);const t=this.nono();return{type:z.LAMBDA,params:e,block:t}}hmmm(){return{type:K.EXPRESSION,expression:this.asdfasfawwwww()}}asdfasfawwwww(){return this.sttt()}sttt(){let e=this.rofl();for(this.bfda();this.mmmmmmmm(y.OR);){const t=this.previous.type,i=this.rofl();e={type:z.LOGICAL_COMPARISON,operator:t,left:e,right:i}}return e}rofl(){let e=this.o9o9o9();for(this.bfda();this.mmmmmmmm(y.AND);){const t=this.previous.type,i=this.o9o9o9();e={type:z.LOGICAL_COMPARISON,operator:t,left:e,right:i}}return e}o9o9o9(){this.bfda();let e=this.h4h44h();for(;this.mmmmmmmm(y.EQUAL_EQUAL,y.BANG_EQUAL,y.IS);){const t=this.previous.type,i=this.h4h44h();e={type:z.COMPARISON,operator:t,left:e,right:i}}return e}h4h44h(){let e=this.gdascdagc();for(;this.mmmmmmmm(y.LESS,y.LESS_EQUAL,y.GREATER,y.GREATER_EQUAL,y.IS);){const t=this.previous.type,i=this.gdascdagc();e={type:z.COMPARISON,operator:t,left:e,right:i}}return e}gdascdagc(){let e=this.ogog();for(;this.mmmmmmmm(y.PLUS,y.MINUS);){const t=this.previous.type,i=this.ogog();e={type:z.BINARY,operator:t,left:e,right:i}}return e}ogog(){let e=this.pew();for(;this.mmmmmmmm(y.STAR,y.SLASH);){const t=this.previous.type,i=this.pew();e={type:z.BINARY,operator:t,left:e,right:i}}return e}pew(){if(this.mmmmmmmm(y.MINUS)){const t=this.previous.type,i=this.pew();return{type:z.UNARY,operator:t,right:i}}let e=this.ba9vn5();for(this.bfda();!this.insidePipe&&(this.j1j1j2(y.DOT,y.IDENTIFIER)||this.j1j1j2(y.DOT,y.INTEGER)||this.j1j1j2(y.DOT,y.MINUS,y.INTEGER)||this.j1j1j2(y.DOT,y.LEFT_BRACKET)||this.j1j1j2(y.PIPE));)this.insidePipe=!0,this.previous.type!==y.PIPE&&this.peek(),e=this.bbbbkk(e,{ufcs:!0}),this.bfda(),this.insidePipe=!1;return e}ba9vn5(){if(this.j1j1j2(y.LEFT_PAREN))return this.stop3();if(this.j1j1j2(y.LEFT_BRACKET))return this.nono();if(this.j1j1j2(y.IF))return this.stop2();if(this.j1j1j2(y.WHEN))return this.meow();if(this.j1j1j2(y.COLON,y.IDENTIFIER))return this.peek(),{type:z.VARIABLE,variable:this.b8b8b8b(y.IDENTIFIER).literal};if(this.j1j1j2(y.AMPERSAND,y.IDENTIFIER))return this.peek(),{type:z.REFERENCE,variable:this.b8b8b8b(y.IDENTIFIER).literal};if(this.j1j1j2(y.INTEGER))return{type:z.LITERAL,value:this.addd()};if(this.j1j1j2(y.FLOAT))return{type:z.LITERAL,value:this.jjjjj()};if(this.j1j1j2(y.AT,y.LEFT_BRACKET))return this.web();if(this.j1j1j2(y.AT,y.LEFT_BRACE))return this.brrr();if(this.j1j1j2(y.AT,y.LEFT_PAREN))return this.tmafsd();if(this.j1j1j2(y.STRING))return{type:z.LITERAL,value:this.rrrr()};if(this.j1j1j2(y.IDENTIFIER))return this.bbbbkk();if(this.j1j1j2(y.BACKSLASH))return this.asdfa();throw new Pt("UNEXPECTED",`Unexpected token ${this.current.type} at ${this.current.lineNumber}:${this.current.columnNumber}`,this.current.lineNumber,this.current.columnNumber,this.current.type)}web(){const e=[];this.b8b8b8b(y.AT),this.b8b8b8b(y.LEFT_BRACKET);let t=this.tokenIndex;for(;this.tokens[t].type!==y.EOF&&this.tokens[t].type!==y.RIGHT_BRACKET;){if(this.tokens[t].type===y.EQUAL)return this.mkey();t++}for(;!this.foot()&&!this.mmmmmmmm(y.RIGHT_BRACKET);)e.push(this.asdfasfawwwww()),this.bfda(),this.mmmmmmmm(y.COMMA)&&this.bfda();return{type:z.LIST,values:e}}mkey(){const e=[];if(this.j1j1j2(y.EQUAL))return this.b8b8b8b(y.EQUAL),this.b8b8b8b(y.RIGHT_BRACKET),{type:z.MAP,values:e};for(;!this.foot()&&!this.mmmmmmmm(y.RIGHT_BRACKET);){const t=this.asdfasfawwwww();this.b8b8b8b(y.EQUAL);const i=this.asdfasfawwwww();e.push([t,i]),this.bfda(),this.mmmmmmmm(y.COMMA)&&this.bfda()}return{type:z.MAP,values:e}}brrr(){const e=[];for(this.b8b8b8b(y.AT),this.b8b8b8b(y.LEFT_BRACE);!this.foot()&&!this.mmmmmmmm(y.RIGHT_BRACE);)e.push(this.asdfasfawwwww()),this.bfda(),this.mmmmmmmm(y.COMMA)&&this.bfda();return{type:z.SET,values:e}}tmafsd(){const e=[];for(this.b8b8b8b(y.AT),this.b8b8b8b(y.LEFT_PAREN);!this.foot()&&!this.mmmmmmmm(y.RIGHT_PAREN);)e.push(this.asdfasfawwwww()),this.bfda(),this.mmmmmmmm(y.COMMA)&&this.bfda();return{type:z.TUPLE,values:e}}stop2(){this.b8b8b8b(y.IF);const e=this.asdfasfawwwww(),t=this.nono();let i;return this.bfda(),this.mmmmmmmm(y.ELSE)&&(i=this.nono()),{type:z.IF_ELSE,condition:e,thenBlock:t,elseBlock:i}}meow(){this.b8b8b8b(y.WHEN);const e=[];for(this.b8b8b8b(y.LEFT_BRACKET);!this.foot();){this.bfda();const i=this.sttt(),n=this.nono();if(e.push({type:z.IF_ELSE,condition:i,thenBlock:n,elseBlock:void 0}),this.bfda(),this.j1j1j2(y.ELSE))break}this.b8b8b8b(y.ELSE);const t=this.nono();return this.bfda(),this.b8b8b8b(y.RIGHT_BRACKET),{type:z.WHEN,ifThenExpressions:e,elseBlock:t}}nono(){const e=[];for(this.b8b8b8b(y.LEFT_BRACKET),this.blockLevel++;!this.foot()&&!this.mmmmmmmm(y.RIGHT_BRACKET);)e.push(this.crma());if(e.length===0)throw new Pt("EMPTY_BLOCK","Empty block",this.current.lineNumber,this.current.columnNumber);return this.blockLevel--,{type:z.BLOCK,statements:e}}stop3(){this.b8b8b8b(y.LEFT_PAREN);const e=this.asdfasfawwwww();return this.b8b8b8b(y.RIGHT_PAREN),{type:z.GROUPING,expression:e}}mov(){return this.current.type===y.EOL}foot(){return this.current.type===y.EOF}bfda(){for(;this.mmmmmmmm(y.EOL,y.COMMENT,y.MULTI_LINE_COMMENT,y.DOC_STRING););}peek(){if(this.tokenIndex<this.tokens.length)return this.previous=this.current,this.current=this.tokens[++this.tokenIndex],this.current}b8b8b8b(e){if(this.current.type===e)return this.peek(),this.previous;throw new Pt("EXPECTED",`Expected ${e} but got ${this.current.type} at ${this.current.lineNumber}:${this.current.columnNumber}`,this.current.lineNumber,this.current.columnNumber,[e,this.current.type])}mmmmmmmm(...e){for(const t of e)if(this.current.type===t)return this.peek(),!0;return!1}addd(){return parseInt(this.b8b8b8b(y.INTEGER).literal,10)}jjjjj(){return parseFloat(this.b8b8b8b(y.FLOAT).literal)}rrrr(){return this.b8b8b8b(y.STRING).literal}j1j1j2(...e){return e.every((t,i)=>this.tokens[this.tokenIndex+i].type==t)}cococ(){const e=[y.COMMENT,y.MULTI_LINE_COMMENT,y.DOC_STRING,y.FORWARD,y.BACKWARD,y.RIGHT,y.LEFT,y.STOP,y.PEN_DOWN,y.PEN_UP,y.PRINT,y.REPEAT,y.WHILE,y.FOREACH,y.FUNCTION,y.IF,y.WHILE,y.CHECK];return this.blockLevel>0&&e.push(y.RIGHT_BRACKET),e.includes(this.current.type)}};const JA=(r,e,t)=>new XA(r,t||new Dp(e).currentScope).wrgum(),e_=2,id=r=>r instanceof Set||r instanceof Map?r.size===0:Array.isArray(r)?r.length===0:!1,t_=[z.IF_ELSE,z.WHEN,z.FUNCTION_CALL];class r_{constructor(e,{timeoutSeconds:t=e_}={}){this.env=e,this.timeoutSeconds=t,this.start=Date.now()}timeoutSeconds;start;status="ready";allowedTopLevelExpressions=!0;pause(e){this.status="in_progress";let t=0;this.start=Date.now();for(const i of e){if(i.type===K.EXPRESSION&&!this.allowedTopLevelExpressions&&!t_.includes(i.expression.type))throw new fe("TOP_LEVEL_EXPRESSION",i.expression.type,"Top level expressions are not allowed");t=this.rofl(i)}return this.status==="in_progress"&&(this.status="done"),t}get isReady(){return this.status==="ready"}get isStopped(){return this.status==="stopped"||this.status==="error"||this.status==="done"}ready(){this.status="ready"}error(e){throw this.status="error",e}stop(){this.status="stopped"}checkTimeout(){if((Date.now()-this.start)/1e3>this.timeoutSeconds)throw this.status="error",new GA(this.timeoutSeconds)}rofl(e){if(this.isStopped)return 0;switch(this.checkTimeout(),e.type){case K.MOVE:return this.addd(e);case K.TURN:return this.stop2(e);case K.PICK_UP:return this.pppp(e);case K.PLACE:return this.bbbbkk(e);case K.STOP:return this.stop(),this.bjzjzjz(e);case K.PEN:return this.jjjjj(e);case K.COLOR:return this.ogog(e);case K.PRINT:return this.hmmm(e);case K.ASSIGNMENT:return this.web(e);case K.REPEAT:return this.asdfa(e);case K.WHILE:return this.cococ(e);case K.FOREACH:return this.mov(e);case K.CHECK:return this.walkCheckStmt(e);case K.FUNCTION_DEFINITION:return this.foot(e);case K.EXPRESSION:return this.robo1(e.expression);default:throw new fe("UNEXPECTED_STATEMENT",e.type,`Unexpected statement ${JSON.stringify(e)}`)}}robo1(e){if(this.isStopped)return 0;switch(this.checkTimeout(),e.type){case z.LOGICAL_COMPARISON:return this.pew(e);case z.COMPARISON:return this.meow(e);case z.UNARY:return this.tmafsd(e);case z.BINARY:return this.gfgp(e);case z.LITERAL:return this.gdasdagc(e);case z.LIST:return this.rrrr(e);case z.MAP:return this.crma(e);case z.SET:return this.bfda(e);case z.TUPLE:return this.brrr(e);case z.VARIABLE:return this.dfa49(e);case z.IF_ELSE:return this.w2fda(e);case z.WHEN:return this.ba9vn5(e);case z.BLOCK:return this.tgz0z0(e);case z.GROUPING:return this.sttt(e);case z.FUNCTION_CALL:return this.zomg(e);case z.LAMBDA:return this.mmmmmmm(e);case z.REFERENCE:return this.mkey(e);default:throw new fe("UNEXPECTED_EXPRESSION",e.type,`Unexpected expression ${JSON.stringify(e)}`)}}pew(e){const t=this.robo1(e.left);switch(e.operator){case y.AND:return t&&!id(t)?this.robo1(e.right):t;case y.OR:return t&&!id(t)?t:this.robo1(e.right);default:throw new fe("UNEXPECTED_OPERATOR",e.operator,`Unexpected operator ${JSON.stringify(e.operator)}`)}}meow(e){const t=this.robo1(e.left),i=this.robo1(e.right);switch(e.operator){case y.LESS:return+(t<i);case y.LESS_EQUAL:return+(t<=i);case y.GREATER:return+(t>i);case y.GREATER_EQUAL:return+(t>=i);case y.EQUAL_EQUAL:case y.IS:return+(t===i);case y.BANG_EQUAL:return+(t!==i);default:throw new fe("UNEXPECTED_OPERATOR",e.operator,`Unexpected operator ${JSON.stringify(e.operator)}`)}}gfgp(e){const t=this.robo1(e.left),i=this.robo1(e.right);switch(e.operator){case y.PLUS:{if(typeof t=="string"||typeof i=="string")return`${t}${i}`;if(typeof t=="number"&&typeof i=="number")return t+i;if(t instanceof Array&&i instanceof Array){const n=[...t,...i];return Object.isFrozen(t)&&Object.freeze(n),n}if(t instanceof Set&&i instanceof Set)return new Set([...t,...i]);throw new fe("INVALID_ADD_TYPES",[typeof t,typeof i],`Invalid types for '+' operation '${typeof t}' and '${typeof i}'`)}case y.MINUS:return t-i;case y.STAR:if(typeof t=="number"&&typeof i=="number")return t*i;if(typeof t=="number"&&typeof i=="string")return i.repeat(t);if(typeof t=="string"&&typeof i=="number")return t.repeat(i);if(t instanceof Array&&typeof i=="number")return Array.from({length:t.length*i},(n,s)=>t[s%t.length]);if(i instanceof Array&&typeof t=="number")return Array.from({length:i.length*t},(n,s)=>i[s%i.length]);throw new fe("INVALID_ADD_TYPES",[typeof t,typeof i],`Invalid types for '*' operation '${typeof t}' and '${typeof i}'`);case y.SLASH:if(i==0)throw new fe("DIVISION_BY_ZERO",[t,i],`Division by zero: '${t}' / '${i}'`);return t/i;default:throw new fe("UNEXPECTED_OPERATOR",e.operator,`Unexpected operator ${JSON.stringify(e)}`)}}tmafsd(e){const t=this.robo1(e.right);switch(e.operator){case y.MINUS:return-t;default:throw new fe("UNEXPECTED_OPERATOR",e.operator,`Unexpected operator ${e.operator}`)}}gdasdagc(e){return e.value}rrrr(e){return e.values.map(t=>this.robo1(t))}crma(e){return new Map(e.values.map(t=>[this.robo1(t[0]),this.robo1(t[1])]))}bfda(e){return new Set(e.values.map(t=>this.robo1(t)))}brrr(e){return Object.freeze(e.values.map(t=>this.robo1(t)))}dfa49(e){const t=this.env.getVariable(e.variable);if(t===void 0)throw new fe("VARIABLE_NOT_FOUND",e.variable,`Variable not found: ${e.variable}`);return t}sttt(e){return this.robo1(e.expression)}addd(e){const t=this.robo1(e.distance);return this.env.handleSideEffect(e.type,e.forward,t),t}stop2(e){const t=this.robo1(e.angle);return this.env.handleSideEffect(e.type,e.right,t),t}pppp(e){return this.env.handleSideEffect(e.type),0}bbbbkk(e){return this.env.handleSideEffect(e.type),0}bjzjzjz(e){return this.env.handleSideEffect(e.type),0}jjjjj(e){return this.env.handleSideEffect(e.type,e.down),e.down}ogog(e){const t=this.robo1(e.color);return this.env.handleSideEffect(e.type,t),t}hmmm(e){const t=this.robo1(e.expression);return this.env.handleSideEffect(e.type,t),t}web(e){const t=this.robo1(e.expression);return this.env.setVariable(e.variable,t),t}tgz0z0(e){let t=0;for(const i of e.statements)t=this.rofl(i);return t}asdfa(e){const t=this.robo1(e.count);for(let i=0;i<t;i++)this.tgz0z0(e.block);return 0}cococ(e){let t=!1;for(;this.robo1(e.condition)&&!this.isStopped;)t=this.tgz0z0(e.block);return t}mov(e){const t=this.robo1(e.sequence);let i=!1;for(const n of t)this.env.setVariable(e.variable,n),i=this.tgz0z0(e.block);return i}walkCheckStmt(e){if(!this.robo1(e.expression)){if(e.message!==void 0)throw new td(e.message);if(e.expression.type===z.COMPARISON){const i=e.expression,n=this.robo1(i.left),s=this.robo1(i.right);let o;switch(i.operator){case y.LESS:o="to be less than";break;case y.LESS_EQUAL:o="to be less than or equal to";break;case y.GREATER:o="to be greater than";break;case y.GREATER_EQUAL:o="to be greater than or equal to";break;case y.EQUAL_EQUAL:case y.IS:o="to be equal to";break;case y.BANG_EQUAL:o="not to be equal to";break;default:throw new fe("UNEXPECTED_OPERATOR",i.operator,`Unexpected operator ${i.operator}`)}throw new td(`Expected ${n} ${o} ${s}`,s,n,i.operator)}}return 1}w2fda(e){return this.robo1(e.condition)?this.tgz0z0(e.thenBlock):e.elseBlock!==void 0?this.tgz0z0(e.elseBlock):0}ba9vn5(e){for(const t of e.ifThenExpressions)if(this.robo1(t.condition))return this.tgz0z0(t.thenBlock);return this.tgz0z0(e.elseBlock)}foot(e){return this.env.setVariable(e.name,e),e}zomg(e){let t;if(e.dynamic?t=this.env.getVariable(e.args[0].variable):e.lambda?t=e.lambda:t=this.env.getVariable(e.name),t===void 0)throw new fe("FUNCTION_NOT_FOUND",e.name,`Function not found: ${e.name}`);if(t.type!==K.FUNCTION_DEFINITION&&!t.params)throw new fe("NOT_A_FUNCTION",t.type,`Expected functio but got ${t.tupy}`);const i=e.dynamic?e.args.slice(1):e.args;if(t.params.length!==i.length)throw new fe("MISSING_FUNCTION_ARGS",[t.params.length,i.length],`Expected ${t.params.length} arguments, got ${i.length}`);const n=t.nativeFunction||(typeof t=="function"?t:void 0);if(n!==void 0)return n(...i.map((a,l)=>t.params[l].name[0]==="@"&&typeof a!="symbol"&&a.type===z.VARIABLE?a:typeof a=="symbol"?void 0:this.robo1(a)));const s=new Map;for(let a=0;a<t.params.length;a++)s.set(t.params[a].name,typeof i[a]=="symbol"?i[a]:this.robo1(i[a]));this.env.beginScope(s);const o=this.tgz0z0(t.block);return this.env.endScope(),o}mmmmmmm(e){const t=(...i)=>{const n=new Map;for(let o=0;o<e.params.length;o++)n.set(e.params[o].name,i[o]);this.env.beginScope(n);const s=this.tgz0z0(e.block);return this.env.endScope(),s};return t.params=e.params,t}mkey(e){return this.env.getVariable(e.variable)}}var i_=(r=>(r.READY="read",r.IN_PROGRESS="progress",r.PASS="pass",r.FAIL="fail",r))(i_||{}),ct=(r=>(r.EMPTY="EMPTY",r.WALL="WALL",r.STAR="STAR",r.CHARGER="CHARGER",r.BIN="BIN",r.TRASH="TRASH",r.ARROW="ARROW",r))(ct||{});const n_=r=>{switch(r){case"WALL":return 1;case"STAR":return 2;case"CHARGER":return 3;case"BIN":return 4;case"TRASH":return 5;case"ARROW":return 6;default:return 0}},nd=(r,e)=>r?.x===e?.x&&r?.y===e?.y;var Ye=(r=>(r.ZOOM="ZOOM",r.SIZE="SIZE",r.FREESTYLE="F",r.START_LOCATION="START",r.START_ANGLE="ANGLE",r.START_ENERGY="ENERGY",r.WALL="WALL",r.STAR="STAR",r.CHARGER="CHARGER",r.TRASH="TRASH",r.BIN="BIN",r.ARROW="ARROW",r.WIN="WIN",r.LOOSE="LOOSE",r))(Ye||{}),co=(r=>(r.REACH_LOCATION="REACH",r.ENERGY_LEVEL="ENERGY",r.COLLECT_STARS="STARS",r.CLEAN_FLOOR="CLEAN",r))(co||{});const s_=/#(\w+)(?:\[(.+)\])?!\s?(.+)?/i,$p=/\(([^)]+)\)(\?)?/,Dr=r=>r.trim().split(" ").map(e=>parseInt(e,10)),o_=r=>{const[e]=Dr(r);if([1,16,32,48].includes(e)||e>48&&e%16==0)return{type:"ZOOM",level:e};throw new fe("INVALID_ZOOM",r,`Invalid zoom level: ${r}`)},a_=r=>{const[e,t]=Dr(r);if(e>=0&&t>=0)return{type:"START",position:{x:e,y:t}};throw new fe("INVALID_START",r,`Invalid start location: ${r}`)},Bp=r=>r.split(",").map(e=>{const t=e.match($p);if(t){const[s,o]=Dr(t[1]);return{x:s,y:o,optional:t[2]!==void 0}}const[i,n]=Dr(e);return{x:i,y:n}}),l_=r=>{const[e,t]=Dr(r);if(e>=1&&t>=1&&Number.isInteger(e)&&Number.isInteger(t))return{type:"SIZE",size:{width:e,height:t}};throw new fe("INVALID_SIZE",r,`Invalid size: ${r}`)},c_=r=>{let[e]=Dr(r);if(e<0&&(e+=360),e>=0&&e<=360)return{type:"ANGLE",angle:e};throw new fe("INVALID_ANGLE",r,`Invalid start angle ${r}`)},h_=r=>{const[e]=Dr(r);if(e>0)return{type:"ENERGY",value:e};throw new fe("INVALID_ENERGY",r,`Invalid start energy ${r}`)},sd=r=>{const[e,...t]=r.split(" ");switch(e.toUpperCase()){case"REACH":{const[i,n]=t.map(s=>parseInt(s,10));if(i>=0&&n>=0)return{type:"REACH",position:{x:i,y:n}};throw new fe("INVALID_LOCATION",r,`Invalid reach condition: ${r}`)}case"ENERGY":{const[i]=Dr(t[0]);if(i>=0)return{type:"ENERGY",level:i};throw new fe("INVALID_ENERGY_CONDITION",r,`Invalid energy condition: ${r}`)}case"STARS":return{type:"STARS"};case"CLEAN":return{type:"CLEAN"};default:throw new fe("INVALID_CONDITION",r,`Invalid condition: ${r}`)}},u_=(r,e)=>({type:r,positions:Bp(e[1].replace(/\|/g,",")).map(({x:t,y:i})=>({x:t,y:i,optional:e[2]!==void 0})),onlyOne:e[1].includes("|")});function d_(r){const e=Mp(r),t=[];let i;for(const n of e)if(n.type===y.COMMENT)for(const s of n.literal.split(";")){const o=s.match(s_);if(!o)continue;const[,a,l,c]=o;switch(a.toUpperCase()){case"ZOOM":{t.push(o_(c));break}case"SIZE":{i=l_(c),t.push(i);break}case"START":{t.push(a_(c));break}case"ANGLE":{t.push(c_(c));break}case"ENERGY":{t.push(h_(c));break}case"F":{t.push({type:"F",enabled:c!=="0"});break}case"WALL":case"STAR":case"CHARGER":case"ARROW":case"TRASH":case"BIN":{const h=a.toUpperCase();for(const u of c.split(",")){const d=u.match($p);if(d)t.push(u_(h,d));else{const f=l?.[0]==="r"?{rotate:parseInt(l.slice(1),10)}:{};t.push({type:h,positions:Bp(u),...f})}}break}case"WIN":{t.push({type:"WIN",condition:sd(c)});break}case"LOOSE":{t.push({type:"LOOSE",condition:sd(c)});break}}}if(i===void 0)return t;for(const n of t)if(n.type==="START"){if(n.position.x>=i.size.width||n.position.y>=i.size.height)throw new fe("INVALID_LOCATION",`${n.position.x} ${n.position.y}`,"Invalid start location")}else if((n.type==="WIN"||n.type==="LOOSE")&&n.condition.type==="REACH"&&(n.condition.position.x>=i.size.width||n.condition.position.y>=i.size.height))throw new fe("INVALID_LOCATION",`${n.condition.position.x} ${n.condition.position.y}`,"Invalid reach location");return t}const gP=(r,e={})=>{const t=Mp(r,{keywords:Np(e.language)});return JA(t,e)},zp=1024;let f_=0,ll=class{constructor(e,t){this.from=e,this.to=t}};class se{constructor(e={}){this.id=f_++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ft.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}se.closedBy=new se({deserialize:r=>r.split(" ")});se.openedBy=new se({deserialize:r=>r.split(" ")});se.group=new se({deserialize:r=>r.split(" ")});se.contextHash=new se({perNode:!0});se.lookAhead=new se({perNode:!0});se.mounted=new se({perNode:!0});class No{constructor(e,t,i){this.tree=e,this.overlay=t,this.parser=i}static get(e){return e&&e.props&&e.props[se.mounted.id]}}const p_=Object.create(null);class ft{constructor(e,t,i,n=0){this.name=e,this.props=t,this.id=i,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):p_,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),n=new ft(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(n)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return n}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(se.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let n of i.split(" "))t[n]=e[i];return i=>{for(let n=i.prop(se.group),s=-1;s<(n?n.length:0);s++){let o=t[s<0?i.name:n[s]];if(o)return o}}}}ft.none=new ft("",Object.create(null),0,8);class ch{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let n=null;for(let s of e){let o=s(i);o&&(n||(n=Object.assign({},i.props)),n[o[0].id]=o[1])}t.push(n?new ft(i.name,n,i.id,i.flags):i)}return new ch(t)}}const Ps=new WeakMap,od=new WeakMap;var Ge;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Ge||(Ge={}));class He{constructor(e,t,i,n,s){if(this.type=e,this.children=t,this.positions=i,this.length=n,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=No.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let n=i.toString();n&&(t&&(t+=","),t+=n)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Yl(this.topNode,e)}cursorAt(e,t=0,i=0){let n=Ps.get(this)||this.topNode,s=new Yl(n);return s.moveTo(e,t),Ps.set(this,s._tree),s}get topNode(){return new Ot(this,0,0,null)}resolve(e,t=0){let i=Un(Ps.get(this)||this.topNode,e,t,!1);return Ps.set(this,i),i}resolveInner(e,t=0){let i=Un(od.get(this)||this.topNode,e,t,!0);return od.set(this,i),i}resolveStack(e,t=0){return b_(this,e,t)}iterate(e){let{enter:t,leave:i,from:n=0,to:s=this.length}=e,o=e.mode||0,a=(o&Ge.IncludeAnonymous)>0;for(let l=this.cursor(o|Ge.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=n&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&i&&(a||!l.type.isAnonymous)&&i(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:dh(ft.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,n)=>new He(this.type,t,i,n,this.propValues),e.makeTree||((t,i,n)=>new He(ft.none,t,i,n)))}static build(e){return y_(e)}}He.empty=new He(ft.none,[],[],0);class hh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new hh(this.buffer,this.index)}}class hi{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return ft.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],n=this.set.types[t],s=n.name;if(/\W/.test(s)&&!n.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,n,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(Fp(s,n,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i){let n=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=n[a++],s[l++]=n[a++]-i;let c=s[l++]=n[a++]-i;s[l++]=n[a++]-e,o=Math.max(o,c)}return new hi(s,o,this.set)}}function Fp(r,e,t,i){switch(r){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function Un(r,e,t,i){for(var n;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!i&&r instanceof Ot&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=i?0:Ge.IgnoreOverlays;if(i)for(let o=r,a=o.parent;a;o=a,a=o.parent)o instanceof Ot&&o.index<0&&((n=a.enter(e,t,s))===null||n===void 0?void 0:n.from)!=o.from&&(r=a);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}class jp{cursor(e=0){return new Yl(this,e)}getChild(e,t=null,i=null){let n=ad(this,e,t,i);return n.length?n[0]:null}getChildren(e,t=null,i=null){return ad(this,e,t,i)}resolve(e,t=0){return Un(this,e,t,!1)}resolveInner(e,t=0){return Un(this,e,t,!0)}matchContext(e){return ql(this,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),i=this;for(;t;){let n=t.lastChild;if(!n||n.to!=t.to)break;n.type.isError&&n.from==n.to?(i=t,t=n.prevSibling):t=n}return i}get node(){return this}get next(){return this.parent}}class Ot extends jp{constructor(e,t,i,n){super(),this._tree=e,this.from=t,this.index=i,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,n,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let h=a[e],u=l[e]+o.from;if(Fp(n,i,u,u+h.length)){if(h instanceof hi){if(s&Ge.ExcludeBuffers)continue;let d=h.findChild(0,h.buffer.length,t,i-u,n);if(d>-1)return new Or(new m_(o,h,e,u),null,d)}else if(s&Ge.IncludeAnonymous||!h.type.isAnonymous||uh(h)){let d;if(!(s&Ge.IgnoreMounts)&&(d=No.get(h))&&!d.overlay)return new Ot(d.tree,u,e,o);let f=new Ot(h,u,e,o);return s&Ge.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(t<0?h.children.length-1:0,t,i,n)}}}if(s&Ge.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let n;if(!(i&Ge.IgnoreOverlays)&&(n=No.get(this._tree))&&n.overlay){let s=e-this.from;for(let{from:o,to:a}of n.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Ot(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function ad(r,e,t,i){let n=r.cursor(),s=[];if(!n.firstChild())return s;if(t!=null){for(;!n.type.is(t);)if(!n.nextSibling())return s}for(;;){if(i!=null&&n.type.is(i))return s;if(n.type.is(e)&&s.push(n.node),!n.nextSibling())return i==null?s:[]}}function ql(r,e,t=e.length-1){for(let i=r.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class m_{constructor(e,t,i,n){this.parent=e,this.buffer=t,this.index=i,this.start=n}}class Or extends jp{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,i){super(),this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}child(e,t,i){let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new Or(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Ge.ExcludeBuffers)return null;let{buffer:n}=this.context,s=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Or(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Or(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Or(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,n=this.index+4,s=i.buffer[this.index+3];if(s>n){let o=i.buffer[this.index+1];e.push(i.slice(n,s,o)),t.push(0)}return new He(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Hp(r){if(!r.length)return null;if(r.length==1)return r[0];let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let i=t instanceof Ot&&t.index<0?null:t.parent,n=r.slice();return i?n[e]=i:n.splice(e,1),new g_(n,t)}class g_{constructor(e,t){this.heads=e,this.node=t}get next(){return Hp(this.heads)}}function b_(r,e,t){let i=r.resolveInner(e,t),n=null;for(let s=i instanceof Ot?i:i.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(n||(n=[i])).push(o.resolve(e,t)),s=o}else{let o=No.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ot(o.tree,o.overlay[0].from+s.from,0,null);(n||(n=[i])).push(Un(a,e,t,!1))}}return n?Hp(n):i}class Yl{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ot)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=i+n.buffer[e+1],this.to=i+n.buffer[e+2],!0}yield(e){return e?e instanceof Ot?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:n}=this.buffer,s=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Ge.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ge.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ge.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let n=i<0?0:this.stack[i]+4;if(this.index!=n)return this.yieldBuf(t.findChild(n,this.index,-1,0,4))}else{let n=t.buffer[this.index+3];if(n<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(n)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(n.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=n)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Ge.IncludeAnonymous||a instanceof hi||!a.type.isAnonymous||uh(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer)e:for(let n=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,i=s+1;break e}n=this.stack[--s]}for(let n=i;n<this.stack.length;n++)t=new Or(this.buffer,t,this.stack[n]);return this.bufferNode=new Or(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let n=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,n=!0}}}matchContext(e){if(!this.buffer)return ql(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let n=e.length-1,s=this.stack.length-1;n>=0;s--){if(s<0)return ql(this.node,e,n);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function uh(r){return r.children.some(e=>e instanceof hi||!e.type.isAnonymous||uh(e))}function y_(r){var e;let{buffer:t,nodeSet:i,maxBufferLength:n=zp,reused:s=[],minRepeatType:o=i.types.length}=r,a=Array.isArray(t)?new hh(t,t.length):t,l=i.types,c=0,h=0;function u(A,_,O,C,N){let{id:I,start:V,end:X,size:xe}=a,Ne=h;for(;xe<0;)if(a.next(),xe==-1){let Te=s[I];O.push(Te),C.push(V-A);return}else if(xe==-3){c=I;return}else if(xe==-4){h=I;return}else throw new RangeError(`Unrecognized record size: ${xe}`);let R=l[I],J,ve,Oe=V-A;if(X-V<=n&&(ve=b(a.pos-_,N))){let Te=new Uint16Array(ve.size-ve.skip),Se=a.pos-ve.size,Re=Te.length;for(;a.pos>Se;)Re=g(ve.start,Te,Re);J=new hi(Te,X-ve.start,i),Oe=ve.start-A}else{let Te=a.pos-xe;a.next();let Se=[],Re=[],mt=I>=o?I:-1,Rt=0,ne=X;for(;a.pos>Te;)mt>=0&&a.id==mt&&a.size>=0?(a.end<=ne-n&&(f(Se,Re,V,Rt,a.end,ne,mt,Ne),Rt=Se.length,ne=a.end),a.next()):u(V,Te,Se,Re,mt);if(mt>=0&&Rt>0&&Rt<Se.length&&f(Se,Re,V,Rt,V,ne,mt,Ne),Se.reverse(),Re.reverse(),mt>-1&&Rt>0){let Ji=d(R);J=dh(R,Se,Re,0,Se.length,0,X-V,Ji,Ji)}else J=p(R,Se,Re,X-V,Ne-X)}O.push(J),C.push(Oe)}function d(A){return(_,O,C)=>{let N=0,I=_.length-1,V,X;if(I>=0&&(V=_[I])instanceof He){if(!I&&V.type==A&&V.length==C)return V;(X=V.prop(se.lookAhead))&&(N=O[I]+V.length+X)}return p(A,_,O,C,N)}}function f(A,_,O,C,N,I,V,X){let xe=[],Ne=[];for(;A.length>C;)xe.push(A.pop()),Ne.push(_.pop()+O-N);A.push(p(i.types[V],xe,Ne,I-N,X-I)),_.push(N-O)}function p(A,_,O,C,N=0,I){if(c){let V=[se.contextHash,c];I=I?[V].concat(I):[V]}if(N>25){let V=[se.lookAhead,N];I=I?[V].concat(I):[V]}return new He(A,_,O,C,I)}function b(A,_){let O=a.fork(),C=0,N=0,I=0,V=O.end-n,X={size:0,start:0,skip:0};e:for(let xe=O.pos-A;O.pos>xe;){let Ne=O.size;if(O.id==_&&Ne>=0){X.size=C,X.start=N,X.skip=I,I+=4,C+=4,O.next();continue}let R=O.pos-Ne;if(Ne<0||R<xe||O.start<V)break;let J=O.id>=o?4:0,ve=O.start;for(O.next();O.pos>R;){if(O.size<0)if(O.size==-3)J+=4;else break e;else O.id>=o&&(J+=4);O.next()}N=ve,C+=Ne,I+=J}return(_<0||C==A)&&(X.size=C,X.start=N,X.skip=I),X.size>4?X:void 0}function g(A,_,O){let{id:C,start:N,end:I,size:V}=a;if(a.next(),V>=0&&C<o){let X=O;if(V>4){let xe=a.pos-(V-4);for(;a.pos>xe;)O=g(A,_,O)}_[--O]=X,_[--O]=I-A,_[--O]=N-A,_[--O]=C}else V==-3?c=C:V==-4&&(h=C);return O}let v=[],k=[];for(;a.pos>0;)u(r.start||0,r.bufferStart||0,v,k,-1);let E=(e=r.length)!==null&&e!==void 0?e:v.length?k[0]+v[0].length:0;return new He(l[r.topID],v.reverse(),k.reverse(),E)}const ld=new WeakMap;function ho(r,e){if(!r.isAnonymous||e instanceof hi||e.type!=r)return 1;let t=ld.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=r||!(i instanceof He)){t=1;break}t+=ho(r,i)}ld.set(e,t)}return t}function dh(r,e,t,i,n,s,o,a,l){let c=0;for(let p=i;p<n;p++)c+=ho(r,e[p]);let h=Math.ceil(c*1.5/8),u=[],d=[];function f(p,b,g,v,k){for(let E=g;E<v;){let A=E,_=b[E],O=ho(r,p[E]);for(E++;E<v;E++){let C=ho(r,p[E]);if(O+C>=h)break;O+=C}if(E==A+1){if(O>h){let C=p[A];f(C.children,C.positions,0,C.children.length,b[A]+k);continue}u.push(p[A])}else{let C=b[E-1]+p[E-1].length-_;u.push(dh(r,p,b,A,E,_,C,null,l))}d.push(_+k-s)}}return f(e,t,i,n,0),(a||l)(u,d,o)}class si{constructor(e,t,i,n,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=n,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let n=[new si(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&n.push(s);return n}static applyChanges(e,t,i=128){if(!t.length)return e;let n=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let h=a<t.length?t[a]:null,u=h?h.fromA:1e9;if(u-l>=i)for(;o&&o.from<u;){let d=o;if(l>=d.from||u<=d.to||c){let f=Math.max(d.from,l)-c,p=Math.min(d.to,u)-c;d=f>=p?null:new si(f,p,d.tree,d.offset+c,a>0,!!h)}if(d&&n.push(d),o.to>u)break;o=s<e.length?e[s++]:null}if(!h)break;l=h.toA,c=h.toA-h.toB}return n}}class Vp{startParse(e,t,i){return typeof e=="string"&&(e=new v_(e)),i=i?i.length?i.map(n=>new ll(n.from,n.to)):[new ll(0,0)]:[new ll(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let n=this.startParse(e,t,i);for(;;){let s=n.advance();if(s)return s}}}class v_{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new se({perNode:!0});let S_=0;class Ut{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=S_++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let t=new Ut([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Mo;return t=>t.modified.indexOf(e)>-1?t:Mo.get(t.base||t,t.modified.concat(e).sort((i,n)=>i.id-n.id))}}let w_=0;class Mo{constructor(){this.instances=[],this.id=w_++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&k_(t,a.modified));if(i)return i;let n=[],s=new Ut(n,e,t);for(let a of t)a.instances.push(s);let o=x_(t);for(let a of e.set)if(!a.modified.length)for(let l of o)n.push(Mo.get(a,l));return s}}function k_(r,e){return r.length==e.length&&r.every((t,i)=>t==e[i])}function x_(r){let e=[[]];for(let t=0;t<r.length;t++)for(let i=0,n=e.length;i<n;i++)e.push(e[i].concat(r[t]));return e.sort((t,i)=>i.length-t.length)}function C_(r){let e=Object.create(null);for(let t in r){let i=r[t];Array.isArray(i)||(i=[i]);for(let n of t.split(" "))if(n){let s=[],o=2,a=n;for(let u=0;;){if(a=="..."&&u>0&&u+3==n.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+n);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),u+=d[0].length,u==n.length)break;let f=n[u++];if(u==n.length&&f=="!"){o=0;break}if(f!="/")throw new RangeError("Invalid path: "+n);a=n.slice(u)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+n);let h=new Do(i,o,l>0?s.slice(0,l):null);e[c]=h.sort(e[c])}}return Wp.add(e)}const Wp=new se;class Do{constructor(e,t,i,n){this.tags=e,this.mode=t,this.context=i,this.next=n}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Do.empty=new Do([],2,null);function Up(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:n=null}=e||{};return{style:s=>{let o=n;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:i}}function A_(r,e){let t=null;for(let i of r){let n=i.style(e);n&&(t=t?t+" "+n:n)}return t}function __(r,e,t,i=0,n=r.length){let s=new E_(i,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),i,n,"",s.highlighters),s.flush(n)}class E_{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,n,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(f=>!f.scope||f.scope(o)));let c=n,h=O_(e)||Do.empty,u=A_(s,h.tags);if(u&&(c&&(c+=" "),c+=u,h.mode==1&&(n+=(n?" ":"")+u)),this.startSpan(Math.max(t,a),c),h.opaque)return;let d=e.tree&&e.tree.prop(se.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+a,1),p=this.highlighters.filter(g=>!g.scope||g.scope(d.tree.type)),b=e.firstChild();for(let g=0,v=a;;g++){let k=g<d.overlay.length?d.overlay[g]:null,E=k?k.from+a:l,A=Math.max(t,v),_=Math.min(i,E);if(A<_&&b)for(;e.from<_&&(this.highlightRange(e,A,_,n,s),this.startSpan(Math.min(_,e.to),c),!(e.to>=E||!e.nextSibling())););if(!k||E>i)break;v=k.to+a,v>t&&(this.highlightRange(f.cursor(),Math.max(t,k.from+a),Math.min(i,v),"",p),this.startSpan(Math.min(i,v),c))}b&&e.parent()}else if(e.firstChild()){d&&(n="");do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,n,s),this.startSpan(Math.min(i,e.to),c)}while(e.nextSibling());e.parent()}}}function O_(r){let e=r.type.prop(Wp);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const L=Ut.define,Is=L(),Cr=L(),cd=L(Cr),hd=L(Cr),Ar=L(),Ns=L(Ar),cl=L(Ar),jt=L(),Gr=L(jt),Bt=L(),zt=L(),Zl=L(),hn=L(Zl),Ms=L(),P={comment:Is,lineComment:L(Is),blockComment:L(Is),docComment:L(Is),name:Cr,variableName:L(Cr),typeName:cd,tagName:L(cd),propertyName:hd,attributeName:L(hd),className:L(Cr),labelName:L(Cr),namespace:L(Cr),macroName:L(Cr),literal:Ar,string:Ns,docString:L(Ns),character:L(Ns),attributeValue:L(Ns),number:cl,integer:L(cl),float:L(cl),bool:L(Ar),regexp:L(Ar),escape:L(Ar),color:L(Ar),url:L(Ar),keyword:Bt,self:L(Bt),null:L(Bt),atom:L(Bt),unit:L(Bt),modifier:L(Bt),operatorKeyword:L(Bt),controlKeyword:L(Bt),definitionKeyword:L(Bt),moduleKeyword:L(Bt),operator:zt,derefOperator:L(zt),arithmeticOperator:L(zt),logicOperator:L(zt),bitwiseOperator:L(zt),compareOperator:L(zt),updateOperator:L(zt),definitionOperator:L(zt),typeOperator:L(zt),controlOperator:L(zt),punctuation:Zl,separator:L(Zl),bracket:hn,angleBracket:L(hn),squareBracket:L(hn),paren:L(hn),brace:L(hn),content:jt,heading:Gr,heading1:L(Gr),heading2:L(Gr),heading3:L(Gr),heading4:L(Gr),heading5:L(Gr),heading6:L(Gr),contentSeparator:L(jt),list:L(jt),quote:L(jt),emphasis:L(jt),strong:L(jt),link:L(jt),monospace:L(jt),strikethrough:L(jt),inserted:L(),deleted:L(),changed:L(),invalid:L(),meta:Ms,documentMeta:L(Ms),annotation:L(Ms),processingInstruction:L(Ms),definition:Ut.defineModifier(),constant:Ut.defineModifier(),function:Ut.defineModifier(),standard:Ut.defineModifier(),local:Ut.defineModifier(),special:Ut.defineModifier()};Up([{tag:P.link,class:"tok-link"},{tag:P.heading,class:"tok-heading"},{tag:P.emphasis,class:"tok-emphasis"},{tag:P.strong,class:"tok-strong"},{tag:P.keyword,class:"tok-keyword"},{tag:P.atom,class:"tok-atom"},{tag:P.bool,class:"tok-bool"},{tag:P.url,class:"tok-url"},{tag:P.labelName,class:"tok-labelName"},{tag:P.inserted,class:"tok-inserted"},{tag:P.deleted,class:"tok-deleted"},{tag:P.literal,class:"tok-literal"},{tag:P.string,class:"tok-string"},{tag:P.number,class:"tok-number"},{tag:[P.regexp,P.escape,P.special(P.string)],class:"tok-string2"},{tag:P.variableName,class:"tok-variableName"},{tag:P.local(P.variableName),class:"tok-variableName tok-local"},{tag:P.definition(P.variableName),class:"tok-variableName tok-definition"},{tag:P.special(P.variableName),class:"tok-variableName2"},{tag:P.definition(P.propertyName),class:"tok-propertyName tok-definition"},{tag:P.typeName,class:"tok-typeName"},{tag:P.namespace,class:"tok-namespace"},{tag:P.className,class:"tok-className"},{tag:P.macroName,class:"tok-macroName"},{tag:P.propertyName,class:"tok-propertyName"},{tag:P.operator,class:"tok-operator"},{tag:P.comment,class:"tok-comment"},{tag:P.meta,class:"tok-meta"},{tag:P.invalid,class:"tok-invalid"},{tag:P.punctuation,class:"tok-punctuation"}]);class ge{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let n=[];return this.decompose(0,e,n,2),i.length&&i.decompose(0,i.length,n,3),this.decompose(t,this.length,n,1),Gt.from(n,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Gt.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),n=new Ln(this),s=new Ln(e);for(let o=t,a=t;;){if(n.next(o),s.next(o),o=0,n.lineBreak!=s.lineBreak||n.done!=s.done||n.value!=s.value)return!1;if(a+=n.value.length,n.done||a>=i)return!0}}iter(e=1){return new Ln(this,e)}iterRange(e,t=this.length){return new Gp(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let n=this.line(e).from;i=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Kp(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ge.empty:e.length<=32?new $e(e):Gt.from($e.split(e,[]))}}class $e extends ge{constructor(e,t=T_(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.text[s],a=n+o.length;if((t?i:a)>=e)return new R_(n,a,i,o);n=a+1,i++}}decompose(e,t,i,n){let s=e<=0&&t>=this.length?this:new $e(ud(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(n&1){let o=i.pop(),a=uo(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new $e(a,o.length+s.length));else{let l=a.length>>1;i.push(new $e(a.slice(0,l)),new $e(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof $e))return super.replace(e,t,i);let n=uo(this.text,uo(i.text,ud(this.text,0,e)),t),s=this.length+i.length-(t-e);return n.length<=32?new $e(n,s):Gt.from($e.split(n,[]),s)}sliceString(e,t=this.length,i=`
`){let n="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(n+=i),e<l&&t>s&&(n+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],n=-1;for(let s of e)i.push(s),n+=s.length+1,i.length==32&&(t.push(new $e(i,n)),i=[],n=-1);return n>-1&&t.push(new $e(i,n)),t}}class Gt extends ge{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,n){for(let s=0;;s++){let o=this.children[s],a=n+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,n);n=a+1,i=l+1}}decompose(e,t,i,n){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=n&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?i.push(a):a.decompose(e-o,t-o,i,c)}o=l+1}}replace(e,t,i){if(i.lines<this.lines)for(let n=0,s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),c=this.lines-o.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let h=this.children.slice();return h[n]=l,new Gt(h,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let n="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(n+=i),e<l&&t>o&&(n+=a.sliceString(e-o,t-o,i)),o=l+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Gt))return 0;let i=0,[n,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,s+=t){if(n==o||s==a)return i;let l=this.children[n],c=e.children[s];if(l!=c)return i+l.scanIdentical(c,t);i+=l.length+1}}static from(e,t=e.reduce((i,n)=>i+n.length+1,-1)){let i=0;for(let f of e)i+=f.lines;if(i<32){let f=[];for(let p of e)p.flatten(f);return new $e(f,t)}let n=Math.max(32,i>>5),s=n<<1,o=n>>1,a=[],l=0,c=-1,h=[];function u(f){let p;if(f.lines>s&&f instanceof Gt)for(let b of f.children)u(b);else f.lines>o&&(l>o||!l)?(d(),a.push(f)):f instanceof $e&&l&&(p=h[h.length-1])instanceof $e&&f.lines+p.lines<=32?(l+=f.lines,c+=f.length+1,h[h.length-1]=new $e(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>n&&d(),l+=f.lines,c+=f.length+1,h.push(f))}function d(){l!=0&&(a.push(h.length==1?h[0]:Gt.from(h,c)),c=-1,l=h.length=0)}for(let f of e)u(f);return d(),a.length==1?a[0]:new Gt(a,t)}}ge.empty=new $e([""],0);function T_(r){let e=-1;for(let t of r)e+=t.length+1;return e}function uo(r,e,t=0,i=1e9){for(let n=0,s=0,o=!0;s<r.length&&n<=i;s++){let a=r[s],l=n+a.length;l>=t&&(l>i&&(a=a.slice(0,i-n)),n<t&&(a=a.slice(t-n)),o?(e[e.length-1]+=a,o=!1):e.push(a)),n=l+1}return e}function ud(r,e,t){return uo(r,[""],e,t)}class Ln{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof $e?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,n=this.nodes[i],s=this.offsets[i],o=s>>1,a=n instanceof $e?n.text.length:n.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(n instanceof $e){let l=n.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=n.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof $e?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Gp{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new Ln(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=i?n:t<0?n.slice(n.length-i):n.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Kp{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:n}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ge.prototype[Symbol.iterator]=function(){return this.iter()},Ln.prototype[Symbol.iterator]=Gp.prototype[Symbol.iterator]=Kp.prototype[Symbol.iterator]=function(){return this});class R_{constructor(e,t,i,n){this.from=e,this.to=t,this.number=i,this.text=n}get length(){return this.to-this.from}}let Ii="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=1;r<Ii.length;r++)Ii[r]+=Ii[r-1];function L_(r){for(let e=1;e<Ii.length;e+=2)if(Ii[e]>r)return Ii[e-1]<=r;return!1}function dd(r){return r>=127462&&r<=127487}const fd=8205;function qt(r,e,t=!0,i=!0){return(t?qp:P_)(r,e,i)}function qp(r,e,t){if(e==r.length)return e;e&&Yp(r.charCodeAt(e))&&Zp(r.charCodeAt(e-1))&&e--;let i=Pn(r,e);for(e+=Ql(i);e<r.length;){let n=Pn(r,e);if(i==fd||n==fd||t&&L_(n))e+=Ql(n),i=n;else if(dd(n)){let s=0,o=e-2;for(;o>=0&&dd(Pn(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function P_(r,e,t){for(;e>0;){let i=qp(r,e-2,t);if(i<e)return i;e--}return 0}function Yp(r){return r>=56320&&r<57344}function Zp(r){return r>=55296&&r<56320}function Pn(r,e){let t=r.charCodeAt(e);if(!Zp(t)||e+1==r.length)return t;let i=r.charCodeAt(e+1);return Yp(i)?(t-55296<<10)+(i-56320)+65536:t}function yP(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function Ql(r){return r<65536?1:2}const Xl=/\r\n?|\n/;var ut=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(ut||(ut={}));class dr{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,n=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,n,s),n+=s):n+=o,i+=s}}iterChangedRanges(e,t=!1){Jl(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];n<0?e.push(i,n):e.push(n,i)}return new dr(e)}composeDesc(e){return this.empty?e:e.empty?this:Qp(this,e)}mapDesc(e,t=!1){return e.empty?this:ec(this,e,t)}mapPos(e,t=-1,i=ut.Simple){let n=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=n+a;if(l<0){if(c>e)return s+(e-n);s+=a}else{if(i!=ut.Simple&&c>=e&&(i==ut.TrackDel&&n<e&&c>e||i==ut.TrackBefore&&n<e||i==ut.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==n||t<0?s:s+l;s+=l}n=c}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return s}touchesRange(e,t=e){for(let i=0,n=0;i<this.sections.length&&n<=t;){let s=this.sections[i++],o=this.sections[i++],a=n+s;if(o>=0&&n<=t&&a>=e)return n<e&&a>t?"cover":!0;n=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+i+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new dr(e)}static create(e){return new dr(e)}}class Ue extends dr{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Jl(this,(t,i,n,s,o)=>e=e.replace(n,n+(i-t),o),!1),e}mapDesc(e,t=!1){return ec(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let n=0,s=0;n<t.length;n+=2){let o=t[n],a=t[n+1];if(a>=0){t[n]=a,t[n+1]=o;let l=n>>1;for(;i.length<l;)i.push(ge.empty);i.push(o?e.slice(s,s+o):ge.empty)}s+=o}return new Ue(t,i)}compose(e){return this.empty?e:e.empty?this:Qp(this,e,!0)}map(e,t=!1){return e.empty?this:ec(this,e,t,!0)}iterChanges(e,t=!1){Jl(this,e,t)}get desc(){return dr.create(this.sections)}filter(e){let t=[],i=[],n=[],s=new Gn(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,l-a);et(n,h,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;et(t,h,u),u>0&&Tr(i,t,s.text),s.forward(h),a+=h}let c=e[o++];for(;a<c;){if(s.done)break e;let h=Math.min(s.len,c-a);et(t,h,-1),et(n,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),a+=h}}return{changes:new Ue(t,i),filtered:dr.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],n=this.sections[t+1];n<0?e.push(i):n==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let n=[],s=[],o=0,a=null;function l(h=!1){if(!h&&!n.length)return;o<t&&et(n,t-o,-1);let u=new Ue(n,s);a=a?a.compose(u.map(a)):u,n=[],s=[],o=0}function c(h){if(Array.isArray(h))for(let u of h)c(u);else if(h instanceof Ue){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);l(),a=a?a.compose(h.map(a)):h}else{let{from:u,to:d=u,insert:f}=h;if(u>d||u<0||d>t)throw new RangeError(`Invalid change range ${u} to ${d} (in doc of length ${t})`);let p=f?typeof f=="string"?ge.of(f.split(i||Xl)):f:ge.empty,b=p.length;if(u==d&&b==0)return;u<o&&l(),u>o&&et(n,u-o,-1),et(n,d-u,b),Tr(s,n,p),o=d}}return c(e),l(!a),a}static empty(e){return new Ue(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let n=0;n<e.length;n++){let s=e[n];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<n;)i.push(ge.empty);i[n]=ge.of(s.slice(1)),t.push(s[0],i[n].length)}}}return new Ue(t,i)}static createSet(e,t){return new Ue(e,t)}}function et(r,e,t,i=!1){if(e==0&&t<=0)return;let n=r.length-2;n>=0&&t<=0&&t==r[n+1]?r[n]+=e:e==0&&r[n]==0?r[n+1]+=t:i?(r[n]+=e,r[n+1]+=t):r.push(e,t)}function Tr(r,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<i;)r.push(ge.empty);r.push(t)}}function Jl(r,e,t){let i=r.inserted;for(let n=0,s=0,o=0;o<r.sections.length;){let a=r.sections[o++],l=r.sections[o++];if(l<0)n+=a,s+=a;else{let c=n,h=s,u=ge.empty;for(;c+=a,h+=l,l&&i&&(u=u.append(i[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)a=r.sections[o++],l=r.sections[o++];e(n,c,s,h,u),n=c,s=h}}}function ec(r,e,t,i=!1){let n=[],s=i?[]:null,o=new Gn(r),a=new Gn(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);et(n,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(et(n,a.ins,-1);c;){let h=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=h&&(et(n,0,o.ins),s&&Tr(s,n,o.text),l=o.i),o.forward(h),c-=h}a.next()}else if(o.ins>=0){let c=0,h=o.len;for(;h;)if(a.ins==-1){let u=Math.min(h,a.len);c+=u,h-=u,a.forward(u)}else if(a.ins==0&&a.len<h)h-=a.len,a.next();else break;et(n,c,l<o.i?o.ins:0),s&&l<o.i&&Tr(s,n,o.text),l=o.i,o.forward(o.len-h)}else{if(o.done&&a.done)return s?Ue.createSet(n,s):dr.create(n);throw new Error("Mismatched change set lengths")}}function Qp(r,e,t=!1){let i=[],n=t?[]:null,s=new Gn(r),o=new Gn(e);for(let a=!1;;){if(s.done&&o.done)return n?Ue.createSet(i,n):dr.create(i);if(s.ins==0)et(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)et(i,0,o.ins,a),n&&Tr(n,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=i.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;et(i,l,h,a),n&&h&&Tr(n,i,o.text)}else o.ins==-1?(et(i,s.off?0:s.len,l,a),n&&Tr(n,i,s.textBit(l))):(et(i,s.off?0:s.len,o.off?0:o.ins,a),n&&!o.off&&Tr(n,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>c),s.forward2(l),o.forward(l)}}}}class Gn{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ge.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?ge.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ei{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,n;return this.empty?i=n=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),n=e.mapPos(this.to,-1)),i==this.from&&n==this.to?this:new ei(i,n,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return F.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return F.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return F.range(e.anchor,e.head)}static create(e,t,i){return new ei(e,t,i)}}class F{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:F.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new F([this.main],0)}addRange(e,t=!0){return F.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,F.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new F(e.ranges.map(t=>ei.fromJSON(t)),e.main)}static single(e,t=e){return new F([F.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,n=0;n<e.length;n++){let s=e[n];if(s.empty?s.from<=i:s.from<i)return F.normalized(e.slice(),t);i=s.to}return new F(e,t)}static cursor(e,t=0,i,n){return ei.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(n??33554431)<<5)}static range(e,t,i,n){let s=(i??33554431)<<5|(n==null?3:Math.min(2,n));return t<e?ei.create(t,e,24|s):ei.create(e,t,(t>e?4:0)|s)}static normalized(e,t=0){let i=e[t];e.sort((n,s)=>n.from-s.from),t=e.indexOf(i);for(let n=1;n<e.length;n++){let s=e[n],o=e[n-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);n<=t&&t--,e.splice(--n,2,s.anchor>s.head?F.range(l,a):F.range(a,l))}}return new F(e,t)}}function Xp(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let fh=0;class H{constructor(e,t,i,n,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=n,this.id=fh++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new H(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:ph),!!e.static,e.enables)}of(e){return new fo([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new fo(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new fo(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function ph(r,e){return r==e||r.length==e.length&&r.every((t,i)=>t===e[i])}class fo{constructor(e,t,i,n){this.dependencies=e,this.facet=t,this.type=i,this.value=n,this.id=fh++}dynamicSlot(e){var t;let i=this.value,n=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,h=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?c=!0:((t=e[u.id])!==null&&t!==void 0?t:1)&1||h.push(e[u.id]);return{create(u){return u.values[o]=i(u),1},update(u,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||tc(u,h)){let f=i(u);if(a?!pd(f,u.values[o],n):!n(f,u.values[o]))return u.values[o]=f,1}return 0},reconfigure:(u,d)=>{let f,p=d.config.address[s];if(p!=null){let b=Bo(d,p);if(this.dependencies.every(g=>g instanceof H?d.facet(g)===u.facet(g):g instanceof Dt?d.field(g,!1)==u.field(g,!1):!0)||(a?pd(f=i(u),b,n):n(f=i(u),b)))return u.values[o]=b,0}else f=i(u);return u.values[o]=f,1}}}}function pd(r,e,t){if(r.length!=e.length)return!1;for(let i=0;i<r.length;i++)if(!t(r[i],e[i]))return!1;return!0}function tc(r,e){let t=!1;for(let i of e)In(r,i)&1&&(t=!0);return t}function I_(r,e,t){let i=t.map(l=>r[l.id]),n=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=r[e.id]>>1;function a(l){let c=[];for(let h=0;h<i.length;h++){let u=Bo(l,i[h]);if(n[h]==2)for(let d of u)c.push(d);else c.push(u)}return e.combine(c)}return{create(l){for(let c of i)In(l,c);return l.values[o]=a(l),1},update(l,c){if(!tc(l,s))return 0;let h=a(l);return e.compare(h,l.values[o])?0:(l.values[o]=h,1)},reconfigure(l,c){let h=tc(l,i),u=c.config.facets[e.id],d=c.facet(e);if(u&&!h&&ph(t,u))return l.values[o]=d,0;let f=a(l);return e.compare(f,d)?(l.values[o]=d,0):(l.values[o]=f,1)}}}const md=H.define({static:!0});class Dt{constructor(e,t,i,n,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=n,this.spec=s,this.provides=void 0}static define(e){let t=new Dt(fh++,e.create,e.update,e.compare||((i,n)=>i===n),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(md).find(i=>i.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,n)=>{let s=i.values[t],o=this.updateF(s,n);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,n)=>n.config.address[this.id]!=null?(i.values[t]=n.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,md.of({field:this,create:e})]}get extension(){return this}}const Zr={lowest:4,low:3,default:2,high:1,highest:0};function un(r){return e=>new Jp(e,r)}const va={highest:un(Zr.highest),high:un(Zr.high),default:un(Zr.default),low:un(Zr.low),lowest:un(Zr.lowest)};class Jp{constructor(e,t){this.inner=e,this.prec=t}}class Sa{of(e){return new rc(this,e)}reconfigure(e){return Sa.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class rc{constructor(e,t){this.compartment=e,this.inner=t}}class $o{constructor(e,t,i,n,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=n,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let n=[],s=Object.create(null),o=new Map;for(let d of N_(e,t,o))d instanceof Dt?n.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of n)a[d.id]=c.length<<1,c.push(f=>d.slot(f));let h=i?.config.facets;for(let d in s){let f=s[d],p=f[0].facet,b=h&&h[d]||[];if(f.every(g=>g.type==0))if(a[p.id]=l.length<<1|1,ph(b,f))l.push(i.facet(p));else{let g=p.combine(f.map(v=>v.value));l.push(i&&p.compare(g,i.facet(p))?i.facet(p):g)}else{for(let g of f)g.type==0?(a[g.id]=l.length<<1|1,l.push(g.value)):(a[g.id]=c.length<<1,c.push(v=>g.dynamicSlot(v)));a[p.id]=c.length<<1,c.push(g=>I_(g,p,f))}}let u=c.map(d=>d(a));return new $o(e,o,u,a,l,s)}}function N_(r,e,t){let i=[[],[],[],[],[]],n=new Map;function s(o,a){let l=n.get(o);if(l!=null){if(l<=a)return;let c=i[l].indexOf(o);c>-1&&i[l].splice(c,1),o instanceof rc&&t.delete(o.compartment)}if(n.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof rc){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof Jp)s(o.inner,o.prec);else if(o instanceof Dt)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof fo)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,Zr.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(r,Zr.default),i.reduce((o,a)=>o.concat(a))}function In(r,e){if(e&1)return 2;let t=e>>1,i=r.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;r.status[t]=4;let n=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|n}function Bo(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const em=H.define(),tm=H.define({combine:r=>r.some(e=>e),static:!0}),rm=H.define({combine:r=>r.length?r[0]:void 0,static:!0}),im=H.define(),nm=H.define(),sm=H.define(),om=H.define({combine:r=>r.length?r[0]:!1});class Xi{constructor(e,t){this.type=e,this.value=t}static define(){return new M_}}class M_{of(e){return new Xi(this,e)}}class D_{constructor(e){this.map=e}of(e){return new Ie(this,e)}}class Ie{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ie(this.type,t)}is(e){return this.type==e}static define(e={}){return new D_(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let n of e){let s=n.map(t);s&&i.push(s)}return i}}Ie.reconfigure=Ie.define();Ie.appendConfig=Ie.define();class it{constructor(e,t,i,n,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=n,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Xp(i,t.newLength),s.some(a=>a.type==it.time)||(this.annotations=s.concat(it.time.of(Date.now())))}static create(e,t,i,n,s,o){return new it(e,t,i,n,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(it.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}it.time=Xi.define();it.userEvent=Xi.define();it.addToHistory=Xi.define();it.remote=Xi.define();function $_(r,e){let t=[];for(let i=0,n=0;;){let s,o;if(i<r.length&&(n==e.length||e[n]>=r[i]))s=r[i++],o=r[i++];else if(n<e.length)s=e[n++],o=e[n++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function am(r,e,t){var i;let n,s,o;return t?(n=e.changes,s=Ue.empty(e.changes.length),o=r.changes.compose(e.changes)):(n=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(n)),{changes:o,selection:e.selection?e.selection.map(s):(i=r.selection)===null||i===void 0?void 0:i.map(n),effects:Ie.mapEffects(r.effects,n).concat(Ie.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function ic(r,e,t){let i=e.selection,n=Ni(e.annotations);return e.userEvent&&(n=n.concat(it.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ue?e.changes:Ue.of(e.changes||[],t,r.facet(rm)),selection:i&&(i instanceof F?i:F.single(i.anchor,i.head)),effects:Ni(e.effects),annotations:n,scrollIntoView:!!e.scrollIntoView}}function lm(r,e,t){let i=ic(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=am(i,ic(r,e[s],o?i.changes.newLength:r.doc.length),o)}let n=it.create(r,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return z_(t?B_(n):n)}function B_(r){let e=r.startState,t=!0;for(let n of e.facet(im)){let s=n(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:$_(t,s))}if(t!==!0){let n,s;if(t===!1)s=r.changes.invertedDesc,n=Ue.empty(e.doc.length);else{let o=r.changes.filter(t);n=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=it.create(e,n,r.selection&&r.selection.map(s),Ie.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let i=e.facet(nm);for(let n=i.length-1;n>=0;n--){let s=i[n](r);s instanceof it?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof it?r=s[0]:r=lm(e,Ni(s),!1)}return r}function z_(r){let e=r.startState,t=e.facet(sm),i=r;for(let n=t.length-1;n>=0;n--){let s=t[n](r);s&&Object.keys(s).length&&(i=am(i,ic(e,s,r.changes.newLength),!0))}return i==r?r:it.create(e,r.changes,r.selection,i.effects,i.annotations,i.scrollIntoView)}const F_=[];function Ni(r){return r==null?F_:Array.isArray(r)?r:[r]}var cr=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(cr||(cr={}));const j_=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let nc;try{nc=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function H_(r){if(nc)return nc.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||j_.test(t)))return!0}return!1}function V_(r){return e=>{if(!/\S/.test(e))return cr.Space;if(H_(e))return cr.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return cr.Word;return cr.Other}}class pe{constructor(e,t,i,n,s,o){this.config=e,this.doc=t,this.selection=i,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)In(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return In(this,i),Bo(this,i)}update(...e){return lm(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:n}=t;for(let o of e.effects)o.is(Sa.reconfigure)?(t&&(n=new Map,t.compartments.forEach((a,l)=>n.set(l,a)),t=null),n.set(o.value.compartment,o.value.extension)):o.is(Ie.reconfigure)?(t=null,i=o.value):o.is(Ie.appendConfig)&&(t=null,i=Ni(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=$o.resolve(i,n,this),s=new pe(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new pe(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:F.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),n=this.changes(i.changes),s=[i.range],o=Ni(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),h=c.map(n);for(let d=0;d<a;d++)s[d]=s[d].map(h);let u=n.mapDesc(c,!0);s.push(l.range.map(u)),n=n.compose(h),o=Ie.mapEffects(o,h).concat(Ie.mapEffects(Ni(l.effects),u))}return{changes:n,selection:F.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Ue?e:Ue.of(e,this.doc.length,this.facet(pe.lineSeparator))}toText(e){return ge.of(e.split(this.facet(pe.lineSeparator)||Xl))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(In(this,t),Bo(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let n=e[i];n instanceof Dt&&this.config.address[n.id]!=null&&(t[i]=n.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];n.push(o.init(l=>o.spec.fromJSON(a,l)))}}return pe.create({doc:e.doc,selection:F.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(e={}){let t=$o.resolve(e.extensions||[],new Map),i=e.doc instanceof ge?e.doc:ge.of((e.doc||"").split(t.staticFacet(pe.lineSeparator)||Xl)),n=e.selection?e.selection instanceof F?e.selection:F.single(e.selection.anchor,e.selection.head):F.single(0);return Xp(n,i.length),t.staticFacet(tm)||(n=n.asSingle()),new pe(t,i,n,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(pe.tabSize)}get lineBreak(){return this.facet(pe.lineSeparator)||`
`}get readOnly(){return this.facet(om)}phrase(e,...t){for(let i of this.facet(pe.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,n)=>{if(n=="$")return"$";let s=+(n||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let n=[];for(let s of this.facet(em))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&n.push(o[e]);return n}charCategorizer(e){return V_(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:n}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=qt(t,o,!1);if(s(t.slice(l,o))!=cr.Word)break;o=l}for(;a<n;){let l=qt(t,a);if(s(t.slice(a,l))!=cr.Word)break;a=l}return o==a?null:F.range(o+i,a+i)}}pe.allowMultipleSelections=tm;pe.tabSize=H.define({combine:r=>r.length?r[0]:4});pe.lineSeparator=rm;pe.readOnly=om;pe.phrases=H.define({compare(r,e){let t=Object.keys(r),i=Object.keys(e);return t.length==i.length&&t.every(n=>r[n]==e[n])}});pe.languageData=em;pe.changeFilter=im;pe.transactionFilter=nm;pe.transactionExtender=sm;Sa.reconfigure=Ie.define();function ls(r,e,t={}){let i={};for(let n of r)for(let s of Object.keys(n)){let o=n[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let n in e)i[n]===void 0&&(i[n]=e[n]);return i}class Hi{eq(e){return this==e}range(e,t=e){return Kn.create(e,t,this)}}Hi.prototype.startSide=Hi.prototype.endSide=0;Hi.prototype.point=!1;Hi.prototype.mapMode=ut.TrackDel;class Kn{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new Kn(e,t,i)}}function sc(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class mh{constructor(e,t,i,n){this.from=e,this.to=t,this.value=i,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,n=0){let s=i?this.to:this.from;for(let o=n,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,i,n){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(n(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],n=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],h=this.from[l]+e,u=this.to[l]+e,d,f;if(h==u){let p=t.mapPos(h,c.startSide,c.mapMode);if(p==null||(d=f=p,c.startSide!=c.endSide&&(f=t.mapPos(h,c.endSide),f<d)))continue}else if(d=t.mapPos(h,c.startSide),f=t.mapPos(u,c.endSide),d>f||d==f&&c.startSide>0&&c.endSide<=0)continue;(f-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,f-d)),i.push(c),n.push(d-o),s.push(f-o))}return{mapped:i.length?new mh(n,s,i,a):null,pos:o}}}class ye{constructor(e,t,i,n){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=n}static create(e,t,i,n){return new ye(e,t,i,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:n=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(sc)),this.isEmpty)return t.length?ye.of(t):this;let a=new cm(this,null,-1).goto(0),l=0,c=[],h=new oi;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let u=t[l++];h.addInner(u.from,u.to,u.value)||c.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||n>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&h.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||n>a.to||s<a.from||o(a.from,a.to,a.value))&&(h.addInner(a.from,a.to,a.value)||c.push(Kn.create(a.from,a.to,a.value))),a.next());return h.finishInner(this.nextLayer.isEmpty&&!c.length?ye.empty:this.nextLayer.update({add:c,filter:o,filterFrom:n,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],n=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)n=Math.max(n,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(c===!0){let{mapped:h,pos:u}=l.map(a,e);h&&(n=Math.max(n,h.maxPoint),t.push(h),i.push(u))}}let s=this.nextLayer.map(e);return t.length==0?s:new ye(i,t,s||ye.empty,n)}between(e,t,i){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let s=this.chunkPos[n],o=this.chunk[n];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return qn.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return qn.from(e).goto(t)}static compare(e,t,i,n,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=gd(o,a,i),c=new dn(o,l,s),h=new dn(a,l,s);i.iterGaps((u,d,f)=>bd(c,u,h,d,f,n)),i.empty&&i.length==0&&bd(c,0,h,0,0,n)}static eq(e,t,i=0,n){n==null&&(n=1e9-1);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=gd(s,o),l=new dn(s,a,0).goto(i),c=new dn(o,a,0).goto(i);for(;;){if(l.to!=c.to||!oc(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>n)return!0;l.next(),c.next()}}static spans(e,t,i,n,s=-1){let o=new dn(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,i);if(o.point){let h=o.activeForPoint(o.to),u=o.pointFrom<t?h.length+1:Math.min(h.length,l);n.point(a,c,o.point,h,u,o.pointRank),l=Math.min(o.openEnd(c),h.length)}else c>a&&(n.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>i)return l+(o.point&&o.to>i?1:0);a=o.to,o.next()}}static of(e,t=!1){let i=new oi;for(let n of e instanceof Kn?[e]:t?W_(e):e)i.add(n.from,n.to,n.value);return i.finish()}}ye.empty=new ye([],[],null,-1);function W_(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let i=r[t];if(sc(e,i)>0)return r.slice().sort(sc);e=i}return r}ye.empty.nextLayer=ye.empty;class oi{finishChunk(e){this.chunks.push(new mh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new oi)).add(e,t,i)}addInner(e,t,i){let n=e-this.lastTo||i.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return n<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(ye.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=ye.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function gd(r,e,t){let i=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let n=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!t?.touchesRange(a,a+s.chunk[o].length)&&n.add(s.chunk[o])}return n}class cm{constructor(e,t,i,n=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let n=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(n)||this.layer.chunkEnd(this.chunkIndex)<e||n.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class qn{constructor(e){this.heap=e}static from(e,t=null,i=-1){let n=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&n.push(new cm(o,t,i,s));return n.length==1?n[0]:new qn(n)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)hl(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)hl(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),hl(this.heap,0)}}}function hl(r,e){for(let t=r[e];;){let i=(e<<1)+1;if(i>=r.length)break;let n=r[i];if(i+1<r.length&&n.compare(r[i+1])>=0&&(n=r[i+1],i++),t.compare(n)<0)break;r[i]=t,r[e]=n,e=i}}class dn{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=qn.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ds(this.active,e),Ds(this.activeTo,e),Ds(this.activeRank,e),this.minActive=yd(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:n,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;$s(this.active,t,i),$s(this.activeTo,t,n),$s(this.activeRank,t,s),e&&$s(e,t,this.cursor.from),this.minActive=yd(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),i&&Ds(i,n)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){this.openStart=0;for(let n=i.length-1;n>=0&&i[n]<e;n--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function bd(r,e,t,i,n,s){r.goto(e),t.goto(i);let o=i+n,a=i,l=i-e;for(;;){let c=r.to+l-t.to||r.endSide-t.endSide,h=c<0?r.to+l:t.to,u=Math.min(h,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&oc(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(a,u,r.point,t.point):u>a&&!oc(r.active,t.active)&&s.compareRange(a,u,r.active,t.active),h>o)break;a=h,c<=0&&r.next(),c>=0&&t.next()}}function oc(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Ds(r,e){for(let t=e,i=r.length-1;t<i;t++)r[t]=r[t+1];r.pop()}function $s(r,e,t){for(let i=r.length-1;i>=e;i--)r[i+1]=r[i];r[e]=t}function yd(r,e){let t=-1,i=1e9;for(let n=0;n<e.length;n++)(e[n]-i||r[n].endSide-r[t].endSide)<0&&(t=n,i=e[n]);return t}function gh(r,e,t=r.length){let i=0;for(let n=0;n<t;)r.charCodeAt(n)==9?(i+=e-i%e,n++):(i++,n=qt(r,n));return i}function ac(r,e,t,i){for(let n=0,s=0;;){if(s>=e)return n;if(n==r.length)break;s+=r.charCodeAt(n)==9?t-s%t:1,n=qt(r,n)}return i===!0?-1:r.length}const lc="",vd=typeof Symbol>"u"?"__"+lc:Symbol.for(lc),cc=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class $r{constructor(e,t){this.rules=[];let{finish:i}=t||{};function n(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let h=[],u=/^@(\w+)\b/.exec(o[0]),d=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let f in a){let p=a[f];if(/&/.test(f))s(f.split(/,\s*/).map(b=>o.map(g=>b.replace(/&/,g))).reduce((b,g)=>b.concat(g)),p,l);else if(p&&typeof p=="object"){if(!u)throw new RangeError("The value of a property ("+f+") should be a primitive value.");s(n(f),p,h,d)}else p!=null&&h.push(f.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+p+";")}(h.length||d)&&l.push((i&&!u&&!c?o.map(i):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(n(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Sd[vd]||1;return Sd[vd]=e+1,lc+e.toString(36)}static mount(e,t,i){let n=e[cc],s=i&&i.nonce;n?s&&n.setNonce(s):n=new U_(e,s),n.mount(Array.isArray(t)?t:[t])}}let wd=new Map;class U_{constructor(e,t){let i=e.ownerDocument||e,n=i.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let s=wd.get(i);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[cc]=s;this.sheet=new n.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],wd.set(i,this)}else{this.styleTag=i.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[cc]=this}mount(e){let t=this.sheet,i=0,n=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<n&&a>-1&&(this.modules.splice(a,1),n--,a=-1),a==-1){if(this.modules.splice(n++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],i++)}else{for(;n<a;)i+=this.modules[n++].rules.length;i+=o.rules.length,n++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Br={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Yn={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},G_=typeof navigator<"u"&&/Mac/.test(navigator.platform),K_=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xe=0;Xe<10;Xe++)Br[48+Xe]=Br[96+Xe]=String(Xe);for(var Xe=1;Xe<=24;Xe++)Br[Xe+111]="F"+Xe;for(var Xe=65;Xe<=90;Xe++)Br[Xe]=String.fromCharCode(Xe+32),Yn[Xe]=String.fromCharCode(Xe);for(var ul in Br)Yn.hasOwnProperty(ul)||(Yn[ul]=Br[ul]);function q_(r){var e=G_&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||K_&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?Yn:Br)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function zo(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function hc(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function Y_(r){let e=r.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function po(r,e){if(!e.anchorNode)return!1;try{return hc(r,e.anchorNode)}catch{return!1}}function Vi(r){return r.nodeType==3?ai(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Fo(r,e,t,i){return t?kd(r,e,t,i,-1)||kd(r,e,t,i,1):!1}function Zn(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function kd(r,e,t,i,n){for(;;){if(r==t&&e==i)return!0;if(e==(n<0?0:pr(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=Zn(r)+(n<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(n<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=n<0?pr(r):0}else return!1}}function pr(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function wa(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function Z_(r){return{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function Q_(r,e,t,i,n,s,o,a){let l=r.ownerDocument,c=l.defaultView||window;for(let h=r,u=!1;h&&!u;)if(h.nodeType==1){let d,f=h==l.body,p=1,b=1;if(f)d=Z_(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(u=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let k=h.getBoundingClientRect();p=k.width/h.offsetWidth,b=k.height/h.offsetHeight,d={left:k.left,right:k.left+h.clientWidth*p,top:k.top,bottom:k.top+h.clientHeight*b}}let g=0,v=0;if(n=="nearest")e.top<d.top?(v=-(d.top-e.top+o),t>0&&e.bottom>d.bottom+v&&(v=e.bottom-d.bottom+v+o)):e.bottom>d.bottom&&(v=e.bottom-d.bottom+o,t<0&&e.top-v<d.top&&(v=-(d.top+v-e.top+o)));else{let k=e.bottom-e.top,E=d.bottom-d.top;v=(n=="center"&&k<=E?e.top+k/2-E/2:n=="start"||n=="center"&&t<0?e.top-o:e.bottom-E+o)-d.top}if(i=="nearest"?e.left<d.left?(g=-(d.left-e.left+s),t>0&&e.right>d.right+g&&(g=e.right-d.right+g+s)):e.right>d.right&&(g=e.right-d.right+s,t<0&&e.left<d.left+g&&(g=-(d.left+g-e.left+s))):g=(i=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:i=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,g||v)if(f)c.scrollBy(g,v);else{let k=0,E=0;if(v){let A=h.scrollTop;h.scrollTop+=v/b,E=(h.scrollTop-A)*b}if(g){let A=h.scrollLeft;h.scrollLeft+=g/p,k=(h.scrollLeft-A)*p}e={left:e.left-k,top:e.top-E,right:e.right-k,bottom:e.bottom-E},k&&Math.abs(k-g)<1&&(i="nearest"),E&&Math.abs(E-v)<1&&(n="nearest")}if(f)break;h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function X_(r){let e=r.ownerDocument;for(let t=r.parentNode;t&&t!=e.body;)if(t.nodeType==1){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.assignedSlot||t.parentNode}else if(t.nodeType==11)t=t.host;else break;return null}class J_{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:i}=e;this.set(t,Math.min(e.anchorOffset,t?pr(t):0),i,Math.min(e.focusOffset,i?pr(i):0))}set(e,t,i,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=n}}let pi=null;function hm(r){if(r.setActive)return r.setActive();if(pi)return r.focus(pi);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(pi==null?{get preventScroll(){return pi={preventScroll:!0},!0}}:void 0),!pi){pi=!1;for(let t=0;t<e.length;){let i=e[t++],n=e[t++],s=e[t++];i.scrollTop!=n&&(i.scrollTop=n),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let xd;function ai(r,e,t=e){let i=xd||(xd=document.createRange());return i.setEnd(r,t),i.setStart(r,e),i}function Mi(r,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},n=new KeyboardEvent("keydown",i);n.synthetic=!0,r.dispatchEvent(n);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,r.dispatchEvent(s),n.defaultPrevented||s.defaultPrevented}function eE(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function um(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function tE(r,e){let t=e.focusNode,i=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=i)return!1;for(i=Math.min(i,pr(t));;)if(i){if(t.nodeType!=1)return!1;let n=t.childNodes[i-1];n.contentEditable=="false"?i--:(t=n,i=pr(t))}else{if(t==r)return!0;i=Zn(t),t=t.parentNode}}function dm(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}class rt{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new rt(e.parentNode,Zn(e),t)}static after(e,t){return new rt(e.parentNode,Zn(e)+1,t)}}const bh=[];class Ee{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let i=this.dom,n=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=n?n.nextSibling:i.firstChild)){let a=Ee.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=o.dom&&(t.written=!0),o.dom.parentNode==i)for(;s&&s!=o.dom;)s=Cd(s);else i.insertBefore(o.dom,s);n=o.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Cd(s)}else if(this.flags&1)for(let i of this.children)i.flags&7&&(i.sync(e,t),i.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let n=pr(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;n==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?n=-1:n=1),e=s}n<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Ee.get(i);)i=i.nextSibling;if(!i)return this.length;for(let n=0,s=0;;n++){let o=this.children[n];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let n=-1,s=-1,o=-1,a=-1;for(let l=0,c=i,h=i;l<this.children.length;l++){let u=this.children[l],d=c+u.length;if(c<e&&d>t)return u.domBoundsAround(e,t,c);if(d>=e&&n==-1&&(n=l,s=c),c>t&&u.dom.parentNode==this.dom){o=l,a=h;break}h=d,c=d+u.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=bh){this.markDirty();for(let n=e;n<t;n++){let s=this.children[n];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let n=0;n<i.length;n++)i[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new fm(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,i,n,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}Ee.prototype.breakAfter=0;function Cd(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class fm{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function pm(r,e,t,i,n,s,o,a,l){let{children:c}=r,h=c.length?c[e]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(e==i&&h&&!o&&!d&&s.length<2&&h.merge(t,n,s.length?u:null,t==0,a,l))){if(i<c.length){let f=c[i];f&&(n<f.length||f.breakAfter&&u?.breakAfter)?(e==i&&(f=f.split(n),n=0),!d&&u&&f.merge(0,n,u,!0,0,l)?s[s.length-1]=f:((n||f.children.length&&!f.children[0].length)&&f.merge(0,n,null,!1,0,l),s.push(f))):f?.breakAfter&&(u?u.breakAfter=1:o=1),i++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,a,0),e++));e<i&&s.length;)if(c[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<c.length&&!c[e-1].breakAfter&&c[i].merge(0,0,c[e-1],!1,a,l)&&e--,(e<i||s.length)&&r.replaceChildren(e,i,s)}}function mm(r,e,t,i,n,s){let o=r.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:h}=o.findPos(e,-1),u=e-t;for(let d of i)u+=d.length;r.length+=u,pm(r,c,h,a,l,i,0,n,s)}let St=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},uc=typeof document<"u"?document:{documentElement:{style:{}}};const dc=/Edge\/(\d+)/.exec(St.userAgent),gm=/MSIE \d/.test(St.userAgent),fc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(St.userAgent),ka=!!(gm||fc||dc),Ad=!ka&&/gecko\/(\d+)/i.test(St.userAgent),dl=!ka&&/Chrome\/(\d+)/.exec(St.userAgent),_d="webkitFontSmoothing"in uc.documentElement.style,bm=!ka&&/Apple Computer/.test(St.vendor),Ed=bm&&(/Mobile\/\w+/.test(St.userAgent)||St.maxTouchPoints>2);var j={mac:Ed||/Mac/.test(St.platform),windows:/Win/.test(St.platform),linux:/Linux|X11/.test(St.platform),ie:ka,ie_version:gm?uc.documentMode||6:fc?+fc[1]:dc?+dc[1]:0,gecko:Ad,gecko_version:Ad?+(/Firefox\/(\d+)/.exec(St.userAgent)||[0,0])[1]:0,chrome:!!dl,chrome_version:dl?+dl[1]:0,ios:Ed,android:/Android\b/.test(St.userAgent),webkit:_d,safari:bm,webkit_version:_d?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:uc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const rE=256;class mr extends Ee{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return this.flags&8||i&&(!(i instanceof mr)||this.length-(t-e)+i.length>rE||i.flags&8)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new mr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new rt(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return iE(this.dom,e,t)}}class gr extends Ee{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let n of t)n.setParent(this)}setAttrs(e){if(um(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,i,n,s,o){return i&&(!(i instanceof gr&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(mm(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,n=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),n<0&&i>=e&&(n=s),i=l,s++}let o=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new gr(this.mark,t,o)}domAtPos(e){return ym(this,e)}coordsAt(e,t){return Sm(this,e,t)}}function iE(r,e,t){let i=r.nodeValue.length;e>i&&(e=i);let n=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?j.chrome||j.gecko||(e?(n--,o=1):s<i&&(s++,o=-1)):t<0?n--:s<i&&s++;let a=ai(r,n,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return j.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?wa(l,o<0):l||null}class Rr extends Ee{static create(e,t,i){return new Rr(e,t,i)}constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}split(e){let t=Rr.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,n,s,o){return i&&(!(i instanceof Rr)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e instanceof Rr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ge.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,i=t&&t.state.doc,n=this.posAtStart;return i?i.slice(n,n+this.length):ge.empty}domAtPos(e){return(this.length?e==0:this.side>0)?rt.before(this.dom):rt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.widget.coordsAt(this.dom,e,t);if(i)return i;let n=this.dom.getClientRects(),s=null;if(!n.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?n.length-1:0;s=n[a],!(e>0?a==0:a==n.length-1||s.top<s.bottom);a+=o?-1:1);return wa(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Wi extends Ee{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Wi&&e.side==this.side}split(){return new Wi(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?rt.before(this.dom):rt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ge.empty}get isHidden(){return!0}}mr.prototype.children=Rr.prototype.children=Wi.prototype.children=bh;function ym(r,e){let t=r.dom,{children:i}=r,n=0;for(let s=0;n<i.length;n++){let o=i[n],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=n;s>0;s--){let o=i[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=n;s<i.length;s++){let o=i[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new rt(t,0)}function vm(r,e,t){let i,{children:n}=r;t>0&&e instanceof gr&&n.length&&(i=n[n.length-1])instanceof gr&&i.mark.eq(e.mark)?vm(i,e.children[0],t-1):(n.push(e),e.setParent(r)),r.length+=e.length}function Sm(r,e,t){let i=null,n=-1,s=null,o=-1;function a(c,h){for(let u=0,d=0;u<c.children.length&&d<=h;u++){let f=c.children[u],p=d+f.length;p>=h&&(f.children.length?a(f,h-d):(!s||s.isHidden&&t>0)&&(p>h||d==p&&f.getSide()>0)?(s=f,o=h-d):(d<h||d==p&&f.getSide()<0&&!f.isHidden)&&(i=f,n=h-d)),d=p}}a(r,e);let l=(t<0?i:s)||i||s;return l?l.coordsAt(Math.max(0,l==i?n:o),t):nE(r)}function nE(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=Vi(e);return t[t.length-1]||null}function pc(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const Od=Object.create(null);function yh(r,e,t){if(r==e)return!0;r||(r=Od),e||(e=Od);let i=Object.keys(r),n=Object.keys(e);if(i.length-(t&&i.indexOf(t)>-1?1:0)!=n.length-(t&&n.indexOf(t)>-1?1:0))return!1;for(let s of i)if(s!=t&&(n.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function mc(r,e,t){let i=!1;if(e)for(let n in e)t&&n in t||(i=!0,n=="style"?r.style.cssText="":r.removeAttribute(n));if(t)for(let n in t)e&&e[n]==t[n]||(i=!0,n=="style"?r.style.cssText=t[n]:r.setAttribute(n,t[n]));return i}function sE(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let i=r.attributes[t];e[i.name]=i.value}return e}class Ve extends Ee{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,n,s,o){if(i){if(!(i instanceof Ve))return!1;this.dom||i.transferDOM(this)}return n&&this.setDeco(i?i.attrs:null),mm(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new Ve;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:n}=this.childPos(e);n&&(t.append(this.children[i].split(n),0),this.children[i].merge(n,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){yh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){vm(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=pc(t,this.attrs||{})),i&&(this.attrs=pc({class:i},this.attrs||{}))}domAtPos(e){return ym(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var i;this.dom?this.flags&4&&(um(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(mc(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&Ee.get(n)instanceof gr;)n=n.lastChild;if(!n||!this.length||n.nodeName!="BR"&&((i=Ee.get(n))===null||i===void 0?void 0:i.isEditable)==!1&&(!j.ios||!this.children.some(s=>s instanceof mr))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let i of this.children){if(!(i instanceof mr)||/[^ -~]/.test(i.text))return null;let n=Vi(i.dom);if(n.length!=1)return null;e+=n[0].width,t=n[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let i=Sm(this,e,t);if(!this.children.length&&i&&this.parent){let{heightOracle:n}=this.parent.view.viewState,s=i.bottom-i.top;if(Math.abs(s-n.lineHeight)<2&&n.textHeight<s){let o=(s-n.textHeight)/2;return{top:i.top+o,bottom:i.bottom-o,left:i.left,right:i.left}}}return i}become(e){return!1}covers(){return!0}static find(e,t){for(let i=0,n=0;i<e.children.length;i++){let s=e.children[i],o=n+s.length;if(o>=t){if(s instanceof Ve)return s;if(o>t)break}n=o+s.breakAfter}return null}}class Ir extends Ee{constructor(e,t,i){super(),this.widget=e,this.length=t,this.deco=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,n,s,o){return i&&(!(i instanceof Ir)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?rt.before(this.dom):rt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Ir(this.widget,t,this.deco);return i.breakAfter=this.breakAfter,i}get children(){return bh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ge.empty}domBoundsAround(){return null}become(e){return e instanceof Ir&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:i}=this.deco;return t==i?!1:e<0?t<0:i>0}}class Hr{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,i){return null}get isHidden(){return!1}destroy(e){}}var ot=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(ot||(ot={}));class be extends Hi{constructor(e,t,i,n){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=n}get heightRelevant(){return!1}static mark(e){return new cs(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),i=!!e.block;return t+=i&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new zr(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,n;if(e.isBlockGap)i=-5e8,n=4e8;else{let{start:s,end:o}=wm(e,t);i=(s?t?-3e8:-1:5e8)-1,n=(o?t?2e8:1:-6e8)+1}return new zr(e,i,n,t,e.widget||null,!0)}static line(e){return new hs(e)}static set(e,t=!1){return ye.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}be.none=ye.empty;class cs extends be{constructor(e){let{start:t,end:i}=wm(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,i;return this==e||e instanceof cs&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((i=e.attrs)===null||i===void 0?void 0:i.class))&&yh(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}cs.prototype.point=!1;class hs extends be{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof hs&&this.spec.class==e.spec.class&&yh(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}hs.prototype.mapMode=ut.TrackBefore;hs.prototype.point=!0;class zr extends be{constructor(e,t,i,n,s,o){super(t,i,s,e),this.block=n,this.isReplace=o,this.mapMode=n?t<=0?ut.TrackBefore:ut.TrackAfter:ut.TrackDel}get type(){return this.startSide!=this.endSide?ot.WidgetRange:this.startSide<=0?ot.WidgetBefore:ot.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof zr&&oE(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}zr.prototype.point=!0;function wm(r,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=r;return t==null&&(t=r.inclusive),i==null&&(i=r.inclusive),{start:t??e,end:i??e}}function oE(r,e){return r==e||!!(r&&e&&r.compare(e))}function gc(r,e,t,i=0){let n=t.length-1;n>=0&&t[n]+i>=r?t[n]=Math.max(t[n],e):t.push(r,e)}class Nn{constructor(e,t,i,n){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ir&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ve),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Bs(new Wi(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ir)&&this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-i)),this.getLine().append(Bs(new mr(this.text.slice(this.textOff,this.textOff+n)),t),i),this.atCursorPos=!0,this.textOff+=n,e-=n,i=0}}span(e,t,i,n){this.buildText(t-e,i,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,i,n,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof zr){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof zr)if(i.block)i.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ir(i.widget||new Td("div"),a,i));else{let l=Rr.create(i.widget||new Td("span"),a,a?0:i.startSide),c=this.atCursorPos&&!l.isEditable&&s<=n.length&&(e<t||i.startSide>0),h=!l.isEditable&&(e<t||s>n.length||i.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(n),c&&(u.append(Bs(new Wi(1),n),s),s=n.length+Math.max(0,s-n.length)),u.append(Bs(l,n),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,n,s){let o=new Nn(e,t,i,s);return o.openEnd=ye.spans(n,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Bs(r,e){for(let t of e)r=new gr(t,[r],r.length);return r}class Td extends Hr{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const km=H.define(),xm=H.define(),Cm=H.define(),Am=H.define(),bc=H.define(),_m=H.define(),Em=H.define(),Om=H.define({combine:r=>r.some(e=>e)}),Tm=H.define({combine:r=>r.some(e=>e)});class jo{constructor(e,t="nearest",i="nearest",n=5,s=5){this.range=e,this.y=t,this.x=i,this.yMargin=n,this.xMargin=s}map(e){return e.empty?this:new jo(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Rd=Ie.define({map:(r,e)=>r.map(e)});function Nr(r,e,t){let i=r.facet(Am);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const xa=H.define({combine:r=>r.length?r[0]:!0});let aE=0;const Sn=H.define();class Ke{constructor(e,t,i,n,s){this.id=e,this.create=t,this.domEventHandlers=i,this.domEventObservers=n,this.extension=s(this)}static define(e,t){const{eventHandlers:i,eventObservers:n,provide:s,decorations:o}=t||{};return new Ke(aE++,e,i,n,a=>{let l=[Sn.of(a)];return o&&l.push(Qn.of(c=>{let h=c.plugin(a);return h?o(h):be.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return Ke.define(i=>new e(i),t)}}class fl{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(Nr(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Nr(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){Nr(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Rm=H.define(),vh=H.define(),Qn=H.define(),Sh=H.define(),Lm=H.define();function Ld(r,e,t){let i=r.state.facet(Lm);if(!i.length)return i;let n=i.map(o=>o instanceof Function?o(r):o),s=[];return ye.spans(n,e,t,{point(){},span(o,a,l,c){let h=s;for(let u=l.length-1;u>=0;u--,c--){let d=l[u].spec.bidiIsolate,f;if(d!=null)if(c>0&&h.length&&(f=h[h.length-1]).to==o&&f.direction==d)f.to=a,h=f.inner;else{let p={from:o,to:a,direction:d,inner:[]};h.push(p),h=p.inner}}}}),s}const Pm=H.define();function Im(r){let e=0,t=0,i=0,n=0;for(let s of r.state.facet(Pm)){let o=s(r);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(i=Math.max(i,o.top)),o.bottom!=null&&(n=Math.max(n,o.bottom)))}return{left:e,right:t,top:i,bottom:n}}const wn=H.define();class Tt{constructor(e,t,i,n){this.fromA=e,this.toA=t,this.fromB=i,this.toB=n}join(e){return new Tt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>i.toA)){if(n.toA<i.fromA)break;i=i.join(n),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let n=0,s=0,o=0,a=0;;n++){let l=n==e.length?null:e[n],c=o-a,h=l?l.fromB:1e9;for(;s<t.length&&t[s]<h;){let u=t[s],d=t[s+1],f=Math.max(a,u),p=Math.min(h,d);if(f<=p&&new Tt(f+c,p+c,f,p).addToSet(i),d>h)break;s+=2}if(!l)return i;new Tt(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Ho{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ue.empty(this.startState.doc.length);for(let s of i)this.changes=this.changes.compose(s.changes);let n=[];this.changes.iterChangedRanges((s,o,a,l)=>n.push(new Tt(s,o,a,l))),this.changedRanges=n}static create(e,t,i){return new Ho(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var ze=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(ze||(ze={}));const Xn=ze.LTR,Nm=ze.RTL;function Mm(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const lE=Mm("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),cE=Mm("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),yc=Object.create(null),Ft=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);yc[e]=t,yc[t]=-e}function hE(r){return r<=247?lE[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?cE[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203?256:64336<=r&&r<=65023?4:r==8204?256:1}const uE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Lr{get dir(){return this.level%2?Nm:Xn}constructor(e,t,i){this.from=e,this.to=t,this.level=i}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,n){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(n!=0?n<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function Dm(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let i=r[t],n=e[t];if(i.from!=n.from||i.to!=n.to||i.direction!=n.direction||!Dm(i.inner,n.inner))return!1}return!0}const ke=[];function dE(r,e,t,i,n){for(let s=0;s<=i.length;s++){let o=s?i[s-1].to:e,a=s<i.length?i[s].from:t,l=s?256:n;for(let c=o,h=l,u=l;c<a;c++){let d=hE(r.charCodeAt(c));d==512?d=h:d==8&&u==4&&(d=16),ke[c]=d==4?2:d,d&7&&(u=d),h=d}for(let c=o,h=l,u=l;c<a;c++){let d=ke[c];if(d==128)c<a-1&&h==ke[c+1]&&h&24?d=ke[c]=h:ke[c]=256;else if(d==64){let f=c+1;for(;f<a&&ke[f]==64;)f++;let p=c&&h==8||f<t&&ke[f]==8?u==1?1:8:256;for(let b=c;b<f;b++)ke[b]=p;c=f-1}else d==8&&u==1&&(ke[c]=1);h=d,d&7&&(u=d)}}}function fE(r,e,t,i,n){let s=n==1?2:1;for(let o=0,a=0,l=0;o<=i.length;o++){let c=o?i[o-1].to:e,h=o<i.length?i[o].from:t;for(let u=c,d,f,p;u<h;u++)if(f=yc[d=r.charCodeAt(u)])if(f<0){for(let b=a-3;b>=0;b-=3)if(Ft[b+1]==-f){let g=Ft[b+2],v=g&2?n:g&4?g&1?s:n:0;v&&(ke[u]=ke[Ft[b]]=v),a=b;break}}else{if(Ft.length==189)break;Ft[a++]=u,Ft[a++]=d,Ft[a++]=l}else if((p=ke[u])==2||p==1){let b=p==n;l=b?0:1;for(let g=a-3;g>=0;g-=3){let v=Ft[g+2];if(v&2)break;if(b)Ft[g+2]|=2;else{if(v&4)break;Ft[g+2]|=4}}}}}function pE(r,e,t,i){for(let n=0,s=i;n<=t.length;n++){let o=n?t[n-1].to:r,a=n<t.length?t[n].from:e;for(let l=o;l<a;){let c=ke[l];if(c==256){let h=l+1;for(;;)if(h==a){if(n==t.length)break;h=t[n++].to,a=n<t.length?t[n].from:e}else if(ke[h]==256)h++;else break;let u=s==1,d=(h<e?ke[h]:i)==1,f=u==d?u?1:2:i;for(let p=h,b=n,g=b?t[b-1].to:r;p>l;)p==g&&(p=t[--b].from,g=b?t[b-1].to:r),ke[--p]=f;l=h}else s=c,l++}}}function vc(r,e,t,i,n,s,o){let a=i%2?2:1;if(i%2==n%2)for(let l=e,c=0;l<t;){let h=!0,u=!1;if(c==s.length||l<s[c].from){let b=ke[l];b!=a&&(h=!1,u=b==16)}let d=!h&&a==1?[]:null,f=h?i:i+1,p=l;e:for(;;)if(c<s.length&&p==s[c].from){if(u)break e;let b=s[c];if(!h)for(let g=b.to,v=c+1;;){if(g==t)break e;if(v<s.length&&s[v].from==g)g=s[v++].to;else{if(ke[g]==a)break e;break}}if(c++,d)d.push(b);else{b.from>l&&o.push(new Lr(l,b.from,f));let g=b.direction==Xn!=!(f%2);Sc(r,g?i+1:i,n,b.inner,b.from,b.to,o),l=b.to}p=b.to}else{if(p==t||(h?ke[p]!=a:ke[p]==a))break;p++}d?vc(r,l,p,i+1,n,d,o):l<p&&o.push(new Lr(l,p,f)),l=p}else for(let l=t,c=s.length;l>e;){let h=!0,u=!1;if(!c||l>s[c-1].to){let b=ke[l-1];b!=a&&(h=!1,u=b==16)}let d=!h&&a==1?[]:null,f=h?i:i+1,p=l;e:for(;;)if(c&&p==s[c-1].to){if(u)break e;let b=s[--c];if(!h)for(let g=b.from,v=c;;){if(g==e)break e;if(v&&s[v-1].to==g)g=s[--v].from;else{if(ke[g-1]==a)break e;break}}if(d)d.push(b);else{b.to<l&&o.push(new Lr(b.to,l,f));let g=b.direction==Xn!=!(f%2);Sc(r,g?i+1:i,n,b.inner,b.from,b.to,o),l=b.from}p=b.from}else{if(p==e||(h?ke[p-1]!=a:ke[p-1]==a))break;p--}d?vc(r,p,l,i+1,n,d,o):p<l&&o.push(new Lr(p,l,f)),l=p}}function Sc(r,e,t,i,n,s,o){let a=e%2?2:1;dE(r,n,s,i,a),fE(r,n,s,i,a),pE(n,s,i,a),vc(r,n,s,e,t,i,o)}function mE(r,e,t){if(!r)return[new Lr(0,0,e==Nm?1:0)];if(e==Xn&&!t.length&&!uE.test(r))return $m(r.length);if(t.length)for(;r.length>ke.length;)ke[ke.length]=256;let i=[],n=e==Xn?0:1;return Sc(r,n,n,t,0,r.length,i),i}function $m(r){return[new Lr(0,r,0)]}let Bm="";function gE(r,e,t,i,n){var s;let o=i.head-r.from,a=-1;if(o==0){if(!n||!r.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==r.length){if(n)return null;let d=e[e.length-1];d.level!=t&&(o=d.side(!0,t),a=e.length-1)}a<0&&(a=Lr.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let l=e[a];o==l.side(n,t)&&(l=e[a+=n?1:-1],o=l.side(!n,t));let c=n==(l.dir==t),h=qt(r.text,o,c);if(Bm=r.text.slice(Math.min(o,h),Math.max(o,h)),h!=l.side(n,t))return F.cursor(h+r.from,c?-1:1,l.level);let u=a==(n?e.length-1:0)?null:e[a+(n?1:-1)];return!u&&l.level!=t?F.cursor(n?r.to:r.from,n?-1:1,t):u&&u.level<l.level?F.cursor(u.side(!n,t)+r.from,n?1:-1,u.level):F.cursor(h+r.from,n?-1:1,l.level)}class Pd extends Ee{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ve],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Tt(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let i=e.changedRanges;this.minWidth>0&&i.length&&(i.every(({fromA:c,toA:h})=>h<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let n=-1;this.view.inputState.composing>=0&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?n=this.domChanged.newSel.head:!xE(e.changes,this.hasComposition)&&!e.selectionSet&&(n=e.state.selection.main.head));let s=n>-1?yE(this.view,e.changes,n):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:h}=this.hasComposition;i=new Tt(c,h,e.changes.mapPos(c,-1),e.changes.mapPos(h,1)).addToSet(i.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(j.ie||j.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=wE(o,a,e.changes);return i=Tt.extendWithRanges(i,l),!(this.flags&7)&&i.length==0?!1:(this.updateInner(i,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,i){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,i);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=j.chrome||j.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||n.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ir&&o.widget instanceof Id&&s.push(o.dom);n.updateGaps(s)}updateChildren(e,t,i){let n=i?i.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=n.length-1;;o--){let a=o>=0?n[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:h,toB:u}=a,d,f,p,b;if(i&&i.range.fromB<u&&i.range.toB>h){let A=Nn.build(this.view.state.doc,h,i.range.fromB,this.decorations,this.dynamicDecorationMap),_=Nn.build(this.view.state.doc,i.range.toB,u,this.decorations,this.dynamicDecorationMap);f=A.breakAtStart,p=A.openStart,b=_.openEnd;let O=this.compositionView(i);_.breakAtStart?O.breakAfter=1:_.content.length&&O.merge(O.length,O.length,_.content[0],!1,_.openStart,0)&&(O.breakAfter=_.content[0].breakAfter,_.content.shift()),A.content.length&&O.merge(0,0,A.content[A.content.length-1],!0,0,A.openEnd)&&A.content.pop(),d=A.content.concat(O).concat(_.content)}else({content:d,breakAtStart:f,openStart:p,openEnd:b}=Nn.build(this.view.state.doc,h,u,this.decorations,this.dynamicDecorationMap));let{i:g,off:v}=s.findPos(c,1),{i:k,off:E}=s.findPos(l,-1);pm(this,k,E,g,v,d,f,p,b)}i&&this.fixCompositionDOM(i)}compositionView(e){let t=new mr(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new gr(n,[t],t.length);let i=new Ve;return i.append(t,0),i}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Ee.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},i=this.childPos(e.range.fromB,1),n=this.children[i.i];t(e.line,n);for(let s=e.marks.length-1;s>=-1;s--)i=n.childPos(i.off,1),n=n.children[i.i],t(s>=0?e.marks[s].node:e.text,n)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let i=this.view.root.activeElement,n=i==this.dom,s=!n&&po(this.dom,this.view.observer.selectionRange)&&!(i&&this.dom.contains(i));if(!(n||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(j.gecko&&a.empty&&!this.hasComposition&&bE(l)){let u=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(u,l.node.childNodes[l.offset]||null)),l=c=new rt(u,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||!Fo(l.node,l.offset,h.anchorNode,h.anchorOffset)||!Fo(c.node,c.offset,h.focusNode,h.focusOffset))&&(this.view.observer.ignore(()=>{j.android&&j.chrome&&this.dom.contains(h.focusNode)&&kE(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let u=zo(this.view.root);if(u)if(a.empty){if(j.gecko){let d=vE(l.node,l.offset);if(d&&d!=3){let f=Fm(l.node,l.offset,d==1?1:-1);f&&(l=new rt(f.node,f.offset))}}u.collapse(l.node,l.offset),a.bidiLevel!=null&&u.caretBidiLevel!==void 0&&(u.caretBidiLevel=a.bidiLevel)}else if(u.extend){u.collapse(l.node,l.offset);try{u.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new rt(h.anchorNode,h.anchorOffset),this.impreciseHead=c.precise?null:new rt(h.focusNode,h.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,i=zo(e.root),{anchorNode:n,anchorOffset:s}=e.observer.selectionRange;if(!i||!t.empty||!t.assoc||!i.modify)return;let o=Ve.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let h=this.domAtPos(t.head+t.assoc);i.collapse(h.node,h.offset),i.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let u=e.observer.selectionRange;e.docView.posFromDOM(u.anchorNode,u.anchorOffset)!=t.from&&i.collapse(n,s)}moveToLine(e){let t=this.dom,i;if(e.node!=t)return e;for(let n=e.offset;!i&&n<t.childNodes.length;n++){let s=Ee.get(t.childNodes[n]);s instanceof Ve&&(i=s.domAtPos(0))}for(let n=e.offset-1;!i&&n>=0;n--){let s=Ee.get(t.childNodes[n]);s instanceof Ve&&(i=s.domAtPos(s.length))}return i?new rt(i.node,i.offset,!0):e}nearest(e){for(let t=e;t;){let i=Ee.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let n=this.children[t];if(i<n.length||n instanceof Ve)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){let i=null,n=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!i||a instanceof Ve&&!(i instanceof Ve&&t>=0))&&(i=a,n=c),s=c}return i?i.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:i}=this.childPos(e,1),n=this.children[t];if(!(n instanceof Ve))return null;for(;n.children.length;){let{i:a,off:l}=n.childPos(i,1);for(;;a++){if(a==n.children.length)return null;if((n=n.children[a]).length)break}i=l}if(!(n instanceof mr))return null;let s=qt(n.text,i);if(s==i)return null;let o=ai(n.dom,i,s).getClientRects();return!o.length||o[0].top>=o[0].bottom?null:o[0]}measureVisibleLineHeights(e){let t=[],{from:i,to:n}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==ze.LTR;for(let c=0,h=0;h<this.children.length;h++){let u=this.children[h],d=c+u.length;if(d>n)break;if(c>=i){let f=u.dom.getBoundingClientRect();if(t.push(f.height),o){let p=u.dom.lastChild,b=p?Vi(p):[];if(b.length){let g=b[b.length-1],v=l?g.right-f.left:f.right-g.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?ze.RTL:ze.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Ve){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,i,n;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Vi(e.firstChild)[0];t=e.getBoundingClientRect().height,i=s?s.width/27:7,n=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:i,textHeight:n}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new fm(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,n=0;;n++){let s=n==t.viewports.length?null:t.viewports[n],o=s?s.from-1:this.length;if(o>i){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(i).top)/this.view.scaleY;e.push(be.replace({widget:new Id(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return be.set(e)}updateDeco(){let e=this.view.state.facet(Qn).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),n;if(!i)return;!t.empty&&(n=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,n.left),top:Math.min(i.top,n.top),right:Math.max(i.right,n.right),bottom:Math.max(i.bottom,n.bottom)});let s=Im(this.view),o={left:i.left-s.left,top:i.top-s.top,right:i.right+s.right,bottom:i.bottom+s.bottom};Q_(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ze.LTR)}}function bE(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}class Id extends Hr{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function zm(r,e){let t=r.observer.selectionRange,i=t.focusNode&&Fm(t.focusNode,t.focusOffset,0);if(!i)return null;let n=e-i.offset;return{from:n,to:n+i.node.nodeValue.length,node:i.node}}function yE(r,e,t){let i=zm(r,t);if(!i)return null;let{node:n,from:s,to:o}=i,a=n.nodeValue;if(/[\n\r]/.test(a)||r.state.doc.sliceString(i.from,i.to)!=a)return null;let l=e.invertedDesc,c=new Tt(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let u=n.parentNode;;u=u.parentNode){let d=Ee.get(u);if(d instanceof gr)h.push({node:u,deco:d.mark});else{if(d instanceof Ve||u.nodeName=="DIV"&&u.parentNode==r.contentDOM)return{range:c,text:n,marks:h,line:u};if(u!=r.contentDOM)h.push({node:u,deco:new cs({inclusive:!0,attributes:sE(u),tagName:u.tagName.toLowerCase()})});else return null}}}function Fm(r,e,t){if(t<=0)for(let i=r,n=e;;){if(i.nodeType==3)return{node:i,offset:n};if(i.nodeType==1&&n>0)i=i.childNodes[n-1],n=pr(i);else break}if(t>=0)for(let i=r,n=e;;){if(i.nodeType==3)return{node:i,offset:n};if(i.nodeType==1&&n<i.childNodes.length&&t>=0)i=i.childNodes[n],n=0;else break}return null}function vE(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let SE=class{constructor(){this.changes=[]}compareRange(e,t){gc(e,t,this.changes)}comparePoint(e,t){gc(e,t,this.changes)}};function wE(r,e,t){let i=new SE;return ye.compare(r,e,t,i),i.changes}function kE(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function xE(r,e){let t=!1;return e&&r.iterChangedRanges((i,n)=>{i<e.to&&n>e.from&&(t=!0)}),t}function CE(r,e,t=1){let i=r.charCategorizer(e),n=r.doc.lineAt(e),s=e-n.from;if(n.length==0)return F.cursor(e);s==0?t=1:s==n.length&&(t=-1);let o=s,a=s;t<0?o=qt(n.text,s,!1):a=qt(n.text,s);let l=i(n.text.slice(o,a));for(;o>0;){let c=qt(n.text,o,!1);if(i(n.text.slice(c,o))!=l)break;o=c}for(;a<n.length;){let c=qt(n.text,a);if(i(n.text.slice(a,c))!=l)break;a=c}return F.range(o+n.from,a+n.from)}function AE(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function _E(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function pl(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function Nd(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function Md(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function wc(r,e,t){let i,n,s,o,a=!1,l,c,h,u;for(let p=r.firstChild;p;p=p.nextSibling){let b=Vi(p);for(let g=0;g<b.length;g++){let v=b[g];n&&pl(n,v)&&(v=Nd(Md(v,n.bottom),n.top));let k=AE(e,v),E=_E(t,v);if(k==0&&E==0)return p.nodeType==3?Dd(p,e,t):wc(p,e,t);if(!i||o>E||o==E&&s>k){i=p,n=v,s=k,o=E;let A=E?t<v.top?-1:1:k?e<v.left?-1:1:0;a=!A||(A>0?g<b.length-1:g>0)}k==0?t>v.bottom&&(!h||h.bottom<v.bottom)?(l=p,h=v):t<v.top&&(!u||u.top>v.top)&&(c=p,u=v):h&&pl(h,v)?h=Md(h,v.bottom):u&&pl(u,v)&&(u=Nd(u,v.top))}}if(h&&h.bottom>=t?(i=l,n=h):u&&u.top<=t&&(i=c,n=u),!i)return{node:r,offset:0};let d=Math.max(n.left,Math.min(n.right,e));if(i.nodeType==3)return Dd(i,d,t);if(a&&i.contentEditable!="false")return wc(i,d,t);let f=Array.prototype.indexOf.call(r.childNodes,i)+(e>=(n.left+n.right)/2?1:0);return{node:r,offset:f}}function Dd(r,e,t){let i=r.nodeValue.length,n=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=ai(r,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(h.top==h.bottom)continue;o||(o=e-h.left);let u=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&u<s){let d=e>=(h.left+h.right)/2,f=d;if((j.chrome||j.gecko)&&ai(r,a).getBoundingClientRect().left==h.right&&(f=!d),u<=0)return{node:r,offset:a+(f?1:0)};n=a+(f?1:0),s=u}}}return{node:r,offset:n>-1?n:o>0?r.nodeValue.length:0}}function jm(r,e,t,i=-1){var n,s;let o=r.contentDOM.getBoundingClientRect(),a=o.top+r.viewState.paddingTop,l,{docHeight:c}=r.viewState,{x:h,y:u}=e,d=u-a;if(d<0)return 0;if(d>c)return r.state.doc.length;for(let A=r.viewState.heightOracle.textHeight/2,_=!1;l=r.elementAtHeight(d),l.type!=ot.Text;)for(;d=i>0?l.bottom+A:l.top-A,!(d>=0&&d<=c);){if(_)return t?null:0;_=!0,i=-i}u=a+d;let f=l.from;if(f<r.viewport.from)return r.viewport.from==0?0:t?null:$d(r,o,l,h,u);if(f>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:$d(r,o,l,h,u);let p=r.dom.ownerDocument,b=r.root.elementFromPoint?r.root:p,g=b.elementFromPoint(h,u);g&&!r.contentDOM.contains(g)&&(g=null),g||(h=Math.max(o.left+1,Math.min(o.right-1,h)),g=b.elementFromPoint(h,u),g&&!r.contentDOM.contains(g)&&(g=null));let v,k=-1;if(g&&((n=r.docView.nearest(g))===null||n===void 0?void 0:n.isEditable)!=!1){if(p.caretPositionFromPoint){let A=p.caretPositionFromPoint(h,u);A&&({offsetNode:v,offset:k}=A)}else if(p.caretRangeFromPoint){let A=p.caretRangeFromPoint(h,u);A&&({startContainer:v,startOffset:k}=A,(!r.contentDOM.contains(v)||j.safari&&EE(v,k,h)||j.chrome&&OE(v,k,h))&&(v=void 0))}}if(!v||!r.docView.dom.contains(v)){let A=Ve.find(r.docView,f);if(!A)return d>l.top+l.height/2?l.to:l.from;({node:v,offset:k}=wc(A.dom,h,u))}let E=r.docView.nearest(v);if(!E)return null;if(E.isWidget&&((s=E.dom)===null||s===void 0?void 0:s.nodeType)==1){let A=E.dom.getBoundingClientRect();return e.y<A.top||e.y<=A.bottom&&e.x<=(A.left+A.right)/2?E.posAtStart:E.posAtEnd}else return E.localPosFromDOM(v,k)+E.posAtStart}function $d(r,e,t,i,n){let s=Math.round((i-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let a=r.viewState.heightOracle.textHeight,l=Math.floor((n-t.top-(r.defaultLineHeight-a)*.5)/a);s+=l*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+ac(o,s,r.state.tabSize)}function EE(r,e,t){let i;if(r.nodeType!=3||e!=(i=r.nodeValue.length))return!1;for(let n=r.nextSibling;n;n=n.nextSibling)if(n.nodeType!=1||n.nodeName!="BR")return!1;return ai(r,i-1,i).getBoundingClientRect().left>t}function OE(r,e,t){if(e!=0)return!1;for(let n=r;;){let s=n.parentNode;if(!s||s.nodeType!=1||s.firstChild!=n)return!1;if(s.classList.contains("cm-line"))break;n=s}let i=r.nodeType==1?r.getBoundingClientRect():ai(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-i.left>5}function kc(r,e){let t=r.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==ot.Text))return i}return t}function TE(r,e,t,i){let n=kc(r,e.head),s=!i||n.type!=ot.Text||!(r.lineWrapping||n.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>n.from?e.head-1:e.head);if(s){let o=r.dom.getBoundingClientRect(),a=r.textDirectionAt(n.from),l=r.posAtCoords({x:t==(a==ze.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return F.cursor(l,t?-1:1)}return F.cursor(t?n.to:n.from,t?-1:1)}function Bd(r,e,t,i){let n=r.state.doc.lineAt(e.head),s=r.bidiSpans(n),o=r.textDirectionAt(n.from);for(let a=e,l=null;;){let c=gE(n,s,o,a,t),h=Bm;if(!c){if(n.number==(t?r.state.doc.lines:1))return a;h=`
`,n=r.state.doc.line(n.number+(t?1:-1)),s=r.bidiSpans(n),c=F.cursor(t?n.from:n.to)}if(l){if(!l(h))return a}else{if(!i)return c;l=i(h)}a=c}}function RE(r,e,t){let i=r.state.charCategorizer(e),n=i(t);return s=>{let o=i(s);return n==cr.Space&&(n=o),n==o}}function LE(r,e,t,i){let n=e.head,s=t?1:-1;if(n==(t?r.state.doc.length:0))return F.cursor(n,e.assoc);let o=e.goalColumn,a,l=r.contentDOM.getBoundingClientRect(),c=r.coordsAtPos(n,e.assoc||-1),h=r.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let f=r.viewState.lineBlockAt(n);o==null&&(o=Math.min(l.right-l.left,r.defaultCharacterWidth*(n-f.from))),a=(s<0?f.top:f.bottom)+h}let u=l.left+o,d=i??r.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=a+(d+f)*s,b=jm(r,{x:u,y:p},!1,s);if(p<l.top||p>l.bottom||(s<0?b<n:b>n)){let g=r.docView.coordsForChar(b),v=!g||p<g.top?-1:1;return F.cursor(b,v,void 0,o)}}}function mo(r,e,t){for(;;){let i=0;for(let n of r)n.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=i||t||(e-s<o-e?-1:1);e=l<0?s:o,i=l}});if(!i)return e}}function ml(r,e,t){let i=mo(r.state.facet(Sh).map(n=>n(r)),t.from,e.head>t.from?-1:1);return i==t.from?t:F.cursor(i,i<t.from?1:-1)}class PE{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.handleEvent=this.handleEvent.bind(this),e.scrollDOM.addEventListener("mousedown",t=>{if(t.target==e.scrollDOM&&t.clientY>e.contentDOM.getBoundingClientRect().bottom&&(this.runHandlers("mousedown",t),!t.defaultPrevented&&t.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),e.scrollDOM.addEventListener("drop",t=>{t.target==e.scrollDOM&&t.clientY>e.contentDOM.getBoundingClientRect().bottom&&this.runHandlers("drop",t)}),this.notifiedFocused=e.hasFocus,j.safari&&e.contentDOM.addEventListener("input",()=>null),j.gecko&&qE(e.contentDOM.ownerDocument)}handleEvent(e){!FE(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,t){let i=this.handlers[e];if(i){for(let n of i.observers)n(this.view,t);for(let n of i.handlers){if(t.defaultPrevented)break;if(n(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=IE(e),i=this.handlers,n=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=i[s];a&&o!=!a.handlers.length&&(n.removeEventListener(s,this.handleEvent),a=null),a||n.addEventListener(s,this.handleEvent,{passive:o})}for(let s in i)s!="scroll"&&!t[s]&&n.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&Vm.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),j.android&&j.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return j.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=Hm.find(i=>i.keyCode==e.keyCode))&&!e.ctrlKey||NE.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Mi(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:j.safari&&!j.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function zd(r,e){return(t,i)=>{try{return e.call(r,i,t)}catch(n){Nr(t.state,n)}}}function IE(r){let e=Object.create(null);function t(i){return e[i]||(e[i]={observers:[],handlers:[]})}for(let i of r){let n=i.spec;if(n&&n.domEventHandlers)for(let s in n.domEventHandlers){let o=n.domEventHandlers[s];o&&t(s).handlers.push(zd(i.value,o))}if(n&&n.domEventObservers)for(let s in n.domEventObservers){let o=n.domEventObservers[s];o&&t(s).observers.push(zd(i.value,o))}}for(let i in Jt)t(i).handlers.push(Jt[i]);for(let i in Mt)t(i).observers.push(Mt[i]);return e}const Hm=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],NE="dthko",Vm=[16,17,18,20,91,92,224,225],zs=6;function Fs(r){return Math.max(0,r)*.7+8}function ME(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class DE{constructor(e,t,i,n){this.view=e,this.startEvent=t,this.style=i,this.mustSelect=n,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=X_(e.contentDOM),this.atoms=e.state.facet(Sh).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(pe.allowMultipleSelections)&&$E(e,t),this.dragging=zE(e,t)&&Km(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var t;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&ME(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let i=0,n=0,s=((t=this.scrollParent)===null||t===void 0?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=Im(this.view);e.clientX-o.left<=s.left+zs?i=-Fs(s.left-e.clientX):e.clientX+o.right>=s.right-zs&&(i=Fs(e.clientX-s.right)),e.clientY-o.top<=s.top+zs?n=-Fs(s.top-e.clientY):e.clientY+o.bottom>=s.bottom-zs&&(n=Fs(e.clientY-s.bottom)),this.setScrollSpeed(i,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let i=0;i<e.ranges.length;i++){let n=e.ranges[i],s=null;if(n.empty){let o=mo(this.atoms,n.from,0);o!=n.from&&(s=F.cursor(o,-1))}else{let o=mo(this.atoms,n.from,-1),a=mo(this.atoms,n.to,1);(o!=n.from||a!=n.to)&&(s=F.range(n.from==n.anchor?o:a,n.from==n.head?o:a))}s&&(t||(t=e.ranges.slice()),t[i]=s)}return t?F.create(t,e.mainIndex):e}select(e){let{view:t}=this,i=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!i.eq(t.state.selection)||i.main.assoc!=t.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:i,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function $E(r,e){let t=r.state.facet(km);return t.length?t[0](e):j.mac?e.metaKey:e.ctrlKey}function BE(r,e){let t=r.state.facet(xm);return t.length?t[0](e):j.mac?!e.altKey:!e.ctrlKey}function zE(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let i=zo(r.root);if(!i||i.rangeCount==0)return!0;let n=i.getRangeAt(0).getClientRects();for(let s=0;s<n.length;s++){let o=n[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function FE(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=Ee.get(t))&&i.ignoreEvent(e))return!1;return!0}const Jt=Object.create(null),Mt=Object.create(null),Wm=j.ie&&j.ie_version<15||j.ios&&j.webkit_version<604;function jE(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),Um(r,t.value)},50)}function Um(r,e){let{state:t}=r,i,n=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(xc!=null&&t.selection.ranges.every(l=>l.empty)&&xc==s.toString()){let l=-1;i=t.changeByRange(c=>{let h=t.doc.lineAt(c.from);if(h.from==l)return{range:c};l=h.from;let u=t.toText((o?s.line(n++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:u},range:F.cursor(c.from+u.length)}})}else o?i=t.changeByRange(l=>{let c=s.line(n++);return{changes:{from:l.from,to:l.to,insert:c.text},range:F.cursor(l.from+c.length)}}):i=t.replaceSelection(s);r.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Mt.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};Jt.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&(r.inputState.lastEscPress=Date.now()),!1);Mt.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};Mt.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};Jt.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let i of r.state.facet(Cm))if(t=i(r,e),t)break;if(!t&&e.button==0&&(t=WE(r,e)),t){let i=!r.hasFocus;r.inputState.startMouseSelection(new DE(r,e,t,i)),i&&r.observer.ignore(()=>hm(r.contentDOM));let n=r.inputState.mouseSelection;if(n)return n.start(e),n.dragging===!1}return!1};function Fd(r,e,t,i){if(i==1)return F.cursor(e,t);if(i==2)return CE(r.state,e,t);{let n=Ve.find(r.docView,e),s=r.state.doc.lineAt(n?n.posAtEnd:e),o=n?n.posAtStart:s.from,a=n?n.posAtEnd:s.to;return a<r.state.doc.length&&a==s.to&&a++,F.range(o,a)}}let Gm=(r,e)=>r>=e.top&&r<=e.bottom,jd=(r,e,t)=>Gm(e,t)&&r>=t.left&&r<=t.right;function HE(r,e,t,i){let n=Ve.find(r.docView,e);if(!n)return 1;let s=e-n.posAtStart;if(s==0)return 1;if(s==n.length)return-1;let o=n.coordsAt(s,-1);if(o&&jd(t,i,o))return-1;let a=n.coordsAt(s,1);return a&&jd(t,i,a)?1:o&&Gm(i,o)?-1:1}function Hd(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:HE(r,t,e.clientX,e.clientY)}}const VE=j.ie&&j.ie_version<=11;let Vd=null,Wd=0,Ud=0;function Km(r){if(!VE)return r.detail;let e=Vd,t=Ud;return Vd=r,Ud=Date.now(),Wd=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(Wd+1)%3:1}function WE(r,e){let t=Hd(r,e),i=Km(e),n=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),n=n.map(s.changes))},get(s,o,a){let l=Hd(r,s),c,h=Fd(r,l.pos,l.bias,i);if(t.pos!=l.pos&&!o){let u=Fd(r,t.pos,t.bias,i),d=Math.min(u.from,h.from),f=Math.max(u.to,h.to);h=d<h.from?F.range(d,f):F.range(f,d)}return o?n.replaceRange(n.main.extend(h.from,h.to)):a&&i==1&&n.ranges.length>1&&(c=UE(n,l.pos))?c:a?n.addRange(h):F.create([h])}}}function UE(r,e){for(let t=0;t<r.ranges.length;t++){let{from:i,to:n}=r.ranges[t];if(i<=e&&n>=e)return F.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}Jt.dragstart=(r,e)=>{let{selection:{main:t}}=r.state,{mouseSelection:i}=r.inputState;return i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",r.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove"),!1};function Gd(r,e,t,i){if(!t)return;let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{mouseSelection:s}=r.inputState,o=i&&s&&s.dragging&&BE(r,e)?{from:s.dragging.from,to:s.dragging.to}:null,a={from:n,insert:t},l=r.state.changes(o?[o,a]:a);r.focus(),r.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"})}Jt.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let i=Array(t.length),n=0,s=()=>{++n==t.length&&Gd(r,e,i.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let i=e.dataTransfer.getData("Text");if(i)return Gd(r,e,i,!0),!0}return!1};Jt.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=Wm?null:e.clipboardData;return t?(Um(r,t.getData("text/plain")||t.getData("text/uri-text")),!0):(jE(r),!1)};function GE(r,e){let t=r.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),r.focus()},50)}function KE(r){let e=[],t=[],i=!1;for(let n of r.selection.ranges)n.empty||(e.push(r.sliceDoc(n.from,n.to)),t.push(n));if(!e.length){let n=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>n&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),n=o.number}i=!0}return{text:e.join(r.lineBreak),ranges:t,linewise:i}}let xc=null;Jt.copy=Jt.cut=(r,e)=>{let{text:t,ranges:i,linewise:n}=KE(r.state);if(!t&&!n)return!1;xc=n?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"});let s=Wm?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(GE(r,t),!1)};const qm=Xi.define();function Ym(r,e){let t=[];for(let i of r.facet(Em)){let n=i(r,e);n&&t.push(n)}return t?r.update({effects:t,annotations:qm.of(!0)}):null}function Zm(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=Ym(r.state,e);t?r.dispatch(t):r.update([])}},10)}Mt.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),Zm(r)};Mt.blur=r=>{r.observer.clearSelectionRange(),Zm(r)};Mt.compositionstart=Mt.compositionupdate=r=>{r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0)};Mt.compositionend=r=>{r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,j.chrome&&j.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50)};Mt.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};Jt.beforeinput=(r,e)=>{var t;let i;if(j.chrome&&j.android&&(i=Hm.find(n=>n.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let n=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>n+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return!1};const Kd=new Set;function qE(r){Kd.has(r)||(Kd.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const qd=["pre-wrap","normal","pre-line","break-spaces"];class YE{constructor(e){this.lineWrapping=e,this.doc=ge.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.max(0,Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength))),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return qd.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let n=e[i];n<0?i++:this.heightSamples[Math.floor(n*10)]||(t=!0,this.heightSamples[Math.floor(n*10)]=!0)}return t}refresh(e,t,i,n,s,o){let a=qd.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=i,this.textHeight=n,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let h=o[c];h<0?c++:this.heightSamples[Math.floor(h*10)]=!0}}return l}}class ZE{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Kt{constructor(e,t,i,n,s){this.from=e,this.length=t,this.top=i,this.height=n,this._content=s}get type(){return typeof this._content=="number"?ot.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof zr?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Kt(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var _e=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(_e||(_e={}));const go=.001;class at{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>go&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return at.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,n){let s=this,o=i.doc;for(let a=n.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:h,toB:u}=n[a],d=s.lineAt(l,_e.ByPosNoHeight,i.setDoc(t),0,0),f=d.to>=c?d:s.lineAt(c,_e.ByPosNoHeight,i,0,0);for(u+=f.to-c,c=f.to;a>0&&d.from<=n[a-1].toA;)l=n[a-1].fromA,h=n[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,_e.ByPosNoHeight,i,0,0));h+=d.from-l,l=d.from;let p=wh.build(i.setDoc(o),e,h,u);s=s.replace(l,c,p)}return s.updateHeight(i,0)}static empty(){return new vt(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,n=0,s=0;for(;;)if(t==i)if(n>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,n-=a.size}else if(s>n*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(n<s){let a=e[t++];a&&(n+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new QE(at.of(e.slice(0,t)),o,at.of(e.slice(i)))}}at.prototype.size=1;class Qm extends at{constructor(e,t,i){super(e,t),this.deco=i}blockAt(e,t,i,n){return new Kt(n,this.length,i,this.height,this.deco||0)}lineAt(e,t,i,n,s){return this.blockAt(0,i,n,s)}forEachLine(e,t,i,n,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,n,s))}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class vt extends Qm{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,i,n){return new Kt(n,this.length,i,this.height,this.breaks)}replace(e,t,i){let n=i[0];return i.length==1&&(n instanceof vt||n instanceof Ze&&n.flags&4)&&Math.abs(this.length-n.length)<10?(n instanceof Ze?n=new vt(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):at.of(i)}updateHeight(e,t=0,i=!1,n){return n&&n.from<=t&&n.more?this.setHeight(e,n.heights[n.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ze extends at{constructor(e){super(e,0)}heightMetrics(e,t){let i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,s=n-i+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:i,lastLine:n,perLine:o,perChar:a}}blockAt(e,t,i,n){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,n);if(t.lineWrapping){let c=n+Math.round(Math.max(0,Math.min(1,(e-i)/this.height))*this.length),h=t.doc.lineAt(c),u=a+h.length*l,d=Math.max(i,e-u/2);return new Kt(h.from,h.length,d,u,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:h,length:u}=t.doc.line(s+c);return new Kt(h,u,i+a*c,a,0)}}lineAt(e,t,i,n,s){if(t==_e.ByHeight)return this.blockAt(e,i,n,s);if(t==_e.ByPosNoHeight){let{from:f,to:p}=i.doc.lineAt(e);return new Kt(f,p-f,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(i,s),c=i.doc.lineAt(e),h=a+c.length*l,u=c.number-o,d=n+a*u+l*(c.from-s-u);return new Kt(c.from,c.length,Math.max(n,Math.min(d,n+this.height-h)),h,0)}forEachLine(e,t,i,n,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(i,s);for(let h=e,u=n;h<=t;){let d=i.doc.lineAt(h);if(h==e){let p=d.number-a;u+=l*p+c*(e-s-p)}let f=l+c*d.length;o(new Kt(d.from,d.length,u,f,0)),u+=f,h=d.to+1}}replace(e,t,i){let n=this.length-t;if(n>0){let s=i[i.length-1];s instanceof Ze?i[i.length-1]=new Ze(s.length+n):i.push(null,new Ze(n-1))}if(e>0){let s=i[0];s instanceof Ze?i[0]=new Ze(e+s.length):i.unshift(new Ze(e-1),null)}return at.of(i)}decomposeLeft(e,t){t.push(new Ze(e-1),null)}decomposeRight(e,t){t.push(null,new Ze(this.length-e-1))}updateHeight(e,t=0,i=!1,n){let s=t+this.length;if(n&&n.from<=t+this.length&&n.more){let o=[],a=Math.max(t,n.from),l=-1;for(n.from>t&&o.push(new Ze(n.from-t-1).updateHeight(e,t));a<=s&&n.more;){let h=e.doc.lineAt(a).length;o.length&&o.push(null);let u=n.heights[n.index++];l==-1?l=u:Math.abs(u-l)>=go&&(l=-2);let d=new vt(h,u);d.outdated=!1,o.push(d),a+=h+1}a<=s&&o.push(null,new Ze(s-a).updateHeight(e,a));let c=at.of(o);return(l<0||Math.abs(c.height-this.height)>=go||Math.abs(l-this.heightMetrics(e,t).perLine)>=go)&&(e.heightChanged=!0),c}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class QE extends at{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,n){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,n):this.right.blockAt(e,t,s,n+this.left.length+this.break)}lineAt(e,t,i,n,s){let o=n+this.left.height,a=s+this.left.length+this.break,l=t==_e.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,i,n,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let h=t==_e.ByPosNoHeight?_e.ByPosNoHeight:_e.ByPos;return l?c.join(this.right.lineAt(a,h,i,o,a)):this.left.lineAt(a,h,i,n,s).join(c)}forEachLine(e,t,i,n,s,o){let a=n+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,n,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let c=this.lineAt(l,_e.ByPos,i,n,s);e<c.from&&this.left.forEachLine(e,c.from-1,i,n,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,i,a,l,o)}}replace(e,t,i){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&Yd(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),Yd(s,a)}return at.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,n=i+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?at.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,n){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return n&&n.from<=t+s.length&&n.more?l=s=s.updateHeight(e,t,i,n):s.updateHeight(e,t,i),n&&n.from<=a+o.length&&n.more?l=o=o.updateHeight(e,a,i,n):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Yd(r,e){let t,i;r[e]==null&&(t=r[e-1])instanceof Ze&&(i=r[e+1])instanceof Ze&&r.splice(e-1,3,new Ze(t.length+1+i.length))}const XE=5;class wh{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),n=this.nodes[this.nodes.length-1];n instanceof vt?n.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new vt(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let n=i.widget?i.widget.estimatedHeight:0,s=i.widget?i.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let o=t-e;i.block?this.addBlock(new Qm(o,n,i)):(o||s||n>=XE)&&this.addLineDeco(n,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new vt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new Ze(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof vt)return e;let t=new vt(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,i){let n=this.ensureLine();n.length+=i,n.collapsed+=i,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+i}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof vt)&&!this.isCovered?this.nodes.push(new vt(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let n of this.nodes)n instanceof vt&&n.updateHeight(this.oracle,i),i+=n?n.length:1;return this.nodes}static build(e,t,i,n){let s=new wh(i,e);return ye.spans(t,i,n,s,0),s.finish(i)}}function JE(r,e,t){let i=new eO;return ye.compare(r,e,t,i,0),i.changes}class eO{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,n){(e<t||i&&i.heightRelevant||n&&n.heightRelevant)&&gc(e,t,this.changes,5)}}function tO(r,e){let t=r.getBoundingClientRect(),i=r.ownerDocument,n=i.defaultView||window,s=Math.max(0,t.left),o=Math.min(n.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(n.innerHeight,t.bottom);for(let c=r.parentNode;c&&c!=i.body;)if(c.nodeType==1){let h=c,u=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&u.overflow!="visible"){let d=h.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=c==r.parentNode?d.bottom:Math.min(l,d.bottom)}c=u.position=="absolute"||u.position=="fixed"?h.offsetParent:h.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function rO(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class gl{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(n.from!=s.from||n.to!=s.to||n.size!=s.size)return!1}return!0}draw(e,t){return be.replace({widget:new iO(this.size*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class iO extends Hr{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Zd{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Qd,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ze.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(vh).some(i=>typeof i!="function"&&i.class=="cm-lineWrapping");this.heightOracle=new YE(t),this.stateDeco=e.facet(Qn).filter(i=>typeof i!="function"),this.heightMap=at.empty().applyChanges(this.stateDeco,ge.empty,this.heightOracle.setDoc(e.doc),[new Tt(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=be.set(this.lineGaps.map(i=>i.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let n=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>n>=s&&n<=o)){let{from:s,to:o}=this.lineBlockAt(n);e.push(new js(s,o))}}this.viewports=e.sort((i,n)=>i.from-n.from),this.scaler=this.heightMap.height<=7e6?Qd:new oO(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:kn(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(Qn).filter(h=>typeof h!="function");let n=e.changedRanges,s=Tt.extendWithRanges(n,JE(i,this.stateDeco,e?e.changes:Ue.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Tm)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),n=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?ze.RTL:ze.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let A=a.width/t.offsetWidth,_=a.height/t.offsetHeight;(A>.995&&A<1.005||!isFinite(A)||Math.abs(a.width-t.offsetWidth)<1)&&(A=1),(_>.995&&_<1.005||!isFinite(_)||Math.abs(a.height-t.offsetHeight)<1)&&(_=1),(this.scaleX!=A||this.scaleY!=_)&&(this.scaleX=A,this.scaleY=_,c|=8,o=l=!0)}let u=(parseInt(i.paddingTop)||0)*this.scaleY,d=(parseInt(i.paddingBottom)||0)*this.scaleY;(this.paddingTop!=u||this.paddingBottom!=d)&&(this.paddingTop=u,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(n.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=dm(e.scrollDOM);let p=(this.printing?rO:tO)(t,this.paddingTop),b=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let A=e.docView.measureVisibleLineHeights(this.viewport);if(n.mustRefreshForHeights(A)&&(o=!0),o||n.lineWrapping&&Math.abs(k-this.contentDOMWidth)>n.charWidth){let{lineHeight:_,charWidth:O,textHeight:C}=e.docView.measureTextSize();o=_>0&&n.refresh(s,_,O,C,k/O,A),o&&(e.docView.minWidth=0,c|=8)}b>0&&g>0?h=Math.max(b,g):b<0&&g<0&&(h=Math.min(b,g)),n.heightChanged=!1;for(let _ of this.viewports){let O=_.from==this.viewport.from?A:e.docView.measureVisibleLineHeights(_);this.heightMap=(o?at.empty().applyChanges(this.stateDeco,ge.empty,this.heightOracle,[new Tt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(n,0,o,new ZE(_.from,O))}n.heightChanged&&(c|=2)}let E=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return E&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(c&2||E)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new js(n.lineAt(o-i*1e3,_e.ByHeight,s,0,0).from,n.lineAt(a+(1-i)*1e3,_e.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=n.lineAt(c,_e.ByPos,s,0,0),d;t.y=="center"?d=(u.top+u.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&c<l.from?d=u.top:d=u.bottom-h,l=new js(n.lineAt(d-1e3/2,_e.ByHeight,s,0,0).from,n.lineAt(d+h+1e3/2,_e.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new js(this.heightMap.lineAt(i,_e.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,_e.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:n}=this.heightMap.lineAt(e,_e.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,_e.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||n<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&n>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let n of e)t.touchesRange(n.from,n.to)||i.push(new gl(t.mapPos(n.from),t.mapPos(n.to),n.size));return i}ensureLineGaps(e,t){let i=this.heightOracle.lineWrapping,n=i?1e4:2e3,s=n>>1,o=n<<1;if(this.defaultTextDirection!=ze.LTR&&!i)return[];let a=[],l=(c,h,u,d)=>{if(h-c<s)return;let f=this.state.selection.main,p=[f.from];f.empty||p.push(f.to);for(let g of p)if(g>c&&g<h){l(c,g-10,u,d),l(g+10,h,u,d);return}let b=sO(e,g=>g.from>=u.from&&g.to<=u.to&&Math.abs(g.from-c)<s&&Math.abs(g.to-h)<s&&!p.some(v=>g.from<v&&g.to>v));if(!b){if(h<u.to&&t&&i&&t.visibleRanges.some(g=>g.from<=h&&g.to>=h)){let g=t.moveToLineBoundary(F.cursor(h),!1,!0).head;g>c&&(h=g)}b=new gl(c,h,this.gapSize(u,c,h,d))}a.push(b)};for(let c of this.viewportLines){if(c.length<o)continue;let h=nO(c.from,c.to,this.stateDeco);if(h.total<o)continue;let u=this.scrollTarget?this.scrollTarget.range.head:null,d,f;if(i){let p=n/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,g;if(u!=null){let v=Vs(h,u),k=((this.visibleBottom-this.visibleTop)/2+p)/c.height;b=v-k,g=v+k}else b=(this.visibleTop-c.top-p)/c.height,g=(this.visibleBottom-c.top+p)/c.height;d=Hs(h,b),f=Hs(h,g)}else{let p=h.total*this.heightOracle.charWidth,b=n*this.heightOracle.charWidth,g,v;if(u!=null){let k=Vs(h,u),E=((this.pixelViewport.right-this.pixelViewport.left)/2+b)/p;g=k-E,v=k+E}else g=(this.pixelViewport.left-b)/p,v=(this.pixelViewport.right+b)/p;d=Hs(h,g),f=Hs(h,v)}d>c.from&&l(c.from,d,c,h),f<c.to&&l(f,c.to,c,h)}return a}gapSize(e,t,i,n){let s=Vs(n,i)-Vs(n,t);return this.heightOracle.lineWrapping?e.height*s:n.total*this.heightOracle.charWidth*s}updateLineGaps(e){gl.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=be.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];ye.spans(e,this.viewport.from,this.viewport.to,{span(n,s){t.push({from:n,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((n,s)=>n.from!=t[s].from||n.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||kn(this.heightMap.lineAt(e,_e.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return kn(this.heightMap.lineAt(this.scaler.fromDOM(e),_e.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return kn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class js{constructor(e,t){this.from=e,this.to=t}}function nO(r,e,t){let i=[],n=r,s=0;return ye.spans(t,r,e,{span(){},point(o,a){o>n&&(i.push({from:n,to:o}),s+=o-n),n=a}},20),n<e&&(i.push({from:n,to:e}),s+=e-n),{total:s,ranges:i}}function Hs({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(r*t);for(let n=0;;n++){let{from:s,to:o}=e[n],a=o-s;if(i<=a)return s+i;i-=a}}function Vs(r,e){let t=0;for(let{from:i,to:n}of r.ranges){if(e<=n){t+=e-i;break}t+=n-i}return t/r.total}function sO(r,e){for(let t of r)if(e(t))return t}const Qd={toDOM(r){return r},fromDOM(r){return r},scale:1};class oO{constructor(e,t,i){let n=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let c=t.lineAt(a,_e.ByPos,e,0,0).top,h=t.lineAt(l,_e.ByPos,e,0,0).bottom;return n+=h-c,{from:a,to:l,top:c,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return n+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,n=s.domBottom}}fromDOM(e){for(let t=0,i=0,n=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-n)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,n=s.domBottom}}}function kn(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),i=e.toDOM(r.bottom);return new Kt(r.from,r.length,t,i-t,Array.isArray(r._content)?r._content.map(n=>kn(n,e)):r._content)}const Ws=H.define({combine:r=>r.join(" ")}),Cc=H.define({combine:r=>r.indexOf(!0)>-1}),Ac=$r.newName(),Xm=$r.newName(),Jm=$r.newName(),eg={"&light":"."+Xm,"&dark":"."+Jm};function _c(r,e,t){return new $r(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,n=>{if(n=="&")return r;if(!t||!t[n])throw new RangeError(`Unsupported selector: ${n}`);return t[n]}):r+" "+i}})}const aO=_c("."+Ac,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},eg),xn="";class lO{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(pe.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=xn}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let n=e;;){this.findPointBefore(i,n);let s=this.text.length;this.readNode(n);let o=n.nextSibling;if(o==t)break;let a=Ee.get(n),l=Ee.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Xd(n))||Xd(o)&&(n.nodeName!="BR"||n.cmIgnore)&&this.text.length>s)&&this.lineBreak(),n=o}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=n.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=Ee.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let n=i.iter();!n.next().done;)n.lineBreak?this.lineBreak():this.append(n.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+(cO(e,i.node,i.offset)?t:0))}}function cO(r,e,t){for(;;){if(!e||t<pr(e))return!1;if(e==r)return!0;t=Zn(e)+1,e=e.parentNode}}function Xd(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}class Jd{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class hO{constructor(e,t,i,n){this.typeOver=n,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,i,0))){let a=s||o?[]:fO(e),l=new lO(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=pO(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!hc(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!hc(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset);this.newSel=F.single(c,l)}}}function tg(r,e){let t,{newSel:i}=e,n=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=n.from,c=null;(s===8||j.android&&e.text.length<a-o)&&(l=n.to,c="end");let h=dO(r.state.doc.sliceString(o,a,xn),e.text,l-o,c);h&&(j.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==xn+xn&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:ge.of(e.text.slice(h.from,h.toB).split(xn))})}else i&&(!r.hasFocus&&r.state.facet(xa)||i.main.eq(n))&&(i=null);if(!t&&!i)return!1;if(!t&&e.typeOver&&!n.empty&&i&&i.main.empty?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,n.to)}:t&&t.from>=n.from&&t.to<=n.to&&(t.from!=n.from||t.to!=n.to)&&n.to-n.from-(t.to-t.from)<=4?t={from:n.from,to:n.to,insert:r.state.doc.slice(n.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,n.to))}:(j.mac||j.android)&&t&&t.from==t.to&&t.from==n.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(i&&t.insert.length==2&&(i=F.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:ge.of([" "])}):j.chrome&&t&&t.from==t.to&&t.from==n.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(i&&(i=F.single(i.main.anchor-1,i.main.head-1)),t={from:n.from,to:n.to,insert:ge.of([" "])}),t){if(j.ios&&r.inputState.flushIOSKey()||j.android&&(t.from==n.from&&t.to==n.to&&t.insert.length==1&&t.insert.lines==2&&Mi(r.contentDOM,"Enter",13)||(t.from==n.from-1&&t.to==n.to&&t.insert.length==0||s==8&&t.insert.length<t.to-t.from&&t.to>n.head)&&Mi(r.contentDOM,"Backspace",8)||t.from==n.from&&t.to==n.to+1&&t.insert.length==0&&Mi(r.contentDOM,"Delete",46)))return!0;let o=t.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let a,l=()=>a||(a=uO(r,t,i));return r.state.facet(_m).some(c=>c(r,t.from,t.to,o,l))||r.dispatch(l()),!0}else if(i&&!i.main.eq(n)){let o=!1,a="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),a=r.inputState.lastSelectionOrigin),r.dispatch({selection:i,scrollIntoView:o,userEvent:a}),!0}else return!1}function uO(r,e,t){let i,n=r.state,s=n.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let a=s.from<e.from?n.sliceDoc(s.from,e.from):"",l=s.to>e.to?n.sliceDoc(e.to,s.to):"";i=n.replaceSelection(r.state.toText(a+e.insert.sliceString(0,void 0,r.state.lineBreak)+l))}else{let a=n.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(n.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=r.state.sliceDoc(e.from,e.to),h,u=t&&zm(r,t.main.head);if(u){let p=e.insert.length-(e.to-e.from);h={from:u.from,to:u.to-p}}else h=r.state.doc.lineAt(s.head);let d=s.to-e.to,f=s.to-s.from;i=n.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:a,range:l||p.map(a)};let b=p.to-d,g=b-c.length;if(p.to-p.from!=f||r.state.sliceDoc(g,b)!=c||p.to>=h.from&&p.from<=h.to)return{range:p};let v=n.changes({from:g,to:b,insert:e.insert}),k=p.to-s.to;return{changes:v,range:l?F.range(Math.max(0,l.anchor+k),Math.max(0,l.head+k)):p.map(v)}})}else i={changes:a,selection:l&&n.selection.replaceRange(l)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),n.update(i,{userEvent:o,scrollIntoView:!0})}function dO(r,e,t,i){let n=Math.min(r.length,e.length),s=0;for(;s<n&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==n&&r.length==e.length)return null;let o=r.length,a=e.length;for(;o>0&&a>0&&r.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&r.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function fO(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:n,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new Jd(t,i)),(n!=t||s!=i)&&e.push(new Jd(n,s))),e}function pO(r,e){if(r.length==0)return null;let t=r[0].pos,i=r.length==2?r[1].pos:t;return t>-1&&i>-1?F.single(t+e,i+e):null}const mO={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},bl=j.ie&&j.ie_version<=11;class gO{constructor(e){this.view=e,this.active=!1,this.selectionRange=new J_,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let i of t)this.queue.push(i);(j.ie&&j.ie_version<=11||j.ios&&e.composing)&&t.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),bl&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:i}=this,n=this.selectionRange;if(i.state.facet(xa)?i.root.activeElement!=this.dom:!po(i.dom,n))return;let s=n.anchorNode&&i.docView.nearest(n.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(j.ie&&j.ie_version<=11||j.android&&j.chrome)&&!i.state.selection.main.empty&&n.focusNode&&Fo(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=j.safari&&e.root.nodeType==11&&Y_(this.dom.ownerDocument)==this.dom&&bO(this.view)||zo(e.root);if(!t||this.selectionRange.eq(t))return!1;let i=po(this.dom,t);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&tE(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,mO),bl&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),bl&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var i;if(!this.delayedAndroidKey){let n=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Mi(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(n)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((i=this.delayedAndroidKey)===null||i===void 0)&&i.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,i=-1,n=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(n=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:n}}readChange(){let{from:e,to:t,typeOver:i}=this.processRecords(),n=this.selectionChanged&&po(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new hO(this.view,e,t,i);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let i=this.view.state,n=tg(this.view,t);return this.view.state==i&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let i=ef(t,e.previousSibling||e.target.previousSibling,-1),n=ef(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,i,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resizeScroll)===null||i===void 0||i.disconnect(),(n=this.resizeContent)===null||n===void 0||n.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function ef(r,e,t){for(;e;){let i=Ee.get(e);if(i&&i.parent==r)return i;let n=e.parentNode;e=n!=r.dom?n:t>0?e.nextSibling:e.previousSibling}return null}function bO(r){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(r.contentDOM.addEventListener("beforeinput",t,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset,a=r.docView.domAtPos(r.state.selection.main.anchor);return Fo(a.node,a.offset,s,o)&&([i,n,s,o]=[s,o,i,n]),{anchorNode:i,anchorOffset:n,focusNode:s,focusOffset:o}}class Q{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM);let{dispatch:t}=e;this.dispatchTransactions=e.dispatchTransactions||t&&(i=>i.forEach(n=>t(n,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||eE(e.parent)||document,this.viewState=new Zd(e.state||pe.create(e)),this.plugins=this.state.facet(Sn).map(i=>new fl(i));for(let i of this.plugins)i.update(this);this.observer=new gO(this),this.inputState=new PE(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Pd(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let t=e.length==1&&e[0]instanceof it?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,n,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(qm))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=Ym(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(pe.phrases)!=this.state.facet(pe.phrases))return this.setState(s);n=Ho.create(this,s,e),n.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(u&&(u=u.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;u=new jo(f.empty?f:F.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(Rd)&&(u=f.value)}this.viewState.update(n,u),this.bidiCache=Vo.update(this.bidiCache,n.changes),n.empty||(this.updatePlugins(n),this.inputState.update(n)),t=this.docView.update(n),this.state.facet(wn)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(n.startState.facet(Ws)!=n.state.facet(Ws)&&(this.viewState.mustMeasureContent=!0),(t||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!n.empty)for(let d of this.state.facet(bc))d(n);(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!tg(this,h)&&c.force&&Mi(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new Zd(e),this.plugins=e.facet(Sn).map(i=>new fl(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new Pd(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Sn),i=e.state.facet(Sn);if(t!=i){let n=[];for(let s of i){let o=t.indexOf(s);if(o<0)n.push(new fl(s));else{let a=this.plugins[o];a.mustUpdate=e,n.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=i&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,i=this.scrollDOM,n=i.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(dm(i))s=-1,o=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(n);s=f.from,o=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let h=c.map(f=>{try{return f.read(this)}catch(p){return Nr(this.state,p),tf}}),u=Ho.create(this,this.state,[]),d=!1;u.flags|=l,t?t.flags|=l:t=u,this.updateState=2,u.empty||(this.updatePlugins(u),this.inputState.update(u),this.updateAttrs(),d=this.docView.update(u));for(let f=0;f<c.length;f++)if(h[f]!=tf)try{let p=c[f];p.write&&p.write(h[f],this)}catch(p){Nr(this.state,p)}if(d&&this.docView.updateSelection(!0),!u.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let p=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(p>1||p<-1){n=n+p,i.scrollTop=n/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(bc))a(t)}get themeClasses(){return Ac+" "+(this.state.facet(Cc)?Jm:Xm)+" "+this.state.facet(Ws)}updateAttrs(){let e=rf(this,Rm,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(xa)?"true":"false",class:"cm-content",style:`${j.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),rf(this,vh,t);let i=this.observer.ignore(()=>{let n=mc(this.contentDOM,this.contentAttrs,t),s=mc(this.dom,this.editorAttrs,e);return n||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let n of i.effects)if(n.is(Q.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=n.value}}mountStyles(){this.styleModules=this.state.facet(wn);let e=this.state.facet(Q.cspNonce);$r.mount(this.root,this.styleModules.concat(aO).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return ml(this,e,Bd(this,e,t,i))}moveByGroup(e,t){return ml(this,e,Bd(this,e,t,i=>RE(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return TE(this,e,t,i)}moveVertically(e,t,i){return ml(this,e,LE(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),jm(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let n=this.state.doc.lineAt(e),s=this.bidiSpans(n),o=s[Lr.find(s,e-n.from,-1,t)];return wa(i,o.dir==ze.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Om)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>yO)return $m(e.length);let t=this.textDirectionAt(e.from),i;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||Dm(s.isolates,i=Ld(this,e.from,e.to))))return s.order;i||(i=Ld(this,e.from,e.to));let n=mE(e.text,t,i);return this.bidiCache.push(new Vo(e.from,e.to,t,i,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||j.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{hm(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Rd.of(new jo(typeof e=="number"?F.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Ke.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Ke.define(()=>({}),{eventObservers:e})}static theme(e,t){let i=$r.newName(),n=[Ws.of(i),wn.of(_c(`.${i}`,e))];return t&&t.dark&&n.push(Cc.of(!0)),n}static baseTheme(e){return va.lowest(wn.of(_c("."+Ac,e,eg)))}static findFromDOM(e){var t;let i=e.querySelector(".cm-content"),n=i&&Ee.get(i)||Ee.get(e);return((t=n?.rootView)===null||t===void 0?void 0:t.view)||null}}Q.styleModule=wn;Q.inputHandler=_m;Q.focusChangeEffect=Em;Q.perLineTextDirection=Om;Q.exceptionSink=Am;Q.updateListener=bc;Q.editable=xa;Q.mouseSelectionStyle=Cm;Q.dragMovesSelection=xm;Q.clickAddsSelectionRange=km;Q.decorations=Qn;Q.atomicRanges=Sh;Q.bidiIsolatedRanges=Lm;Q.scrollMargins=Pm;Q.darkTheme=Cc;Q.cspNonce=H.define({combine:r=>r.length?r[0]:""});Q.contentAttributes=vh;Q.editorAttributes=Rm;Q.lineWrapping=Q.contentAttributes.of({class:"cm-lineWrapping"});Q.announce=Ie.define();const yO=4096,tf={};class Vo{constructor(e,t,i,n,s,o){this.from=e,this.to=t,this.dir=i,this.isolates=n,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let i=[],n=e.length?e[e.length-1].dir:ze.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==n&&!t.touchesRange(o.from,o.to)&&i.push(new Vo(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return i}}function rf(r,e,t){for(let i=r.state.facet(e),n=i.length-1;n>=0;n--){let s=i[n],o=typeof s=="function"?s(r):s;o&&pc(o,t)}return t}const vO=j.mac?"mac":j.windows?"win":j.linux?"linux":"key";function SO(r,e){const t=r.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let n,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Us(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const wO=va.default(Q.domEventHandlers({keydown(r,e){return ig(rg(e.state),r,e,"editor")}})),kO=H.define({enables:wO}),nf=new WeakMap;function rg(r){let e=r.facet(kO),t=nf.get(e);return t||nf.set(e,t=CO(e.reduce((i,n)=>i.concat(n),[]))),t}function SP(r,e,t){return ig(rg(r.state),e,r,t)}let Er=null;const xO=4e3;function CO(r,e=vO){let t=Object.create(null),i=Object.create(null),n=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,h)=>{var u,d;let f=t[o]||(t[o]=Object.create(null)),p=a.split(/ (?!$)/).map(v=>SO(v,e));for(let v=1;v<p.length;v++){let k=p.slice(0,v).join(" ");n(k,!0),f[k]||(f[k]={preventDefault:!0,stopPropagation:!1,run:[E=>{let A=Er={view:E,prefix:k,scope:o};return setTimeout(()=>{Er==A&&(Er=null)},xO),!0}]})}let b=p.join(" ");n(b,!1);let g=f[b]||(f[b]={preventDefault:!1,stopPropagation:!1,run:((d=(u=f._any)===null||u===void 0?void 0:u.run)===null||d===void 0?void 0:d.slice())||[]});l&&g.run.push(l),c&&(g.preventDefault=!0),h&&(g.stopPropagation=!0)};for(let o of r){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let h=t[c]||(t[c]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let u in h)h[u].run.push(o.any)}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}function ig(r,e,t,i){let n=q_(e),s=Pn(n,0),o=Ql(s)==n.length&&n!=" ",a="",l=!1,c=!1,h=!1;Er&&Er.view==t&&Er.scope==i&&(a=Er.prefix+" ",Vm.indexOf(e.keyCode)<0&&(c=!0,Er=null));let u=new Set,d=g=>{if(g){for(let v of g.run)if(!u.has(v)&&(u.add(v),v(t,e)))return g.stopPropagation&&(h=!0),!0;g.preventDefault&&(g.stopPropagation&&(h=!0),c=!0)}return!1},f=r[i],p,b;return f&&(d(f[a+Us(n,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(j.windows&&e.ctrlKey&&e.altKey)&&(p=Br[e.keyCode])&&p!=n?(d(f[a+Us(p,e,!0)])||e.shiftKey&&(b=Yn[e.keyCode])!=n&&b!=p&&d(f[a+Us(b,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(f[a+Us(n,e,!0)])&&(l=!0),!l&&d(f._any)&&(l=!0)),c&&(l=!0),l&&h&&e.stopPropagation(),l}class us{constructor(e,t,i,n,s){this.className=e,this.left=t,this.top=i,this.width=n,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,i){if(i.empty){let n=e.coordsAtPos(i.head,i.assoc||1);if(!n)return[];let s=ng(e);return[new us(t,n.left-s.left,n.top-s.top,null,n.bottom-n.top)]}else return AO(e,t,i)}}function ng(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==ze.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function sf(r,e,t){let i=F.cursor(e);return{from:Math.max(t.from,r.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,r.moveToLineBoundary(i,!0,!0).from),type:ot.Text}}function AO(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let i=Math.max(t.from,r.viewport.from),n=Math.min(t.to,r.viewport.to),s=r.textDirection==ze.LTR,o=r.contentDOM,a=o.getBoundingClientRect(),l=ng(r),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),u=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),d=a.right-(h?parseInt(h.paddingRight):0),f=kc(r,i),p=kc(r,n),b=f.type==ot.Text?f:null,g=p.type==ot.Text?p:null;if(b&&(r.lineWrapping||f.widgetLineBreaks)&&(b=sf(r,i,b)),g&&(r.lineWrapping||p.widgetLineBreaks)&&(g=sf(r,n,g)),b&&g&&b.from==g.from)return k(E(t.from,t.to,b));{let _=b?E(t.from,null,b):A(f,!1),O=g?E(null,t.to,g):A(p,!0),C=[];return(b||f).to<(g||p).from-(b&&g?1:0)||f.widgetLineBreaks>1&&_.bottom+r.defaultLineHeight/2<O.top?C.push(v(u,_.bottom,d,O.top)):_.bottom<O.top&&r.elementAtHeight((_.bottom+O.top)/2).type==ot.Text&&(_.bottom=O.top=(_.bottom+O.top)/2),k(_).concat(C).concat(k(O))}function v(_,O,C,N){return new us(e,_-l.left,O-l.top-.01,C-_,N-O+.01)}function k({top:_,bottom:O,horizontal:C}){let N=[];for(let I=0;I<C.length;I+=2)N.push(v(C[I],_,C[I+1],O));return N}function E(_,O,C){let N=1e9,I=-1e9,V=[];function X(R,J,ve,Oe,Te){let Se=r.coordsAtPos(R,R==C.to?-2:2),Re=r.coordsAtPos(ve,ve==C.from?2:-2);!Se||!Re||(N=Math.min(Se.top,Re.top,N),I=Math.max(Se.bottom,Re.bottom,I),Te==ze.LTR?V.push(s&&J?u:Se.left,s&&Oe?d:Re.right):V.push(!s&&Oe?u:Re.left,!s&&J?d:Se.right))}let xe=_??C.from,Ne=O??C.to;for(let R of r.visibleRanges)if(R.to>xe&&R.from<Ne)for(let J=Math.max(R.from,xe),ve=Math.min(R.to,Ne);;){let Oe=r.state.doc.lineAt(J);for(let Te of r.bidiSpans(Oe)){let Se=Te.from+Oe.from,Re=Te.to+Oe.from;if(Se>=ve)break;Re>J&&X(Math.max(Se,J),_==null&&Se<=xe,Math.min(Re,ve),O==null&&Re>=Ne,Te.dir)}if(J=Oe.to+1,J>=ve)break}return V.length==0&&X(xe,_==null,Ne,O==null,r.textDirection),{top:N,bottom:I,horizontal:V}}function A(_,O){let C=a.top+(O?_.top:_.bottom);return{top:C,bottom:C,horizontal:[]}}}function _O(r,e){return r.constructor==e.constructor&&r.eq(e)}class EO{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(bo)!=e.state.facet(bo)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let t=0,i=e.facet(bo);for(;t<i.length&&i[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,i)=>!_O(t,this.drawn[i]))){let t=this.dom.firstChild,i=0;for(let n of e)n.update&&t&&n.constructor&&this.drawn[i].constructor&&n.update(t,this.drawn[i])?(t=t.nextSibling,i++):this.dom.insertBefore(n.draw(),t);for(;t;){let n=t.nextSibling;t.remove(),t=n}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const bo=H.define();function sg(r){return[Ke.define(e=>new EO(e,r)),bo.of(r)]}const og=!j.ios,Jn=H.define({combine(r){return ls(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function wP(r={}){return[Jn.of(r),OO,TO,RO,Tm.of(!0)]}function ag(r){return r.startState.facet(Jn)!=r.state.facet(Jn)}const OO=sg({above:!0,markers(r){let{state:e}=r,t=e.facet(Jn),i=[];for(let n of e.selection.ranges){let s=n==e.selection.main;if(n.empty?!s||og:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=n.empty?n:F.cursor(n.head,n.head>n.anchor?-1:1);for(let l of us.forRange(r,o,a))i.push(l)}}return i},update(r,e){r.transactions.some(i=>i.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=ag(r);return t&&of(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){of(e.state,r)},class:"cm-cursorLayer"});function of(r,e){e.style.animationDuration=r.facet(Jn).cursorBlinkRate+"ms"}const TO=sg({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:us.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||ag(r)},class:"cm-selectionLayer"}),lg={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};og&&(lg[".cm-line"].caretColor="transparent !important");const RO=va.highest(Q.theme(lg)),cg=Ie.define({map(r,e){return r==null?null:e.mapPos(r)}}),Cn=Dt.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,i)=>i.is(cg)?i.value:t,r)}}),LO=Ke.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(Cn);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(Cn)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(Cn),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let i=r.scrollDOM.getBoundingClientRect();return{left:t.left-i.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-i.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(Cn)!=r&&this.view.dispatch({effects:cg.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function kP(){return[Cn,LO]}function af(r,e,t,i,n){e.lastIndex=0;for(let s=r.iterRange(t,i),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)n(o+a.index,a)}function PO(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let i=[];for(let{from:n,to:s}of t)n=Math.max(r.state.doc.lineAt(n).from,n-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=n?i[i.length-1].to=s:i.push({from:n,to:s});return i}class IO{constructor(e){const{regexp:t,decoration:i,decorate:n,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,n)this.addMatch=(a,l,c,h)=>n(h,c,c+a[0].length,a,l);else if(typeof i=="function")this.addMatch=(a,l,c,h)=>{let u=i(a,l,c);u&&h(c,c+a[0].length,u)};else if(i)this.addMatch=(a,l,c,h)=>h(c,c+a[0].length,i);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new oi,i=t.add.bind(t);for(let{from:n,to:s}of PO(e,this.maxLength))af(e.state.doc,this.regexp,n,s,(o,a)=>this.addMatch(a,e,o,i));return t.finish()}updateDeco(e,t){let i=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),n=Math.max(l,n))}),e.viewportChanged||n-i>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),i,n):t}updateRange(e,t,i,n){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,n);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,h=Math.max(s.from,l.from),u=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){h=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){u=a;break}}let d=[],f,p=(b,g,v)=>d.push(v.range(b,g));if(l==c)for(this.regexp.lastIndex=h-l.from;(f=this.regexp.exec(l.text))&&f.index<u-l.from;)this.addMatch(f,e,f.index+l.from,p);else af(e.state.doc,this.regexp,h,u,(b,g)=>this.addMatch(g,e,b,p));t=t.update({filterFrom:h,filterTo:u,filter:(b,g)=>b<h||g>u,add:d})}}return t}}const Ec=/x/.unicode!=null?"gu":"g",NO=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,Ec),MO={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let yl=null;function DO(){var r;if(yl==null&&typeof document<"u"&&document.body){let e=document.body.style;yl=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return yl||!1}const yo=H.define({combine(r){let e=ls(r,{render:null,specialChars:NO,addSpecialChars:null});return(e.replaceTabs=!DO())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Ec)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ec)),e}});function xP(r={}){return[yo.of(r),$O()]}let lf=null;function $O(){return lf||(lf=Ke.fromClass(class{constructor(r){this.view=r,this.decorations=be.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(yo)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new IO({regexp:r.specialChars,decoration:(e,t,i)=>{let{doc:n}=t.state,s=Pn(e[0],0);if(s==9){let o=n.lineAt(i),a=t.state.tabSize,l=gh(o.text,a,i-o.from);return be.replace({widget:new jO((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=be.replace({widget:new FO(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(yo);r.startState.facet(yo)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const BO="";function zO(r){return r>=32?BO:r==10?"":String.fromCharCode(9216+r)}class FO extends Hr{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=zO(this.code),i=e.state.phrase("Control character")+" "+(MO[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,i,t);if(n)return n;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class jO extends Hr{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function CP(){return VO}const HO=be.line({class:"cm-activeLine"}),VO=Ke.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let i of r.state.selection.ranges){let n=r.lineBlockAt(i.head);n.from>e&&(t.push(HO.range(n.from)),e=n.from)}return be.set(t)}},{decorations:r=>r.decorations});class WO extends Hr{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let t=e.firstChild?Vi(e.firstChild):[];if(!t.length)return null;let i=window.getComputedStyle(e.parentNode),n=wa(t[0],i.direction!="rtl"),s=parseInt(i.lineHeight);return n.bottom-n.top>s*1.5?{left:n.left,right:n.right,top:n.top,bottom:n.top+s}:n}ignoreEvent(){return!1}}function AP(r){return Ke.fromClass(class{constructor(e){this.view=e,this.placeholder=r?be.set([be.widget({widget:new WO(r),side:1}).range(0)]):be.none}get decorations(){return this.view.state.doc.length?be.none:this.placeholder}},{decorations:e=>e.decorations})}const Oc=2e3;function UO(r,e,t){let i=Math.min(e.line,t.line),n=Math.max(e.line,t.line),s=[];if(e.off>Oc||t.off>Oc||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=i;l<=n;l++){let c=r.doc.line(l);c.length<=a&&s.push(F.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=i;l<=n;l++){let c=r.doc.line(l),h=ac(c.text,o,r.tabSize,!0);if(h<0)s.push(F.cursor(c.to));else{let u=ac(c.text,a,r.tabSize);s.push(F.range(c.from+h,c.from+u))}}}return s}function GO(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function cf(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),i=r.state.doc.lineAt(t),n=t-i.from,s=n>Oc?-1:n==i.length?GO(r,e.clientX):gh(i.text,r.state.tabSize,t-i.from);return{line:i.number,col:s,off:n}}function KO(r,e){let t=cf(r,e),i=r.state.selection;return t?{update(n){if(n.docChanged){let s=n.changes.mapPos(n.startState.doc.line(t.line).from),o=n.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(n.changes)}},get(n,s,o){let a=cf(r,n);if(!a)return i;let l=UO(r.state,t,a);return l.length?o?F.create(l.concat(i.ranges)):F.create(l):i}}:null}function _P(r){let e=r?.eventFilter||(t=>t.altKey&&t.button==0);return Q.mouseSelectionStyle.of((t,i)=>e(i)?KO(t,i):null)}const qO={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},YO={style:"cursor: crosshair"};function EP(r={}){let[e,t]=qO[r.key||"Alt"],i=Ke.fromClass(class{constructor(n){this.view=n,this.isDown=!1}set(n){this.isDown!=n&&(this.isDown=n,this.view.update([]))}},{eventObservers:{keydown(n){this.set(n.keyCode==e||t(n))},keyup(n){(n.keyCode==e||!t(n))&&this.set(!1)},mousemove(n){this.set(t(n))}}});return[i,Q.contentAttributes.of(n=>{var s;return!((s=n.plugin(i))===null||s===void 0)&&s.isDown?YO:null})]}const Gs="-10000px";class hg{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(n=>n),this.tooltipViews=this.tooltips.map(i)}update(e){var t;let i=e.state.facet(this.facet),n=i.filter(o=>o);if(i===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let s=[];for(let o=0;o<n.length;o++){let a=n[o],l=-1;if(a){for(let c=0;c<this.tooltips.length;c++){let h=this.tooltips[c];h&&h.create==a.create&&(l=c)}if(l<0)s[o]=this.createTooltipView(a);else{let c=s[o]=this.tooltipViews[l];c.update&&c.update(e)}}}for(let o of this.tooltipViews)s.indexOf(o)<0&&(o.dom.remove(),(t=o.destroy)===null||t===void 0||t.call(o));return this.input=i,this.tooltips=n,this.tooltipViews=s,!0}}function ZO(r){let{win:e}=r;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const vl=H.define({combine:r=>{var e,t,i;return{position:j.ios?"absolute":((e=r.find(n=>n.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(n=>n.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=r.find(n=>n.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||ZO}}}),hf=new WeakMap,ug=Ke.fromClass(class{constructor(r){this.view=r,this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(vl);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new hg(r,dg,t=>this.createTooltip(t)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r);e&&this.observeIntersection();let t=e||r.geometryChanged,i=r.state.facet(vl);if(i.position!=this.position&&!this.madeAbsolute){this.position=i.position;for(let n of this.manager.tooltipViews)n.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let n of this.manager.tooltipViews)this.container.appendChild(n.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r){let e=r.create(this.view);if(e.dom.classList.add("cm-tooltip"),r.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=Gs,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var r,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let t of this.manager.tooltipViews)t.dom.remove(),(r=t.destroy)===null||r===void 0||r.call(t);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=this.view.dom.getBoundingClientRect(),e=1,t=1,i=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{offsetParent:n}=this.manager.tooltipViews[0].dom;i=!!(n&&n!=this.container.ownerDocument.body)}if(i||this.position=="absolute")if(this.parent){let n=this.parent.getBoundingClientRect();n.width&&n.height&&(e=n.width/this.parent.offsetWidth,t=n.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:r,parent:this.parent?this.container.getBoundingClientRect():r,pos:this.manager.tooltips.map((n,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(n.pos):this.view.coordsAtPos(n.pos)}),size:this.manager.tooltipViews.map(({dom:n})=>n.getBoundingClientRect()),space:this.view.state.facet(vl).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:i}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:t,space:i,scaleX:n,scaleY:s}=r,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,u=r.pos[a],d=r.size[a];if(!u||u.bottom<=Math.max(t.top,i.top)||u.top>=Math.min(t.bottom,i.bottom)||u.right<Math.max(t.left,i.left)-.1||u.left>Math.min(t.right,i.right)+.1){h.style.top=Gs;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,b=d.right-d.left,g=(e=hf.get(c))!==null&&e!==void 0?e:d.bottom-d.top,v=c.offset||XO,k=this.view.textDirection==ze.LTR,E=d.width>i.right-i.left?k?i.left:i.right-d.width:k?Math.min(u.left-(f?14:0)+v.x,i.right-b):Math.max(i.left,u.left-b+(f?14:0)-v.x),A=!!l.above;!l.strictSide&&(A?u.top-(d.bottom-d.top)-v.y<i.top:u.bottom+(d.bottom-d.top)+v.y>i.bottom)&&A==i.bottom-u.bottom>u.top-i.top&&(A=!A);let _=(A?u.top-i.top:i.bottom-u.bottom)-p;if(_<g&&c.resize!==!1){if(_<this.view.defaultLineHeight){h.style.top=Gs;continue}hf.set(c,g),h.style.height=(g=_)/s+"px"}else h.style.height&&(h.style.height="");let O=A?u.top-g-p-v.y:u.bottom+p+v.y,C=E+b;if(c.overlap!==!0)for(let N of o)N.left<C&&N.right>E&&N.top<O+g&&N.bottom>O&&(O=A?N.top-g-2-p:N.bottom+p+2);if(this.position=="absolute"?(h.style.top=(O-r.parent.top)/s+"px",h.style.left=(E-r.parent.left)/n+"px"):(h.style.top=O/s+"px",h.style.left=E/n+"px"),f){let N=u.left+(k?v.x:-v.x)-(E+14-7);f.style.left=N/n+"px"}c.overlap!==!0&&o.push({left:E,top:O,right:C,bottom:O+g}),h.classList.toggle("cm-tooltip-above",A),h.classList.toggle("cm-tooltip-below",!A),c.positioned&&c.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Gs}},{eventObservers:{scroll(){this.maybeMeasure()}}}),QO=Q.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),XO={x:0,y:0},dg=H.define({enables:[ug,QO]}),Wo=H.define();class kh{static create(e){return new kh(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new hg(e,Wo,t=>this.createHostedView(t))}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}}const JO=dg.compute([Wo],r=>{let e=r.facet(Wo).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:kh.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class e2{constructor(e,t,i,n,s){this.view=e,this.source=t,this.field=i,this.setHover=n,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,i=e.docView.nearest(t.target);if(!i)return;let n,s=1;if(i instanceof Rr)n=i.posAtStart;else{if(n=e.posAtCoords(t),n==null)return;let a=e.coordsAtPos(n);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(n)).find(h=>h.from<=n&&h.to>=n),c=l&&l.dir==ze.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,n,s);if(o?.then){let a=this.pending={pos:n};o.then(l=>{this.pending==a&&(this.pending=null,l&&e.dispatch({effects:this.setHover.of(l)}))},l=>Nr(e.state,l,"hover tooltip"))}else o&&e.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!uf(this.lastMove.target)||this.pending){let{pos:n}=i||this.pending,s=(t=i?.end)!==null&&t!==void 0?t:n;(n==s?this.view.posAtCoords(this.lastMove)!=n:!t2(this.view,n,s,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!uf(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function uf(r){for(let e=r;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function t2(r,e,t,i,n,s){let o=r.scrollDOM.getBoundingClientRect(),a=r.documentTop+r.documentPadding.top+r.contentHeight;if(o.left>i||o.right<i||o.top>n||Math.min(o.bottom,a)<n)return!1;let l=r.posAtCoords({x:i,y:n},!1);return l>=e&&l<=t}function OP(r,e={}){let t=Ie.define(),i=Dt.define({create(){return null},update(n,s){if(n&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,n)))return null;if(n&&s.docChanged){let o=s.changes.mapPos(n.pos,-1,ut.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),n);a.pos=o,n.end!=null&&(a.end=s.changes.mapPos(n.end)),n=a}for(let o of s.effects)o.is(t)&&(n=o.value),o.is(r2)&&(n=null);return n},provide:n=>Wo.from(n)});return[i,Ke.define(n=>new e2(n,r,i,t,e.hoverTime||300)),JO]}function TP(r,e){let t=r.plugin(ug);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const r2=Ie.define(),df=H.define({combine(r){let e,t;for(let i of r)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function RP(r,e){let t=r.plugin(fg),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const fg=Ke.fromClass(class{constructor(r){this.input=r.state.facet(pf),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(df);this.top=new Ks(r,!0,e.topContainer),this.bottom=new Ks(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(df);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Ks(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Ks(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(pf);if(t!=this.input){let i=t.filter(l=>l),n=[],s=[],o=[],a=[];for(let l of i){let c=this.specs.indexOf(l),h;c<0?(h=l(r.view),a.push(h)):(h=this.panels[c],h.update&&h.update(r)),n.push(h),(h.top?s:o).push(h)}this.specs=i,this.panels=n,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Q.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Ks{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=ff(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=ff(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function ff(r){let e=r.nextSibling;return r.remove(),e}const pf=H.define({enables:fg});class br extends Hi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}br.prototype.elementClass="";br.prototype.toDOM=void 0;br.prototype.mapMode=ut.TrackBefore;br.prototype.startSide=br.prototype.endSide=-1;br.prototype.point=!0;const vo=H.define(),i2={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ye.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Mn=H.define();function n2(r){return[pg(),Mn.of(Object.assign(Object.assign({},i2),r))]}const Tc=H.define({combine:r=>r.some(e=>e)});function pg(r){let e=[s2];return r&&r.fixed===!1&&e.push(Tc.of(!0)),e}const s2=Ke.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(Mn).map(e=>new gf(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(Tc),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Tc)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let t=ye.iter(this.view.state.facet(vo),this.view.viewport.from),i=[],n=this.gutters.map(s=>new o2(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==ot.Text&&o){Rc(t,i,a.from);for(let l of n)l.line(this.view,a,i);o=!1}else if(a.widget)for(let l of n)l.widget(this.view,a)}else if(s.type==ot.Text){Rc(t,i,s.from);for(let o of n)o.line(this.view,s,i)}else if(s.widget)for(let o of n)o.widget(this.view,s);for(let s of n)s.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(Mn),t=r.state.facet(Mn),i=r.docChanged||r.heightChanged||r.viewportChanged||!ye.eq(r.startState.facet(vo),r.state.facet(vo),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let n of this.gutters)n.update(r)&&(i=!0);else{i=!0;let n=[];for(let s of t){let o=e.indexOf(s);o<0?n.push(new gf(this.view,s)):(this.gutters[o].update(r),n.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),n.indexOf(s)<0&&s.destroy();for(let s of n)this.dom.appendChild(s.dom);this.gutters=n}return i}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>Q.scrollMargins.of(e=>{let t=e.plugin(r);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==ze.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function mf(r){return Array.isArray(r)?r:[r]}function Rc(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class o2{constructor(e,t,i){this.gutter=e,this.height=i,this.i=0,this.cursor=ye.iter(e.markers,t.from)}addElement(e,t,i){let{gutter:n}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==n.elements.length){let a=new mg(e,o,s,i);n.elements.push(a),n.dom.appendChild(a.dom)}else n.elements[this.i].update(e,o,s,i);this.height=t.bottom,this.i++}line(e,t,i){let n=[];Rc(this.cursor,n,t.from),i.length&&(n=n.concat(i));let s=this.gutter.config.lineMarker(e,t,n);s&&n.unshift(s);let o=this.gutter;n.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,n)}widget(e,t){let i=this.gutter.config.widgetMarker(e,t.widget,t);i&&this.addElement(e,t,[i])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class gf{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,n=>{let s=n.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=n.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[i](e,a,n)&&n.preventDefault()});this.markers=mf(t.markers(e)),t.initialSpacer&&(this.spacer=new mg(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=mf(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}let i=e.view.viewport;return!ye.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class mg{constructor(e,t,i,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,n)}update(e,t,i,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),a2(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let i="cm-gutterElement",n=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let h=l.elementClass;h&&(i+=" "+h);for(let u=o;u<this.markers.length;u++)if(this.markers[u].compare(l)){a=u,c=!0;break}}else a=this.markers.length;for(;o<a;){let h=this.markers[o++];if(h.toDOM){h.destroy(n);let u=n.nextSibling;n.remove(),n=u}}if(!l)break;l.toDOM&&(c?n=n.nextSibling:this.dom.insertBefore(l.toDOM(e),n)),c&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function a2(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const l2=H.define(),_i=H.define({combine(r){return ls(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let n in t){let s=i[n],o=t[n];i[n]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return i}})}});class Sl extends br{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function wl(r,e){return r.state.facet(_i).formatNumber(e,r.state)}const c2=Mn.compute([_i],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(l2)},lineMarker(e,t,i){return i.some(n=>n.toDOM)?null:new Sl(wl(e,e.state.doc.lineAt(t.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(_i)!=e.state.facet(_i),initialSpacer(e){return new Sl(wl(e,bf(e.state.doc.lines)))},updateSpacer(e,t){let i=wl(t.view,bf(t.view.state.doc.lines));return i==e.number?e:new Sl(i)},domEventHandlers:r.facet(_i).domEventHandlers}));function LP(r={}){return[_i.of(r),pg(),c2]}function bf(r){let e=9;for(;e<r;)e=e*10+9;return e}const h2=new class extends br{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},u2=vo.compute(["selection"],r=>{let e=[],t=-1;for(let i of r.selection.ranges){let n=r.doc.lineAt(i.head).from;n>t&&(t=n,e.push(h2.range(n)))}return ye.of(e)});function PP(){return u2}var kl;const Ei=new se;function d2(r){return H.define({combine:r?e=>e.concat(r):void 0})}const f2=new se;class Nt{constructor(e,t,i=[],n=""){this.data=e,this.name=n,pe.prototype.hasOwnProperty("tree")||Object.defineProperty(pe.prototype,"tree",{get(){return er(this)}}),this.parser=t,this.extension=[Fr.of(this),pe.languageData.of((s,o,a)=>{let l=yf(s,o,a),c=l.type.prop(Ei);if(!c)return[];let h=s.facet(c),u=l.type.prop(f2);if(u){let d=l.resolve(o-l.from,a);for(let f of u)if(f.test(d,s)){let p=s.facet(f.facet);return f.type=="replace"?p:p.concat(h)}}return h})].concat(i)}isActiveAt(e,t,i=-1){return yf(e,t,i).type.prop(Ei)==this.data}findRegions(e){let t=e.facet(Fr);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],n=(s,o)=>{if(s.prop(Ei)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(se.mounted);if(a){if(a.tree.prop(Ei)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(n(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof He&&n(c,s.positions[l]+o)}};return n(er(e),0),i}get allowsNesting(){return!0}}Nt.setState=Ie.define();function yf(r,e,t){let i=r.facet(Fr),n=er(r).topNode;if(!i||i.allowsNesting)for(let s=n;s;s=s.enter(e,t,Ge.ExcludeBuffers))s.type.isTop&&(n=s);return n}class Lc extends Nt{constructor(e,t,i){super(e,t,[],i),this.parser=t}static define(e){let t=d2(e.languageData);return new Lc(t,e.parser.configure({props:[Ei.add(i=>i.isTop?t:void 0)]}),e.name)}configure(e,t){return new Lc(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function er(r){let e=r.field(Nt.state,!1);return e?e.tree:He.empty}class p2{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let fn=null;class Uo{constructor(e,t,i=[],n,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=n,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Uo(e,t,[],He.empty,0,i,[],null)}startParse(){return this.parser.startParse(new p2(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=He.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let n=Date.now()+e;e=()=>Date.now()>n}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n)if(this.fragments=this.withoutTempSkipped(si.addTree(n,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=n,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(si.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=fn;fn=this;try{return e()}finally{fn=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=vf(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,h,u,d)=>l.push({fromA:c,toA:h,fromB:u,toB:d})),i=si.applyChanges(i,l),n=He.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let h=e.mapPos(c.from,1),u=e.mapPos(c.to,-1);h<u&&a.push({from:h,to:u})}}}return new Uo(this.parser,t,i,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:n,to:s}=this.skipped[i];n<e.to&&s>e.from&&(this.fragments=vf(this.fragments,n,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Vp{createParse(t,i,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let l=fn;if(l){for(let c of n)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new He(ft.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return fn}}function vf(r,e,t){return si.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class Ui{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new Ui(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Uo.create(e.facet(Fr).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new Ui(i)}}Nt.state=Dt.define({create:Ui.init,update(r,e){for(let t of e.effects)if(t.is(Nt.setState))return t.value;return e.startState.facet(Fr)!=e.state.facet(Fr)?Ui.init(e.state):r.apply(e)}});let gg=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(gg=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const xl=typeof navigator<"u"&&(!((kl=navigator.scheduling)===null||kl===void 0)&&kl.isInputPending)?()=>navigator.scheduling.isInputPending():null,m2=Ke.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Nt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Nt.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=gg(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:n}}=this.view,s=i.field(Nt.state);if(s.tree==s.context.tree&&s.context.isDone(n+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!xl?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<n&&i.doc.length>n+1e3,l=s.context.work(()=>xl&&xl()||Date.now()>o,n+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Nt.setState.of(new Ui(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Nr(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Fr=H.define({combine(r){return r.length?r[0]:null},enables:r=>[Nt.state,m2,Q.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]});class NP{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const g2=H.define(),bg=H.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function b2(r){let e=r.facet(bg);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function y2(r,e){let t="",i=r.tabSize,n=r.facet(bg)[0];if(n=="	"){for(;e>=i;)t+="	",e-=i;n=" "}for(let s=0;s<e;s++)t+=n;return t}function v2(r,e){r instanceof pe&&(r=new yg(r));for(let i of r.state.facet(g2)){let n=i(r,e);if(n!==void 0)return n}let t=er(r.state);return t.length>=e?w2(r,t,e):null}class yg{constructor(e,t={}){this.state=e,this.options=t,this.unit=b2(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:s}=this.options;return n!=null&&n>=i.from&&n<=i.to?s&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:i.text.slice(n-i.from),from:n}:{text:i.text.slice(0,n-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:n}=this.lineAt(e,t);return i.slice(e-n,Math.min(i.length,e+100-n))}column(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.countColumn(i,e-n),o=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return gh(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:n}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(n);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const S2=new se;function w2(r,e,t){let i=e.resolveStack(t),n=i.node.enterUnfinishedNodesBefore(t);if(n!=i.node){let s=[];for(let o=n;o!=i.node;o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)i={node:s[o],next:i}}return vg(i,r,t)}function vg(r,e,t){for(let i=r;i;i=i.next){let n=x2(i.node);if(n)return n(xh.create(e,t,i))}return 0}function k2(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function x2(r){let e=r.type.prop(S2);if(e)return e;let t=r.firstChild,i;if(t&&(i=t.type.prop(se.closedBy))){let n=r.lastChild,s=n&&i.indexOf(n.name)>-1;return o=>Sg(o,!0,1,void 0,s&&!k2(o)?n.from:void 0)}return r.parent==null?C2:null}function C2(){return 0}class xh extends yg{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.context=i}get node(){return this.context.node}static create(e,t,i){return new xh(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let i=e.resolve(t.from);for(;i.parent&&i.parent.from==i.from;)i=i.parent;if(A2(i,e))break;t=this.state.doc.lineAt(i.from)}return this.lineIndent(t.from)}continue(){return vg(this.context.next,this.base,this.pos)}}function A2(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function _2(r){let e=r.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let n=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=n==null||n<=s.from?s.to:Math.min(s.to,n);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function MP({closing:r,align:e=!0,units:t=1}){return i=>Sg(i,e,t,r)}function Sg(r,e,t,i,n){let s=r.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||n==r.pos+o,l=e?_2(r):null;return l?a?r.column(l.from):r.column(l.to):r.baseIndent+(a?0:r.unit*t)}const E2=200;function DP(){return pe.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:i}=r.newSelection.main,n=t.lineAt(i);if(i>n.from+E2)return r;let s=t.sliceString(n.from,i);if(!e.some(c=>c.test(s)))return r;let{state:o}=r,a=-1,l=[];for(let{head:c}of o.selection.ranges){let h=o.doc.lineAt(c);if(h.from==a)continue;a=h.from;let u=v2(o,h.from);if(u==null)continue;let d=/^\s*/.exec(h.text)[0],f=y2(o,u);d!=f&&l.push({from:h.from,to:h.from+d.length,insert:f})}return l.length?[r,{changes:l,sequential:!0}]:r})}const O2=H.define(),T2=new se;function $P(r){let e=r.firstChild,t=r.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?r.to:t.from}:null}function R2(r,e,t){let i=er(r);if(i.length<t)return null;let n=i.resolveStack(t,1),s=null;for(let o=n;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(T2);if(l&&(a.to<i.length-50||i.length==r.doc.length||!L2(a))){let c=l(a,r);c&&c.from<=t&&c.from>=e&&c.to>t&&(s=c)}}return s}function L2(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function Go(r,e,t){for(let i of r.facet(O2)){let n=i(r,e,t);if(n)return n}return R2(r,e,t)}function wg(r,e){let t=e.mapPos(r.from,1),i=e.mapPos(r.to,-1);return t>=i?void 0:{from:t,to:i}}const Ca=Ie.define({map:wg}),ds=Ie.define({map:wg});function kg(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(r.lineBlockAt(t));return e}const li=Dt.define({create(){return be.none},update(r,e){r=r.map(e.changes);for(let t of e.effects)if(t.is(Ca)&&!P2(r,t.value.from,t.value.to)){let{preparePlaceholder:i}=e.state.facet(Ch),n=i?be.replace({widget:new B2(i(e.state,t.value))}):Sf;r=r.update({add:[n.range(t.value.from,t.value.to)]})}else t.is(ds)&&(r=r.update({filter:(i,n)=>t.value.from!=i||t.value.to!=n,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;r.between(i,i,(n,s)=>{n<i&&s>i&&(t=!0)}),t&&(r=r.update({filterFrom:i,filterTo:i,filter:(n,s)=>s<=i||n>=i}))}return r},provide:r=>Q.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(i,n)=>{t.push(i,n)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let i=r[t++],n=r[t++];if(typeof i!="number"||typeof n!="number")throw new RangeError("Invalid JSON for fold state");e.push(Sf.range(i,n))}return be.set(e,!0)}});function Ko(r,e,t){var i;let n=null;return(i=r.field(li,!1))===null||i===void 0||i.between(e,t,(s,o)=>{(!n||n.from>s)&&(n={from:s,to:o})}),n}function P2(r,e,t){let i=!1;return r.between(e,e,(n,s)=>{n==e&&s==t&&(i=!0)}),i}function xg(r,e){return r.field(li,!1)?e:e.concat(Ie.appendConfig.of(Ag()))}const I2=r=>{for(let e of kg(r)){let t=Go(r.state,e.from,e.to);if(t)return r.dispatch({effects:xg(r.state,[Ca.of(t),Cg(r,t)])}),!0}return!1},N2=r=>{if(!r.state.field(li,!1))return!1;let e=[];for(let t of kg(r)){let i=Ko(r.state,t.from,t.to);i&&e.push(ds.of(i),Cg(r,i,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function Cg(r,e,t=!0){let i=r.state.doc.lineAt(e.from).number,n=r.state.doc.lineAt(e.to).number;return Q.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${r.state.phrase("to")} ${n}.`)}const M2=r=>{let{state:e}=r,t=[];for(let i=0;i<e.doc.length;){let n=r.lineBlockAt(i),s=Go(e,n.from,n.to);s&&t.push(Ca.of(s)),i=(s?r.lineBlockAt(s.to):n).to+1}return t.length&&r.dispatch({effects:xg(r.state,t)}),!!t.length},D2=r=>{let e=r.state.field(li,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(i,n)=>{t.push(ds.of({from:i,to:n}))}),r.dispatch({effects:t}),!0},BP=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:I2},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:N2},{key:"Ctrl-Alt-[",run:M2},{key:"Ctrl-Alt-]",run:D2}],$2={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Ch=H.define({combine(r){return ls(r,$2)}});function Ag(r){let e=[li,F2];return r&&e.push(Ch.of(r)),e}function _g(r,e){let{state:t}=r,i=t.facet(Ch),n=o=>{let a=r.lineBlockAt(r.posAtDOM(o.target)),l=Ko(r.state,a.from,a.to);l&&r.dispatch({effects:ds.of(l)}),o.preventDefault()};if(i.placeholderDOM)return i.placeholderDOM(r,n,e);let s=document.createElement("span");return s.textContent=i.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=n,s}const Sf=be.replace({widget:new class extends Hr{toDOM(r){return _g(r,null)}}});class B2 extends Hr{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return _g(e,this.value)}}const z2={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Cl extends br{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function zP(r={}){let e=Object.assign(Object.assign({},z2),r),t=new Cl(e,!0),i=new Cl(e,!1),n=Ke.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Fr)!=o.state.facet(Fr)||o.startState.field(li,!1)!=o.state.field(li,!1)||er(o.startState)!=er(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new oi;for(let l of o.viewportLineBlocks){let c=Ko(o.state,l.from,l.to)?i:Go(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[n,n2({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(n))===null||a===void 0?void 0:a.markers)||ye.empty},initialSpacer(){return new Cl(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Ko(o.state,a.from,a.to);if(c)return o.dispatch({effects:ds.of(c)}),!0;let h=Go(o.state,a.from,a.to);return h?(o.dispatch({effects:Ca.of(h)}),!0):!1}})}),Ag()]}const F2=Q.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class fs{constructor(e,t){this.specs=e;let i;function n(a){let l=$r.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?n(t.all):void 0,o=t.scope;this.scope=o instanceof Nt?a=>a.prop(Ei)==o.data:o?a=>a==o:void 0,this.style=Up(e.map(a=>({tag:a.tag,class:a.class||n(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new $r(i):null,this.themeType=t.themeType}static define(e,t){return new fs(e,t||{})}}const Pc=H.define(),Eg=H.define({combine(r){return r.length?[r[0]]:null}});function Al(r){let e=r.facet(Pc);return e.length?e:r.facet(Eg)}function j2(r,e){let t=[V2],i;return r instanceof fs&&(r.module&&t.push(Q.styleModule.of(r.module)),i=r.themeType),e?.fallback?t.push(Eg.of(r)):i?t.push(Pc.computeN([Q.darkTheme],n=>n.facet(Q.darkTheme)==(i=="dark")?[r]:[])):t.push(Pc.of(r)),t}class H2{constructor(e){this.markCache=Object.create(null),this.tree=er(e.state),this.decorations=this.buildDeco(e,Al(e.state))}update(e){let t=er(e.state),i=Al(e.state),n=i!=Al(e.startState);t.length<e.view.viewport.to&&!n&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return be.none;let i=new oi;for(let{from:n,to:s}of e.visibleRanges)__(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=be.mark({class:l})))},n,s);return i.finish()}}const V2=va.high(Ke.fromClass(H2,{decorations:r=>r.decorations})),FP=fs.define([{tag:P.meta,color:"#404740"},{tag:P.link,textDecoration:"underline"},{tag:P.heading,textDecoration:"underline",fontWeight:"bold"},{tag:P.emphasis,fontStyle:"italic"},{tag:P.strong,fontWeight:"bold"},{tag:P.strikethrough,textDecoration:"line-through"},{tag:P.keyword,color:"#708"},{tag:[P.atom,P.bool,P.url,P.contentSeparator,P.labelName],color:"#219"},{tag:[P.literal,P.inserted],color:"#164"},{tag:[P.string,P.deleted],color:"#a11"},{tag:[P.regexp,P.escape,P.special(P.string)],color:"#e40"},{tag:P.definition(P.variableName),color:"#00f"},{tag:P.local(P.variableName),color:"#30a"},{tag:[P.typeName,P.namespace],color:"#085"},{tag:P.className,color:"#167"},{tag:[P.special(P.variableName),P.macroName],color:"#256"},{tag:P.definition(P.propertyName),color:"#00c"},{tag:P.comment,color:"#940"},{tag:P.invalid,color:"#f00"}]),W2=Q.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Og=1e4,Tg="()[]{}",Rg=H.define({combine(r){return ls(r,{afterCursor:!0,brackets:Tg,maxScanDistance:Og,renderMatch:K2})}}),U2=be.mark({class:"cm-matchingBracket"}),G2=be.mark({class:"cm-nonmatchingBracket"});function K2(r){let e=[],t=r.matched?U2:G2;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const q2=Dt.define({create(){return be.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],i=e.state.facet(Rg);for(let n of e.state.selection.ranges){if(!n.empty)continue;let s=qs(e.state,n.head,-1,i)||n.head>0&&qs(e.state,n.head-1,1,i)||i.afterCursor&&(qs(e.state,n.head,1,i)||n.head<e.state.doc.length&&qs(e.state,n.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return be.set(t,!0)},provide:r=>Q.decorations.from(r)}),Y2=[q2,W2];function jP(r={}){return[Rg.of(r),Y2]}const Z2=new se;function Ic(r,e,t){let i=r.prop(e<0?se.openedBy:se.closedBy);if(i)return i;if(r.name.length==1){let n=t.indexOf(r.name);if(n>-1&&n%2==(e<0?1:0))return[t[n+e]]}return null}function Nc(r){let e=r.type.prop(Z2);return e?e(r.node):r}function qs(r,e,t,i={}){let n=i.maxScanDistance||Og,s=i.brackets||Tg,o=er(r),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=Ic(l.type,t,s);if(c&&l.from<l.to){let h=Nc(l);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return Q2(r,e,t,l,h,c,s)}}return X2(r,e,t,o,a.type,n,s)}function Q2(r,e,t,i,n,s,o){let a=i.parent,l={from:n.from,to:n.to},c=0,h=a?.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(c==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let u=Nc(h);return{start:l,end:u?{from:u.from,to:u.to}:void 0,matched:!0}}else if(Ic(h.type,t,o))c++;else if(Ic(h.type,-t,o)){if(c==0){let u=Nc(h);return{start:l,end:u&&u.from<u.to?{from:u.from,to:u.to}:void 0,matched:!1}}c--}}while(t<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}function X2(r,e,t,i,n,s,o){let a=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},h=r.doc.iterRange(e,t>0?r.doc.length:0),u=0;for(let d=0;!h.next().done&&d<=s;){let f=h.value;t<0&&(d+=f.length);let p=e+d*t;for(let b=t>0?0:f.length-1,g=t>0?f.length:-1;b!=g;b+=t){let v=o.indexOf(f[b]);if(!(v<0||i.resolveInner(p+b,1).type!=n))if(v%2==0==t>0)u++;else{if(u==1)return{start:c,end:{from:p+b,to:p+b+1},matched:v>>1==l>>1};u--}}t>0&&(d+=f.length)}return h.done?{start:c,matched:!1}:null}const J2=Object.create(null),wf=[ft.none],kf=[],eT=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])eT[r]=tT(J2,e);function _l(r,e){kf.indexOf(r)>-1||(kf.push(r),console.warn(e))}function tT(r,e){let t=null;for(let s of e.split(".")){let o=r[s]||P[s];o?typeof o=="function"?t?t=o(t):_l(s,`Modifier ${s} used at start of tag`):t?_l(s,`Tag ${s} used as modifier`):t=o:_l(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),n=ft.define({id:wf.length,name:i,props:[C_({[i]:t})]});return wf.push(n),n.id}var rT=r=>{var{theme:e,settings:t={},styles:i=[]}=r,n={".cm-gutters":{}},s={};t.background&&(s.backgroundColor=t.background),t.backgroundImage&&(s.backgroundImage=t.backgroundImage),t.foreground&&(s.color=t.foreground),(t.background||t.foreground)&&(n["&"]=s),t.fontFamily&&(n["&.cm-editor .cm-scroller"]={fontFamily:t.fontFamily}),t.gutterBackground&&(n[".cm-gutters"].backgroundColor=t.gutterBackground),t.gutterForeground&&(n[".cm-gutters"].color=t.gutterForeground),t.gutterBorder&&(n[".cm-gutters"].borderRightColor=t.gutterBorder),t.caret&&(n[".cm-content"]={caretColor:t.caret},n[".cm-cursor, .cm-dropCursor"]={borderLeftColor:t.caret});var o={};t.gutterActiveForeground&&(o.color=t.gutterActiveForeground),t.lineHighlight&&(n[".cm-activeLine"]={backgroundColor:t.lineHighlight},o.backgroundColor=t.lineHighlight),n[".cm-activeLineGutter"]=o,t.selection&&(n["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:t.selection+" !important"}),t.selectionMatch&&(n["& .cm-selectionMatch"]={backgroundColor:t.selectionMatch});var a=Q.theme(n,{dark:e==="dark"}),l=fs.define(i),c=[a,j2(l)];return c};const HP=r=>mA({colors:{primary:{50:"#E8DEF8",100:"#E8DEF8",200:"#c9c4e4",300:"#c9c4e4",400:"#4A4458",500:"#7059b3",600:"#7059b3",700:"#c9c4e4",800:"#c9c4e4",900:"#c9c4e4"},green:{100:"#e9ffd9"}},config:{useSystemColorMode:!1,initialColorMode:r?"dark":"light"}},gA({colorScheme:"primary"})),es=()=>{const r=typeof localStorage>"u"||localStorage.getItem("starlight-theme")!=="dark";return{MAIN:r?"black":"white",SECONDARY:r?"gray":"white",GREEN:r?"green":"#9AE6B4",RED:r?"red":"#FEB2B2",YELLOW:r?"gold":"#FBD38D"}},VP=()=>rT({theme:"light",settings:{caret:"var(--astro-code-color-text)",background:"var(--astro-code-color-background)",lineHighlight:"var(--astro-code-line-highlight)",gutterBackground:"var(--astro-code-color-background)",gutterBorder:"var(--astro-code-gutter)",selection:"#7059b349"},styles:[{tag:[P.comment],color:"var(--astro-code-token-comment)",fontStyle:"italic"},{tag:[P.keyword],color:"var(--astro-code-token-keyword)"},{tag:[P.number],color:"var(--astro-code-token-constant)"},{tag:[P.string],color:"var(--astro-code-token-string)"}]}),iT="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",nT="M19.77,7.23L19.78,7.22L16.06,3.5L15,4.56L17.11,6.67C16.17,7.03 15.5,7.93 15.5,9A2.5,2.5 0 0,0 18,11.5C18.36,11.5 18.69,11.42 19,11.29V18.5A1,1 0 0,1 18,19.5A1,1 0 0,1 17,18.5V14A2,2 0 0,0 15,12H14V5A2,2 0 0,0 12,3H6A2,2 0 0,0 4,5V21H14V13.5H15.5V18.5A2.5,2.5 0 0,0 18,21A2.5,2.5 0 0,0 20.5,18.5V9C20.5,8.31 20.22,7.68 19.77,7.23M18,10A1,1 0 0,1 17,9A1,1 0 0,1 18,8A1,1 0 0,1 19,9A1,1 0 0,1 18,10M8,18V13.5H6L10,6V11H12L8,18Z",sT="m 14.776323,3 c -0.13,0 -0.26,0.09 -0.38,0.16 l -3.5,2.09 V 9 H 6.8963231 v 2 h 1 l 1,10 h 5.9999999 l 1,-10 h 1 V 9 h -4 V 6.34 l 2.5,-1.5 c 0.5,-0.28 0.63,-0.84 0.34,-1.34 -0.21,-0.36 -0.58,-0.55 -0.96,-0.5 z",oT="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z",aT="M11,18H13V16H11V18M12,6A4,4 0 0,0 8,10H10A2,2 0 0,1 12,8A2,2 0 0,1 14,10C14,12 11,11.75 11,15H13C13,12.75 16,12.5 16,10A4,4 0 0,0 12,6M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3Z",lT="M14,20H10V11L6.5,14.5L4.08,12.08L12,4.16L19.92,12.08L17.5,14.5L14,11V20Z",Mc=(r,e,t)=>{r.clearRect(e.x*t+1,e.y*t+1,t-2,t-2)},Lg=(r,e,t,i="black")=>{r.save(),r.beginPath(),r.rect(e.x*t+1,e.y*t+1,t-2,t-2),r.fillStyle=i,r.fill(),r.restore()},mi=(r,e,t,i,n="grey",s=1,o=0)=>{r.save(),r.beginPath();const a=new Path2D(i),l=new Path2D,c=t/24*s;l.addPath(a,new DOMMatrix().scale(c,c).rotate(o)),r.translate(e.x*t+t/2*(1-s),e.y*t+t/2*(1-s)),r.fillStyle=n,r.fill(l),r.restore()},cT=(r,e,t)=>{const i=es(),n=t.position;if(t.hidden){mi(r,n,e,aT,i.MAIN);return}switch(t.type){case ct.WALL:Lg(r,n,e,i.MAIN);break;case ct.STAR:mi(r,n,e,iT,i.YELLOW);break;case ct.CHARGER:mi(r,n,e,nT,i.GREEN,.75);break;case ct.ARROW:mi(r,n,e,lT,i.MAIN,.75,t.rotate);break;case ct.BIN:mi(r,n,e,oT,i.YELLOW);break;case ct.TRASH:mi(r,n,e,sT,i.MAIN,.75);break;case ct.EMPTY:Mc(r,n,e);break}},xf=(r,e,t,i,n)=>{r.strokeStyle=es().SECONDARY,r.lineWidth=.75;for(const s of n)cT(r,e,s);for(let s=1;s<i;s++){const o=s*e;r.beginPath(),r.moveTo(o,0),r.lineTo(o,r.canvas.height),r.stroke()}for(let s=1;s<t;s++){const o=s*e;r.beginPath(),r.moveTo(0,o),r.lineTo(r.canvas.width,o),r.stroke()}},hT=r=>{const{element:e,x:t,y:i,zoomLevel:n,angle:s=0,penDown:o,penColor:a}=r;if(e===null)throw new Error("Robot element not found");let l=22;n>1&&e&&(l=n-10),e&&(e.width=l);const c={_x:t,_y:i,_angle:s,updateSprite:({x:h,y:u,angle:d})=>{e&&(e.style.left=Math.trunc(h-l/2)+"px",e.style.top=Math.trunc(u-l/2)+"px",e.style.transform=`rotate(${d}rad)`)},set x(h){this._x=h},get x(){return this._x},set y(h){this._y=h},get y(){return this._y},collected:[],set angle(h){this._angle=h},get angle(){return this._angle},get position(){const h=n/2;return{x:(Math.round(this._x)+h)/n-1,y:(Math.round(this._y)+h)/n-1}},penDown:o,penColor:a,energy:0,rotate:h=>{c.angle+=h*Math.PI/180},move:(h,u,d=!1)=>{const f=Math.cos(c.angle)*u*n,p=Math.sin(c.angle)*u*n,b=c.x,g=c.y,v=b+f,k=g+p,E=c.penColor;return c.x=v,c.y=k,c.penDown?()=>{d||(h.beginPath(),h.moveTo(b,g)),h.lineTo(v,k),d||(h.strokeStyle=E,h.stroke())}:()=>{}},getRelativeObjectPosition:(h,u)=>{const d=Math.cos(h)*u*n,f=Math.sin(h)*u*n,p=n/2,b=(c.x+d+p)/n-1,g=(c.y+f+p)/n-1;return{x:Math.round(b),y:Math.round(g)}},collect:h=>{c.collected.push(h)},getState:()=>({x:c.x,y:c.y,angle:c.angle,penDown:c.penDown,penColor:c.penColor,energy:c.energy,position:c.position,collected:[...c.collected]})};return c},uT=[[tt.FRONT,0],[tt.RIGHT,90],[tt.BACK,180],[tt.LEFT,270]],dT={0:tt.EAST,90:tt.SOUTH,180:tt.WEST,270:tt.NORTH};class fT extends r_{constructor(e){const t=new Dp({language:e.language});t.sideEffectHandler=(i,...n)=>this.handleSideEffect(i,...n),super(t),this.options=e,this.allowedTopLevelExpressions=!1,this.env.setReservedVariable(tt.EMPTY,0),this.env.setReservedVariable(tt.WALL,1),this.env.setReservedVariable(tt.STAR,2),this.env.setReservedVariable(tt.CHARGER,3),this.ctx=e.ctx,this.code=e.code||[],this.animate=e.animate??!0,this.zoomLevel=e.zoomLevel||1,this.maxY=Math.floor(this.ctx.canvas.height/this.zoomLevel)-1,this.maxX=Math.floor(this.ctx.canvas.width/this.zoomLevel)-1,this.robot=hT({element:this.options.element,zoomLevel:this.zoomLevel,angle:0,penDown:this.options.penDown,penColor:es().MAIN,x:0,y:0}),this.winRules=this.options.rules?.filter(i=>i.type===Ye.WIN)||[],this.looseRules=this.options.rules?.filter(i=>i.type===Ye.LOOSE)||[],this.reset()}zoomLevel;frames=[];animate=!0;robot;maxX;maxY;pass=!1;ctx;code;objects=[];reveal=[];isObjectsRevealed=!1;winRules;looseRules;didEval=!1;get isAnimationFinished(){return this.frames.length===0&&this.isStopped}tick(){if(!this.isAnimationFinished)try{if(this.isReady)this.didEval||(this.didEval=!0,this.pause(this.code));else{const e=this.frames.shift();if(e===void 0){this.options.loop&&this.animate&&(this.reset(),this.tick());return}this.runFrame(e)}}catch(e){this.stop(),this.options.onError?.(e),this.error(e)}}pause(e){setTimeout(()=>{try{super.pause(e),this.isAnimationFinished&&this.options.runCode&&this.checkLooseConditions(this.robot)}catch(t){this.options.onError?this.options.onError(t):console.error(t)}},0)}handleSideEffect(e,...t){switch(e){case K.MOVE:{const i=t[0],n=t[1],s=Math.min(1,n)*(i?1:-1);if(s%1!==0&&!this.options.freeStyle)throw new fe("INVALID_DISTANCE",n,"Invalid distance");for(let o=0;o<n;o++){const a=this.robot.getRelativeObjectPosition(this.robot.angle,s);if(this.isOutOfBounds(a)){this.reduceEnergy(),this.enqueueFrame({state:this.robot.getState(),action:()=>{if(!this.pass)throw new Ls("HIT_WALL","Robo hit wall");this.stop()}});return}const l=this.getObjectAt(a);if(l?.type!==ct.WALL){const c=this.robot.move(this.ctx,s);this.reduceEnergy(),this.enqueueFrame({state:this.robot.getState(),action:c})}else this.enqueueFrame({state:this.robot.getState(),action:()=>{throw Lg(this.ctx,l.position,this.zoomLevel,"red"),new Ls("HIT_WALL","Robo hit wall")}})}break}case K.TURN:{const i=t[0];let n=t[1];if(n%90!==0&&!this.options.freeStyle)throw n=n%360,new fe("INVALID_ANGLE",t[1],"Invalid angle");this.robot.rotate(i?n:-n),this.reduceEnergy(),this.enqueueFrame({state:this.robot.getState()});break}case K.COLOR:this.robot.penColor=t[0];break;case K.PEN:this.robot.penDown=t[0];break;case K.PRINT:this.enqueueFrame({state:this.robot.getState(),action:()=>console.log(...t)});break;case K.STOP:break;default:this.error(new Error(`Unknown side effect: ${e}`))}}enqueueFrame(e){if(this.options.runCode){if(!this.animate)return this.runFrame(e);this.frames.push(e)}}runFrame(e){!this.isObjectsRevealed&&!this.options.freeStyle&&this.revealObjects(),e.action?.(),this.robot.updateSprite(e.state),this.options.freeStyle||(this.options.onEnergyChanged?.(e.state.energy),this.checkWinConditions(e.state),this.checkLooseConditions(e.state))}reset(){const e=Math.floor(Math.floor(this.ctx.canvas.width/this.zoomLevel)/2),t=Math.floor(Math.floor(this.ctx.canvas.height/this.zoomLevel)/2);let i=e*this.zoomLevel+this.zoomLevel/2,n=t*this.zoomLevel+this.zoomLevel/2;this.options.start&&(i=this.options.start.x*this.zoomLevel+this.zoomLevel/2,n=this.options.start.y*this.zoomLevel+this.zoomLevel/2),this.robot.x=i,this.robot.y=n,this.robot.rotate(this.options.angle||0),this.robot.penDown=this.options.penDown,this.robot.penColor=es().MAIN,this.robot.energy=this.options.energy||Number.MAX_SAFE_INTEGER,this.robot.collected=[],this.isObjectsRevealed=!1,this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.zoomLevel>1&&xf(this.ctx,this.zoomLevel,this.maxY+1,this.maxX+1,this.initObjects()),this.objects=this.initObjects(!0),this.reveal=[...this.objects],this.updateVariables(),this.frames=[],this.robot.updateSprite(this.robot.getState()),this.ready()}revealObjects(){this.isObjectsRevealed=!0,this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.zoomLevel>1&&xf(this.ctx,this.zoomLevel,this.maxY+1,this.maxX+1,this.reveal)}initObjects(e=!1){return(this.options.objects||[]).reduce((t,i)=>(e?t.push({...i,hidden:!1}):t.push(i),t),[])}reduceEnergy(){this.robot.energy>0&&(this.robot.energy-=1),this.collectObjects(),this.updateVariables()}updateVariables(){this.env.setReservedVariable(tt.ENERGY,this.robot.energy);for(const t of uT){const[i,n]=t,s=this.robot.getRelativeObjectPosition(this.robot.angle+n*Math.PI/180,1),o=this.isOutOfBounds(s)?ct.WALL:this.getObjectAt(s)?.type,a=n_(o);this.env.setReservedVariable(i,a)}const e=this.robot.angle*(180/Math.PI)%360;this.env.setReservedVariable(tt.DIRECTION,dT[e])}collectObjects(){const e=this.robot.position,t=this.getObjectAt(e);t?.type===ct.STAR?(this.robot.collect(t),this.enqueueFrame({state:this.robot.getState(),action:()=>Mc(this.ctx,t.position,this.zoomLevel)}),this.objects=this.objects.filter(i=>!nd(i.position,e))):t?.type===ct.CHARGER&&(this.robot.collect(t),this.robot.energy+=10,this.enqueueFrame({state:this.robot.getState(),action:()=>Mc(this.ctx,t.position,this.zoomLevel)}),this.objects=this.objects.filter(i=>!nd(i.position,e)))}checkWinConditions(e){if(!this.winRules.length)return;let t=0;const i=n=>(n||[]).filter(s=>s.type===ct.STAR).length;for(const n of this.winRules)switch(n.condition.type){case co.REACH_LOCATION:{n.condition.position.x===e.position.x&&n.condition.position.y===e.position.y&&t++;break}case co.COLLECT_STARS:e.collected.length>0&&i(e.collected)===i(this.options.objects)&&t++}if(t===this.winRules.length)return this.pass=!0,this.stop()}checkLooseConditions(e){if(!this.pass){for(const t of this.looseRules)if(t.condition.type===co.ENERGY_LEVEL&&e.energy===t.condition.level)return this.pass=!1,this.stop();if(e.energy===0)throw this.pass=!1,this.stop(),new Ls("NO_ENERGY","No energy left");if(this.winRules.length&&this.isAnimationFinished)throw this.pass=!1,this.stop(),new Ls("NOT_SOLVED","Level not solved")}}getObjectAt(e){for(const t of this.objects)if(t.position.x===e.x&&t.position.y===e.y)return t}isOutOfBounds(e){return e.x<0||e.x>this.maxX||e.y<0||e.y>this.maxY}stop(e){super.stop(),this.options.freeStyle||(this.options.onGameOver?.(this.pass),this.frames=[])}}const pT={energy:void 0};var Pg=(r=>(r.ENERGY_CHANGED="ENERGY_CHANGED",r))(Pg||{});const mT=(r,e)=>{switch(e.type){case"ENERGY_CHANGED":return{...r,energy:e.payload};default:throw new Error(`Unknow scene event: ${JSON.stringify(e)}`)}};function Ig(r,e){const t=ee.createContext(null),i=ee.createContext(null),n=({children:a})=>{const[l,c]=ee.useReducer(r,e);return vi.createElement(i.Provider,{value:c},vi.createElement(t.Provider,{value:l},a))};function s(){const a=vi.useContext(t);if(!a)throw new Error("useState must be used within a Provider");return a}function o(){const a=vi.useContext(i);if(!a)throw new Error("useDispatch must be used within a Provider");return a}return[n,s,o]}const[WP,gT,bT]=Ig(mT,pT),yT=()=>{const r=bT();return ee.useMemo(()=>({setEnergy:t=>{r({type:Pg.ENERGY_CHANGED,payload:t})}}),[r])};var vT="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,10.84 21.79,9.69 21.39,8.61L19.79,10.21C19.93,10.8 20,11.4 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.6,4 13.2,4.07 13.79,4.21L15.4,2.6C14.31,2.21 13.16,2 12,2M19,2L15,6V7.5L12.45,10.05C12.3,10 12.15,10 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12C14,11.85 14,11.7 13.95,11.55L16.5,9H18L22,5H19V2M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12H16A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8V6Z",ST="M16.84,2.73C16.45,2.73 16.07,2.88 15.77,3.17L13.65,5.29L18.95,10.6L21.07,8.5C21.67,7.89 21.67,6.94 21.07,6.36L17.9,3.17C17.6,2.88 17.22,2.73 16.84,2.73M12.94,6L4.84,14.11L7.4,14.39L7.58,16.68L9.86,16.85L10.15,19.41L18.25,11.3M4.25,15.04L2.5,21.73L9.2,19.94L8.96,17.78L6.65,17.61L6.47,15.29",wT="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",kT="M8,5.14V19.14L19,12.14L8,5.14Z",xT="M16,18H18V6H16M6,18L14.5,12L6,6V18Z",Cf=function(){},CT=typeof window<"u",AT=function(r,e,t){if(!CT)return[e,Cf,Cf];if(!r)throw new Error("useLocalStorage key may not be falsy");var i=t?t.raw?function(h){return h}:t.deserializer:JSON.parse,n=ee.useRef(function(h){try{var u=t?t.raw?String:t.serializer:JSON.stringify,d=localStorage.getItem(h);return d!==null?i(d):(e&&localStorage.setItem(h,u(e)),e)}catch{return e}}),s=ee.useState(function(){return n.current(r)}),o=s[0],a=s[1];ee.useLayoutEffect(function(){return a(n.current(r))},[r]);var l=ee.useCallback(function(h){try{var u=typeof h=="function"?h(o):h;if(typeof u>"u")return;var d=void 0;t?t.raw?typeof u=="string"?d=u:d=JSON.stringify(u):t.serializer?d=t.serializer(u):d=JSON.stringify(u):d=JSON.stringify(u),localStorage.setItem(r,d),a(i(d))}catch{}},[r,a]),c=ee.useCallback(function(){try{localStorage.removeItem(r),a(void 0)}catch{}},[r,a]);return[o,l,c]};const _T=AT,UP=(r,e)=>{if(!e)return;const t=[...r.rules||[],...e.rules||[]],i=[...r.objects||[],...e.objects||[]];return{...r,...e,rules:t,objects:i}},Af=(r,{restrict:e,randomize:t}={})=>{let i;try{i=d_(r)}catch{return}const n={},s=[],o=[];for(const a of i)switch(a.type){case Ye.ZOOM:{n.zoomLevel=a.level;break}case Ye.SIZE:{n.size=a.size;break}case Ye.START_LOCATION:{!e&&(n.start=a.position);break}case Ye.FREESTYLE:{!e&&(n.freeStyle=a.enabled);break}case Ye.START_ANGLE:{!e&&(n.angle=a.angle);break}case Ye.START_ENERGY:{!e&&(n.energy=a.value);break}case Ye.STAR:case Ye.CHARGER:case Ye.WALL:case Ye.ARROW:case Ye.BIN:case Ye.TRASH:{!e&&s.push(a);break}case Ye.WIN:case Ye.LOOSE:{!e&&o.push(a);break}}return s.length&&(n.objects=t?OT(s):s),o.length&&(n.rules=o),n},ET=r=>Math.floor(Math.random()*r),OT=(r,e=!1)=>e?(r||[]).reduce((t,i)=>{for(const n of i.positions)t.push({type:i.type,position:n,hidden:n.optional||i.onlyOne});return t},[]):(r||[]).reduce((t,i)=>{if(i.onlyOne){const n=ET(i.positions.length);return i.positions.forEach((s,o)=>{t.push({position:s,type:o===n?i.type:ct.EMPTY,hidden:!0})}),t}for(const n of i.positions)n.optional?Math.random()>.5&&t.push({position:n,type:i.type,hidden:!0}):t.push({type:i.type,position:n,rotate:i.rotate});return t},[]),El={},GP=r=>(El.hasOwnProperty(r)||(El[r]=document.getElementById(`${r}-page`)),El[r]),ts=[{id:"forward",config:"#zoom!64;#size!5 5;#start!2 4;#angle!-90;#star!2 0;#win!stars"},{id:"backward",config:"#zoom!64;#size!5 5;#start!2 1;#angle!-90;#star!2 4;#win!stars"},{id:"backward2",config:"#zoom!64;#size!5 5;#start!2 2;#angle!-90;#star!2 0,2 4;#win!stars"},{id:"turn",config:"#zoom!64;#size!5 5;#start!2 3;#angle!-90;#star!1 2;#win!stars;#wall!2 2"},{id:"motion",config:"#zoom!64;#size!5 5;#start!2 3;#angle!-90;#win!stars;#star!4 0,4 4"},{id:"energy",config:"#zoom!64;#size!5 5;#start!2 1;#angle!-90;#win!stars;#star!2 4;#energy!3"},{id:"energy2",config:"#zoom!64;#size!5 5;#start!2 2;#angle!-90;#win!stars;#star!1 1,2 1,3 1;#energy!5"},{id:"repeat",config:"#zoom!64;#size!5 5;#start!1 3;#angle!-90;#star!1 1,3 1,3 3;#win!stars;#energy!8"},{id:"repeat2",config:"#zoom!64;#size!5 5;#start!0 4;#star!4 0;#wall!0 3,1 2,2 1,3 0,2 4,3 3,4 2;#win!stars;#energy!15"},{id:"custom-commands",config:"#zoom!64;#size!7 3;#start!0 2;#star!6 2;#angle!-90;#wall!1 1,1 2,5 1,5 2,3 0,3 1;#win!stars;#energy!20"},{id:"custom-commands2",config:"#zoom!64;#size!5 11;#start!0 0;#star!3 4,4 10;#angle!90;#wall! 1 0,2 1,3 2,0 2,1 3,2 4,1 6,0 8,1 9,2 10,2 7,3 8,4 9;#win!stars;#energy!35"},{id:"charge",config:"#zoom!64;#size!5 5;#start!0 4;#angle!-90;#star!4 0;#charger!0 0;#win!stars;#energy!4"},{id:"charge2",config:"#zoom!64;#size!5 5;#start!4 4;#star!0 0,4 0;#charger!0 4;#win!stars;#energy!4"},{id:"if-else",config:"#zoom!64;#size!5 5;#start!2 4;#angle!-90;#star!(1 1|3 1)?;#win!stars;#energy!5"},{id:"if-else2",config:"#zoom!64;#size!5 5;#start!1 4;#angle!-90;#star!3 4;#wall!2 4,2 3,2 0;#wall!(2 2|2 1);#charger!3 1;#win!stars;#energy!8"},{id:"if-else3",config:"#zoom!64;#size!5 5;#start!0 4;#energy!13;#win!stars;#star!4 0;#wall!(4 2);#wall!(1 0|1 1|1 2|1 3|1 4);#wall!(3 0|3 1|3 2|3 3|3 4)"},{id:"maze",config:`#zoom!48;#size!10 10;#start!9 4;#win!stars;#energy!64;#star!4 0;#angle!180;
#charger! 4 5, 8 1
#wall!0 0,1 0,2 0,3 0,5 0,6 0,7 0,8 0,9 0
#wall!7 1,9 1
#wall!1 2,2 2,3 2,4 2,5 2,6 2,7 2,9 2
#wall!3 3,7 3,9 3,
#wall!0 4,1 4,3,3 4,7 4
#wall!3 5,7 5,9 5
#wall!1 6,2 6,3 6,4 6,5 6,7 6,9 6
#wall!1 7,5 7,7 7,9 7
#wall!1 8,3 8,5 8,7 8,9 8
#wall!3 9`},{id:"maze2",config:`#zoom!32;#size!15 15;#start!9 11;#star!8 0,0 6,13 8;#win!stars;#energy!84;#charger!0 0
#wall!9 0,0 1,1 1,2 1,3 1,5 1,7 1,8 1,9 1,11 1,11 2,13 1
#wall!5 2,7 2,9 2,13 2
#wall!1 3,2 3,3 3,4 3,5 3,7 3,9 3, 11 3
#wall!(1 4)?,5 4,7 4,9 4,10 4,11 4,12 4,14 4
#wall!1 5,2 5,3 5,12 5, 14 5
#wall!3 6, 5 6, 7 6, 9 6, 10 6, 12 6, 14 6
#wall!0 7,1 7,3 7,4 7,5 7,(6 7)?,7 7,9 7,12 7, 14 7
#wall!1 8,(9 8)?,11 8
#wall!1 9,2 9,3 9,4 9,5 9,6 9,7 9,8 9,9,13 9
#wall!1 10,9 10,10 10,11 10,12 10
#wall!3 11,4 11,5 11,(12 11)?
#wall!0 12,1 12,2 12,3 12,7 12,8 12,9 12,10 12,13 12
#wall!5 13,6 13,7 13,13 13
#wall!2 14,10 14,11 14`}],TT=ts.length,KP=r=>{if(r===0)return{id:"freestyle",config:Af("#f!")};const e=ts[r-1]||ts[0],{id:t,config:i}=e;return{id:t,config:Af(i)}},_f=r=>Math.abs(r.padEnd(11,"0").split("").map(e=>e.charCodeAt(0)).reduce((e,t)=>e+((e<<7)+(e<<3))^t)).toString(4*4),Ng=r=>{const e=_f(r);return e+_f(e+r)},Mg=()=>[["t","n","e","g","A","r","e","s","u"],["m","r","o","f","t","a","l","p"],["e","g","a","u","g","n","a","l"]].map(r=>window[["r","o","t","a","g","i","v","a","n"].reverse().join("")][r.reverse().join("")]).join(""),Dg=r=>{let e=Mg();for(let t=2;t<=ts.length;t++)if(e=Ng(e+t),e===r)return t;return 1},RT=(r,e)=>{if(r<=ts.length&&Dg(e)<r)return Ng((r===2?Mg():e)+r)},$g={level:1,speed:1,ready:!1,progress:void 0};var Kr=(r=>(r.LOADING="LOADING",r.LOADED="LOADED",r.RESET="RESET",r.LEVEL_CHANGED="LEVEL_CHANGED",r.LEVEL_PASSED="LEVEL_PASSED",r.SPEED_CHANGED="SPEED_CHANGED",r.PROGRESS_CHANGED="PROGRESS_CHANGED",r))(Kr||{});const Ef=(r,e,t)=>Number.isInteger(r)?Math.min(t,Math.max(e,r)):e,LT=(r,e)=>{switch(e.type){case"LOADING":return{...r,ready:!1};case"LOADED":{const t=Ef(e.payload?.speed,1,4),i=Ef(e.payload?.level,1,Dg(e.payload?.progress));return{...r,...e.payload,speed:t,level:i,ready:!0}}case"LEVEL_CHANGED":return{...r,level:e.payload};case"SPEED_CHANGED":return{...r,speed:e.payload};case"PROGRESS_CHANGED":return{...r,progress:e.payload};case"RESET":return{...$g,ready:!0};default:throw new Error(`Unknow game event: ${JSON.stringify(e)}`)}},[qP,PT,IT]=Ig(LT,$g),YP=()=>{const r=IT(),[e,t]=_T("robo1"),{progress:i,level:n,speed:s}=PT();return ee.useMemo(()=>{const o=d=>{const f={level:n,speed:s,progress:i,...d};JSON.stringify(f)!==JSON.stringify(e)&&t(f)};return{setLevel:d=>{d>-1&&d<=TT&&(o({level:d}),r({type:Kr.LEVEL_CHANGED,payload:d}))},setSpeed:d=>{o({speed:d}),r({type:Kr.SPEED_CHANGED,payload:d})},unlockNextLevel:()=>{const d=RT(n+1,i);d&&(o({progress:d}),r({type:Kr.PROGRESS_CHANGED,payload:d}))},save:o,load:()=>{r({type:Kr.LOADING}),r({type:Kr.LOADED,payload:e})},reset:()=>{localStorage.clear(),r({type:Kr.RESET})}}},[r,e,t,i,n,s])};var ue;(function(r){r.assertEqual=n=>n;function e(n){}r.assertIs=e;function t(n){throw new Error}r.assertNever=t,r.arrayToEnum=n=>{const s={};for(const o of n)s[o]=o;return s},r.getValidEnumValues=n=>{const s=r.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),o={};for(const a of s)o[a]=n[a];return r.objectValues(o)},r.objectValues=n=>r.objectKeys(n).map(function(s){return n[s]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.push(o);return s},r.find=(n,s)=>{for(const o of n)if(s(o))return o},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function i(n,s=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}r.joinValues=i,r.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(ue||(ue={}));var Of;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Of||(Of={}));const M=ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qr=r=>{switch(typeof r){case"undefined":return M.undefined;case"string":return M.string;case"number":return isNaN(r)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(r)?M.array:r===null?M.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?M.promise:typeof Map<"u"&&r instanceof Map?M.map:typeof Set<"u"&&r instanceof Set?M.set:typeof Date<"u"&&r instanceof Date?M.date:M.object;default:return M.unknown}},T=ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qt extends Error{constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},i={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let a=i,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return n(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):i.push(e(n));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}Qt.create=r=>new Qt(r);const qo=(r,e)=>{let t;switch(r.code){case T.invalid_type:r.received===M.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case T.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,ue.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:t=`Unrecognized key(s) in object: ${ue.joinValues(r.keys,", ")}`;break;case T.invalid_union:t="Invalid input";break;case T.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ue.joinValues(r.options)}`;break;case T.invalid_enum_value:t=`Invalid enum value. Expected ${ue.joinValues(r.options)}, received '${r.received}'`;break;case T.invalid_arguments:t="Invalid function arguments";break;case T.invalid_return_type:t="Invalid function return type";break;case T.invalid_date:t="Invalid date";break;case T.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:ue.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case T.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case T.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case T.custom:t="Invalid input";break;case T.invalid_intersection_types:t="Intersection results could not be merged";break;case T.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case T.not_finite:t="Number must be finite";break;default:t=e.defaultError,ue.assertNever(r)}return{message:t}};let NT=qo;function Dc(){return NT}const $c=r=>{const{data:e,path:t,errorMaps:i,issueData:n}=r,s=[...t,...n.path||[]],o={...n,path:s};let a="";const l=i.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...n,path:s,message:n.message||a}};function B(r,e){const t=$c({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Dc(),qo].filter(i=>!!i)});r.common.issues.push(t)}class lt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const n of t){if(n.status==="aborted")return Y;n.status==="dirty"&&e.dirty(),i.push(n.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const n of t)i.push({key:await n.key,value:await n.value});return lt.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const n of t){const{key:s,value:o}=n;if(s.status==="aborted"||o.status==="aborted")return Y;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||n.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const Y=Object.freeze({status:"aborted"}),MT=r=>({status:"dirty",value:r}),pt=r=>({status:"valid",value:r}),Tf=r=>r.status==="aborted",Rf=r=>r.status==="dirty",Bc=r=>r.status==="valid",zc=r=>typeof Promise<"u"&&r instanceof Promise;var W;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(W||(W={}));class tr{constructor(e,t,i,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lf=(r,e)=>{if(Bc(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Qt(r.common.issues);return this._error=t,this._error}}};function Z(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:n}=r;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:i??a.defaultError}:{message:t??a.defaultError},description:n}}class te{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Qr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new lt,ctx:{common:e.parent.common,data:e.data,parsedType:Qr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(zc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;const n={common:{issues:[],async:(i=t?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Lf(n,s)}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Qr(e)},n=this._parse({data:e,path:i.path,parent:i}),s=await(zc(n)?n:Promise.resolve(n));return Lf(i,s)}refine(e,t){const i=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,s)=>{const o=e(n),a=()=>s.addIssue({code:T.custom,...i(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((i,n)=>e(i)?!0:(n.addIssue(typeof t=="function"?t(i,n):t),!1))}_refinement(e){return new vr({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Mr.create(this,this._def)}nullable(){return Yi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xt.create(this,this._def)}promise(){return is.create(this,this._def)}or(e){return Qo.create([this,e],this._def)}and(e){return Xo.create(this,e,this._def)}transform(e){return new vr({...Z(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ia({...Z(this._def),innerType:this,defaultValue:t,typeName:q.ZodDefault})}brand(){return new KT({typeName:q.ZodBranded,type:this,...Z(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Gc({...Z(this._def),innerType:this,catchValue:t,typeName:q.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Aa.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const DT=/^c[^\s-]{8,}$/i,$T=/^[a-z][a-z0-9]*$/,BT=/[0-9A-HJKMNP-TV-Z]{26}/,zT=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,FT=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,jT=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,HT=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,VT=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,WT=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function UT(r,e){return!!((e==="v4"||!e)&&HT.test(r)||(e==="v6"||!e)&&VT.test(r))}class hr extends te{constructor(){super(...arguments),this._regex=(e,t,i)=>this.refinement(n=>e.test(n),{validation:t,code:T.invalid_string,...W.errToObj(i)}),this.nonempty=e=>this.min(1,W.errToObj(e)),this.trim=()=>new hr({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new hr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new hr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M.string){const s=this._getOrReturnCtx(e);return B(s,{code:T.invalid_type,expected:M.string,received:s.parsedType}),Y}const i=new lt;let n;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(n=this._getOrReturnCtx(e,n),o?B(n,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&B(n,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")FT.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"email",code:T.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")jT.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"emoji",code:T.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")zT.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"uuid",code:T.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")DT.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid",code:T.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")$T.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"cuid2",code:T.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")BT.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ulid",code:T.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),B(n,{validation:"url",code:T.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"regex",code:T.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),B(n,{code:T.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:T.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),B(n,{code:T.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?WT(s).test(e.data)||(n=this._getOrReturnCtx(e,n),B(n,{code:T.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="ip"?UT(e.data,s.version)||(n=this._getOrReturnCtx(e,n),B(n,{validation:"ip",code:T.invalid_string,message:s.message}),i.dirty()):ue.assertNever(s);return{status:i.value,value:e.data}}_addCheck(e){return new hr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...W.errToObj(e)})}url(e){return this._addCheck({kind:"url",...W.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...W.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...W.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...W.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...W.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...W.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...W.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,...W.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...W.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...W.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...W.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...W.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...W.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...W.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...W.errToObj(t)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}hr.create=r=>{var e;return new hr({checks:[],typeName:q.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Z(r)})};function GT(r,e){const t=(r.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,n=t>i?t:i,s=parseInt(r.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return s%o/Math.pow(10,n)}class Gi extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M.number){const s=this._getOrReturnCtx(e);return B(s,{code:T.invalid_type,expected:M.number,received:s.parsedType}),Y}let i;const n=new lt;for(const s of this._def.checks)s.kind==="int"?ue.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?GT(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),B(i,{code:T.not_finite,message:s.message}),n.dirty()):ue.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,W.toString(t))}gt(e,t){return this.setLimit("min",e,!1,W.toString(t))}lte(e,t){return this.setLimit("max",e,!0,W.toString(t))}lt(e,t){return this.setLimit("max",e,!1,W.toString(t))}setLimit(e,t,i,n){return new Gi({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:W.toString(n)}]})}_addCheck(e){return new Gi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:W.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:W.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ue.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Gi.create=r=>new Gi({checks:[],typeName:q.ZodNumber,coerce:r?.coerce||!1,...Z(r)});class Ki extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==M.bigint){const s=this._getOrReturnCtx(e);return B(s,{code:T.invalid_type,expected:M.bigint,received:s.parsedType}),Y}let i;const n=new lt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),B(i,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):ue.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,W.toString(t))}gt(e,t){return this.setLimit("min",e,!1,W.toString(t))}lte(e,t){return this.setLimit("max",e,!0,W.toString(t))}lt(e,t){return this.setLimit("max",e,!1,W.toString(t))}setLimit(e,t,i,n){return new Ki({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:W.toString(n)}]})}_addCheck(e){return new Ki({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ki.create=r=>{var e;return new Ki({checks:[],typeName:q.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Z(r)})};class Fc extends te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==M.boolean){const i=this._getOrReturnCtx(e);return B(i,{code:T.invalid_type,expected:M.boolean,received:i.parsedType}),Y}return pt(e.data)}}Fc.create=r=>new Fc({typeName:q.ZodBoolean,coerce:r?.coerce||!1,...Z(r)});class rs extends te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M.date){const s=this._getOrReturnCtx(e);return B(s,{code:T.invalid_type,expected:M.date,received:s.parsedType}),Y}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return B(s,{code:T.invalid_date}),Y}const i=new lt;let n;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),B(n,{code:T.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):ue.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rs({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:W.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:W.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}rs.create=r=>new rs({checks:[],coerce:r?.coerce||!1,typeName:q.ZodDate,...Z(r)});class jc extends te{_parse(e){if(this._getType(e)!==M.symbol){const i=this._getOrReturnCtx(e);return B(i,{code:T.invalid_type,expected:M.symbol,received:i.parsedType}),Y}return pt(e.data)}}jc.create=r=>new jc({typeName:q.ZodSymbol,...Z(r)});class Yo extends te{_parse(e){if(this._getType(e)!==M.undefined){const i=this._getOrReturnCtx(e);return B(i,{code:T.invalid_type,expected:M.undefined,received:i.parsedType}),Y}return pt(e.data)}}Yo.create=r=>new Yo({typeName:q.ZodUndefined,...Z(r)});class Zo extends te{_parse(e){if(this._getType(e)!==M.null){const i=this._getOrReturnCtx(e);return B(i,{code:T.invalid_type,expected:M.null,received:i.parsedType}),Y}return pt(e.data)}}Zo.create=r=>new Zo({typeName:q.ZodNull,...Z(r)});class Hc extends te{constructor(){super(...arguments),this._any=!0}_parse(e){return pt(e.data)}}Hc.create=r=>new Hc({typeName:q.ZodAny,...Z(r)});class Di extends te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pt(e.data)}}Di.create=r=>new Di({typeName:q.ZodUnknown,...Z(r)});class jr extends te{_parse(e){const t=this._getOrReturnCtx(e);return B(t,{code:T.invalid_type,expected:M.never,received:t.parsedType}),Y}}jr.create=r=>new jr({typeName:q.ZodNever,...Z(r)});class Vc extends te{_parse(e){if(this._getType(e)!==M.undefined){const i=this._getOrReturnCtx(e);return B(i,{code:T.invalid_type,expected:M.void,received:i.parsedType}),Y}return pt(e.data)}}Vc.create=r=>new Vc({typeName:q.ZodVoid,...Z(r)});class Xt extends te{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),n=this._def;if(t.parsedType!==M.array)return B(t,{code:T.invalid_type,expected:M.array,received:t.parsedType}),Y;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(o||a)&&(B(t,{code:o?T.too_big:T.too_small,minimum:a?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),i.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(B(t,{code:T.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),i.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(B(t,{code:T.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>n.type._parseAsync(new tr(t,o,t.path,a)))).then(o=>lt.mergeArray(i,o));const s=[...t.data].map((o,a)=>n.type._parseSync(new tr(t,o,t.path,a)));return lt.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new Xt({...this._def,minLength:{value:e,message:W.toString(t)}})}max(e,t){return new Xt({...this._def,maxLength:{value:e,message:W.toString(t)}})}length(e,t){return new Xt({...this._def,exactLength:{value:e,message:W.toString(t)}})}nonempty(e){return this.min(1,e)}}Xt.create=(r,e)=>new Xt({type:r,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...Z(e)});function bi(r){if(r instanceof Me){const e={};for(const t in r.shape){const i=r.shape[t];e[t]=Mr.create(bi(i))}return new Me({...r._def,shape:()=>e})}else return r instanceof Xt?new Xt({...r._def,type:bi(r.element)}):r instanceof Mr?Mr.create(bi(r.unwrap())):r instanceof Yi?Yi.create(bi(r.unwrap())):r instanceof yr?yr.create(r.items.map(e=>bi(e))):r}class Me extends te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ue.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==M.object){const c=this._getOrReturnCtx(e);return B(c,{code:T.invalid_type,expected:M.object,received:c.parsedType}),Y}const{status:i,ctx:n}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof jr&&this._def.unknownKeys==="strip"))for(const c in n.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const h=s[c],u=n.data[c];l.push({key:{status:"valid",value:c},value:h._parse(new tr(n,u,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof jr){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of a)l.push({key:{status:"valid",value:h},value:{status:"valid",value:n.data[h]}});else if(c==="strict")a.length>0&&(B(n,{code:T.unrecognized_keys,keys:a}),i.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of a){const u=n.data[h];l.push({key:{status:"valid",value:h},value:c._parse(new tr(n,u,n.path,h)),alwaysSet:h in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of l){const u=await h.key;c.push({key:u,value:await h.value,alwaysSet:h.alwaysSet})}return c}).then(c=>lt.mergeObjectSync(i,c)):lt.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(e){return W.errToObj,new Me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var n,s,o,a;const l=(o=(s=(n=this._def).errorMap)===null||s===void 0?void 0:s.call(n,t,i).message)!==null&&o!==void 0?o:i.defaultError;return t.code==="unrecognized_keys"?{message:(a=W.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Me({...this._def,unknownKeys:"strip"})}passthrough(){return new Me({...this._def,unknownKeys:"passthrough"})}extend(e){return new Me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:q.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Me({...this._def,catchall:e})}pick(e){const t={};return ue.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new Me({...this._def,shape:()=>t})}omit(e){const t={};return ue.objectKeys(this.shape).forEach(i=>{e[i]||(t[i]=this.shape[i])}),new Me({...this._def,shape:()=>t})}deepPartial(){return bi(this)}partial(e){const t={};return ue.objectKeys(this.shape).forEach(i=>{const n=this.shape[i];e&&!e[i]?t[i]=n:t[i]=n.optional()}),new Me({...this._def,shape:()=>t})}required(e){const t={};return ue.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Mr;)s=s._def.innerType;t[i]=s}}),new Me({...this._def,shape:()=>t})}keyof(){return Bg(ue.objectKeys(this.shape))}}Me.create=(r,e)=>new Me({shape:()=>r,unknownKeys:"strip",catchall:jr.create(),typeName:q.ZodObject,...Z(e)});Me.strictCreate=(r,e)=>new Me({shape:()=>r,unknownKeys:"strict",catchall:jr.create(),typeName:q.ZodObject,...Z(e)});Me.lazycreate=(r,e)=>new Me({shape:r,unknownKeys:"strip",catchall:jr.create(),typeName:q.ZodObject,...Z(e)});class Qo extends te{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function n(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Qt(a.ctx.common.issues));return B(t,{code:T.invalid_union,unionErrors:o}),Y}if(t.common.async)return Promise.all(i.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(n);{let s;const o=[];for(const l of i){const c={...t,common:{...t.common,issues:[]},parent:null},h=l._parseSync({data:t.data,path:t.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Qt(l));return B(t,{code:T.invalid_union,unionErrors:a}),Y}}get options(){return this._def.options}}Qo.create=(r,e)=>new Qo({options:r,typeName:q.ZodUnion,...Z(e)});const So=r=>r instanceof ea?So(r.schema):r instanceof vr?So(r.innerType()):r instanceof ta?[r.value]:r instanceof ci?r.options:r instanceof ra?Object.keys(r.enum):r instanceof ia?So(r._def.innerType):r instanceof Yo?[void 0]:r instanceof Zo?[null]:null;class Ah extends te{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==M.object)return B(t,{code:T.invalid_type,expected:M.object,received:t.parsedType}),Y;const i=this.discriminator,n=t.data[i],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(B(t,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){const n=new Map;for(const s of t){const o=So(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,s)}}return new Ah({typeName:q.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...Z(i)})}}function Wc(r,e){const t=Qr(r),i=Qr(e);if(r===e)return{valid:!0,data:r};if(t===M.object&&i===M.object){const n=ue.objectKeys(e),s=ue.objectKeys(r).filter(a=>n.indexOf(a)!==-1),o={...r,...e};for(const a of s){const l=Wc(r[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===M.array&&i===M.array){if(r.length!==e.length)return{valid:!1};const n=[];for(let s=0;s<r.length;s++){const o=r[s],a=e[s],l=Wc(o,a);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return t===M.date&&i===M.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Xo extends te{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=(s,o)=>{if(Tf(s)||Tf(o))return Y;const a=Wc(s.value,o.value);return a.valid?((Rf(s)||Rf(o))&&t.dirty(),{status:t.value,value:a.data}):(B(i,{code:T.invalid_intersection_types}),Y)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>n(s,o)):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Xo.create=(r,e,t)=>new Xo({left:r,right:e,typeName:q.ZodIntersection,...Z(t)});class yr extends te{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==M.array)return B(i,{code:T.invalid_type,expected:M.array,received:i.parsedType}),Y;if(i.data.length<this._def.items.length)return B(i,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Y;!this._def.rest&&i.data.length>this._def.items.length&&(B(i,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new tr(i,o,i.path,a)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>lt.mergeArray(t,o)):lt.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new yr({...this._def,rest:e})}}yr.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new yr({items:r,typeName:q.ZodTuple,rest:null,...Z(e)})};class Jo extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==M.object)return B(i,{code:T.invalid_type,expected:M.object,received:i.parsedType}),Y;const n=[],s=this._def.keyType,o=this._def.valueType;for(const a in i.data)n.push({key:s._parse(new tr(i,a,i.path,a)),value:o._parse(new tr(i,i.data[a],i.path,a))});return i.common.async?lt.mergeObjectAsync(t,n):lt.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof te?new Jo({keyType:e,valueType:t,typeName:q.ZodRecord,...Z(i)}):new Jo({keyType:hr.create(),valueType:e,typeName:q.ZodRecord,...Z(t)})}}class Uc extends te{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==M.map)return B(i,{code:T.invalid_type,expected:M.map,received:i.parsedType}),Y;const n=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([a,l],c)=>({key:n._parse(new tr(i,a,i.path,[c,"key"])),value:s._parse(new tr(i,l,i.path,[c,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,h=await l.value;if(c.status==="aborted"||h.status==="aborted")return Y;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),a.set(c.value,h.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,h=l.value;if(c.status==="aborted"||h.status==="aborted")return Y;(c.status==="dirty"||h.status==="dirty")&&t.dirty(),a.set(c.value,h.value)}return{status:t.value,value:a}}}}Uc.create=(r,e,t)=>new Uc({valueType:e,keyType:r,typeName:q.ZodMap,...Z(t)});class qi extends te{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==M.set)return B(i,{code:T.invalid_type,expected:M.set,received:i.parsedType}),Y;const n=this._def;n.minSize!==null&&i.data.size<n.minSize.value&&(B(i,{code:T.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&i.data.size>n.maxSize.value&&(B(i,{code:T.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const h of l){if(h.status==="aborted")return Y;h.status==="dirty"&&t.dirty(),c.add(h.value)}return{status:t.value,value:c}}const a=[...i.data.values()].map((l,c)=>s._parse(new tr(i,l,i.path,c)));return i.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new qi({...this._def,minSize:{value:e,message:W.toString(t)}})}max(e,t){return new qi({...this._def,maxSize:{value:e,message:W.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}qi.create=(r,e)=>new qi({valueType:r,minSize:null,maxSize:null,typeName:q.ZodSet,...Z(e)});class Dn extends te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==M.function)return B(t,{code:T.invalid_type,expected:M.function,received:t.parsedType}),Y;function i(a,l){return $c({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Dc(),qo].filter(c=>!!c),issueData:{code:T.invalid_arguments,argumentsError:l}})}function n(a,l){return $c({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Dc(),qo].filter(c=>!!c),issueData:{code:T.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;return this._def.returns instanceof is?pt(async(...a)=>{const l=new Qt([]),c=await this._def.args.parseAsync(a,s).catch(d=>{throw l.addIssue(i(a,d)),l}),h=await o(...c);return await this._def.returns._def.type.parseAsync(h,s).catch(d=>{throw l.addIssue(n(h,d)),l})}):pt((...a)=>{const l=this._def.args.safeParse(a,s);if(!l.success)throw new Qt([i(a,l.error)]);const c=o(...l.data),h=this._def.returns.safeParse(c,s);if(!h.success)throw new Qt([n(c,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Dn({...this._def,args:yr.create(e).rest(Di.create())})}returns(e){return new Dn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new Dn({args:e||yr.create([]).rest(Di.create()),returns:t||Di.create(),typeName:q.ZodFunction,...Z(i)})}}class ea extends te{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ea.create=(r,e)=>new ea({getter:r,typeName:q.ZodLazy,...Z(e)});class ta extends te{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return B(t,{received:t.data,code:T.invalid_literal,expected:this._def.value}),Y}return{status:"valid",value:e.data}}get value(){return this._def.value}}ta.create=(r,e)=>new ta({value:r,typeName:q.ZodLiteral,...Z(e)});function Bg(r,e){return new ci({values:r,typeName:q.ZodEnum,...Z(e)})}class ci extends te{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return B(t,{expected:ue.joinValues(i),received:t.parsedType,code:T.invalid_type}),Y}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),i=this._def.values;return B(t,{received:t.data,code:T.invalid_enum_value,options:i}),Y}return pt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return ci.create(e)}exclude(e){return ci.create(this.options.filter(t=>!e.includes(t)))}}ci.create=Bg;class ra extends te{_parse(e){const t=ue.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==M.string&&i.parsedType!==M.number){const n=ue.objectValues(t);return B(i,{expected:ue.joinValues(n),received:i.parsedType,code:T.invalid_type}),Y}if(t.indexOf(e.data)===-1){const n=ue.objectValues(t);return B(i,{received:i.data,code:T.invalid_enum_value,options:n}),Y}return pt(e.data)}get enum(){return this._def.values}}ra.create=(r,e)=>new ra({values:r,typeName:q.ZodNativeEnum,...Z(e)});class is extends te{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==M.promise&&t.common.async===!1)return B(t,{code:T.invalid_type,expected:M.promise,received:t.parsedType}),Y;const i=t.parsedType===M.promise?t.data:Promise.resolve(t.data);return pt(i.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}is.create=(r,e)=>new is({type:r,typeName:q.ZodPromise,...Z(e)});class vr extends te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=this._def.effect||null;if(n.type==="preprocess"){const o=n.transform(i.data);return i.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:i.path,parent:i})):this._def.schema._parseSync({data:o,path:i.path,parent:i})}const s={addIssue:o=>{B(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="refinement"){const o=a=>{const l=n.refinement(a,s);if(i.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Y:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?Y:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(n.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Bc(o))return o;const a=n.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Bc(o)?Promise.resolve(n.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);ue.assertNever(n)}}vr.create=(r,e,t)=>new vr({schema:r,typeName:q.ZodEffects,effect:e,...Z(t)});vr.createWithPreprocess=(r,e,t)=>new vr({schema:e,effect:{type:"preprocess",transform:r},typeName:q.ZodEffects,...Z(t)});class Mr extends te{_parse(e){return this._getType(e)===M.undefined?pt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mr.create=(r,e)=>new Mr({innerType:r,typeName:q.ZodOptional,...Z(e)});class Yi extends te{_parse(e){return this._getType(e)===M.null?pt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yi.create=(r,e)=>new Yi({innerType:r,typeName:q.ZodNullable,...Z(e)});class ia extends te{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===M.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ia.create=(r,e)=>new ia({innerType:r,typeName:q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Z(e)});class Gc extends te{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return zc(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Qt(i.common.issues)}})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Qt(i.common.issues)}})}}removeCatch(){return this._def.innerType}}Gc.create=(r,e)=>new Gc({innerType:r,typeName:q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Z(e)});class Kc extends te{_parse(e){if(this._getType(e)!==M.nan){const i=this._getOrReturnCtx(e);return B(i,{code:T.invalid_type,expected:M.nan,received:i.parsedType}),Y}return{status:"valid",value:e.data}}}Kc.create=r=>new Kc({typeName:q.ZodNaN,...Z(r)});class KT extends te{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class Aa extends te{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?Y:s.status==="dirty"?(t.dirty(),MT(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const n=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?Y:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:i.path,parent:i})}}static create(e,t){return new Aa({in:e,out:t,typeName:q.ZodPipeline})}}Me.lazycreate;var q;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline"})(q||(q={}));const de=hr.create;Gi.create;Kc.create;Ki.create;Fc.create;rs.create;jc.create;Yo.create;Zo.create;Hc.create;Di.create;jr.create;Vc.create;Xt.create;const zg=Me.create;Me.strictCreate;Qo.create;Ah.create;Xo.create;yr.create;Jo.create;Uc.create;qi.create;Dn.create;ea.create;ta.create;ci.create;ra.create;is.create;vr.create;Mr.create;Yi.create;vr.createWithPreprocess;Aa.create;function qT(r){return!(r.length!==3||!r[0]||typeof r[0]!="object")}function Fg(r,e,t){const i=e?.split("/").pop()?.replace(".astro","")??"",n=(...s)=>{if(!qT(s))throw new ti({...Jh,message:Jh.message(i)});return r(...s)};return Object.defineProperty(n,"name",{value:i,writable:!1}),n.isAstroComponentFactory=!0,n.moduleId=e,n.propagation=t,n}function YT(r){return Fg(r.factory,r.moduleId,r.propagation)}function ZT(r,e,t){return typeof r=="function"?Fg(r,e,t):YT(r)}const{replace:QT}="",XT=/[&<>'"]/g,JT={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},eR=r=>JT[r],tR=r=>QT.call(r,XT,eR);function _h(r){return!!r&&typeof r=="object"&&typeof r.then=="function"}async function*rR(r){const e=r.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)return;yield i}}finally{e.releaseLock()}}const wo=tR;class jg extends Uint8Array{}Object.defineProperty(jg.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});class na extends String{get[Symbol.toStringTag](){return"HTMLString"}}const Fe=r=>r instanceof na?r:typeof r=="string"?new na(r):r;function iR(r){return Object.prototype.toString.call(r)==="[object HTMLString]"}function nR(r){return new jg(r)}function Hg(r){return typeof r.getReader=="function"}async function*Pf(r){if(Hg(r))for await(const e of rR(r))yield ns(e);else for await(const e of r)yield ns(e)}function*sR(r){for(const e of r)yield ns(e)}function ns(r){if(r&&typeof r=="object"){if(r instanceof Uint8Array)return nR(r);if(r instanceof Response&&r.body){const e=r.body;return Pf(e)}else{if(typeof r.then=="function")return Promise.resolve(r).then(e=>ns(e));if(Symbol.iterator in r)return sR(r);if(Symbol.asyncIterator in r||Hg(r))return Pf(r)}}return Fe(r)}const Vg=Symbol.for("astro:render");function Wg(r){return Object.defineProperty(r,Vg,{value:!0})}function oR(r){return r&&typeof r=="object"&&r[Vg]}function Ug(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=Ug(r[e]))&&(i&&(i+=" "),i+=t);else for(e in r)r[e]&&(i&&(i+=" "),i+=e);return i}function Gg(){for(var r,e,t=0,i="";t<arguments.length;)(r=arguments[t++])&&(e=Ug(r))&&(i&&(i+=" "),i+=e);return i}const bt={Value:0,JSON:1,RegExp:2,Date:3,Map:4,Set:5,BigInt:6,URL:7,Uint8Array:8,Uint16Array:9,Uint32Array:10};function Ol(r,e={},t=new WeakSet){if(t.has(r))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);t.add(r);const i=r.map(n=>qg(n,e,t));return t.delete(r),i}function Kg(r,e={},t=new WeakSet){if(t.has(r))throw new Error(`Cyclic reference detected while serializing props for <${e.displayName} client:${e.hydrate}>!

Cyclic references cannot be safely serialized for client-side usage. Please remove the cyclic reference.`);t.add(r);const i=Object.fromEntries(Object.entries(r).map(([n,s])=>[n,qg(s,e,t)]));return t.delete(r),i}function qg(r,e={},t=new WeakSet){switch(Object.prototype.toString.call(r)){case"[object Date]":return[bt.Date,r.toISOString()];case"[object RegExp]":return[bt.RegExp,r.source];case"[object Map]":return[bt.Map,Ol(Array.from(r),e,t)];case"[object Set]":return[bt.Set,Ol(Array.from(r),e,t)];case"[object BigInt]":return[bt.BigInt,r.toString()];case"[object URL]":return[bt.URL,r.toString()];case"[object Array]":return[bt.JSON,Ol(r,e,t)];case"[object Uint8Array]":return[bt.Uint8Array,Array.from(r)];case"[object Uint16Array]":return[bt.Uint16Array,Array.from(r)];case"[object Uint32Array]":return[bt.Uint32Array,Array.from(r)];default:return r!==null&&typeof r=="object"?[bt.Value,Kg(r,e,t)]:r===void 0?[bt.Value]:[bt.Value,r]}}function Yg(r,e){return JSON.stringify(Kg(r,e))}const Zg=Object.freeze(["data-astro-transition-scope","data-astro-transition-persist"]);function aR(r,e){let t={isPage:!1,hydration:null,props:{},propsWithoutTransitionAttributes:{}};for(const[i,n]of Object.entries(r))if(i.startsWith("server:")&&i==="server:root"&&(t.isPage=!0),i.startsWith("client:"))switch(t.hydration||(t.hydration={directive:"",value:"",componentUrl:"",componentExport:{value:""}}),i){case"client:component-path":{t.hydration.componentUrl=n;break}case"client:component-export":{t.hydration.componentExport.value=n;break}case"client:component-hydration":break;case"client:display-name":break;default:{if(t.hydration.directive=i.split(":")[1],t.hydration.value=n,!e.has(t.hydration.directive)){const s=Array.from(e.keys()).map(o=>`client:${o}`).join(", ");throw new Error(`Error: invalid hydration directive "${i}". Supported hydration methods: ${s}`)}if(t.hydration.directive==="media"&&typeof t.hydration.value!="string")throw new ti(_b);break}}else t.props[i]=n,Zg.includes(i)||(t.propsWithoutTransitionAttributes[i]=n);for(const i of Object.getOwnPropertySymbols(r))t.props[i]=r[i],t.propsWithoutTransitionAttributes[i]=r[i];return t}async function lR(r,e){const{renderer:t,result:i,astroId:n,props:s,attrs:o}=r,{hydrate:a,componentUrl:l,componentExport:c}=e;if(!c.value)throw new ti({...eu,message:eu.message(e.displayName)});const h={children:"",props:{uid:n}};if(o)for(const[d,f]of Object.entries(o))h.props[d]=wo(f);h.props["component-url"]=await i.resolve(decodeURI(l)),t.clientEntrypoint&&(h.props["component-export"]=c.value,h.props["renderer-url"]=await i.resolve(decodeURI(t.clientEntrypoint)),h.props.props=wo(Yg(s,e))),h.props.ssr="",h.props.client=a;let u=await i.resolve("astro:scripts/before-hydration.js");return u.length&&(h.props["before-hydration-url"]=u),h.props.opts=wo(JSON.stringify({name:e.displayName,value:e.hydrateArgs||""})),Zg.forEach(d=>{s[d]&&(h.props[d]=s[d])}),h}/**
 * shortdash - https://github.com/bibig/node-shorthash
 *
 * @license
 *
 * (The MIT License)
 *
 * Copyright (c) 2013 Bibig <bibig@me.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */const qc="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY",Tl=qc.length;function cR(r){let e=0;if(r.length===0)return e;for(let t=0;t<r.length;t++){const i=r.charCodeAt(t);e=(e<<5)-e+i,e=e&e}return e}function hR(r){let e,t="",i=cR(r);const n=i<0?"Z":"";for(i=Math.abs(i);i>=Tl;)e=i%Tl,i=Math.floor(i/Tl),t=qc[e]+t;return i>0&&(t=qc[i]+t),n+t}function uR(r){return r==null?!1:r.isAstroComponentFactory===!0}function dR(r,e){let t=e.propagation||"none";return e.moduleId&&r.componentMetadata.has(e.moduleId)&&t==="none"&&(t=r.componentMetadata.get(e.moduleId).propagation),t==="in-tree"||t==="self"}const Qg=Symbol.for("astro.headAndContent");function fR(r){return typeof r=="object"&&!!r[Qg]}function pR(r,e){return{[Qg]:!0,head:r,content:e}}var mR='(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();';const gR="<style>astro-island,astro-slot,astro-static-slot{display:contents}</style>";function bR(r){return r._metadata.hasHydrationScript?!1:r._metadata.hasHydrationScript=!0}function yR(r,e){return r._metadata.hasDirectives.has(e)?!1:(r._metadata.hasDirectives.add(e),!0)}function If(r,e){const i=r.clientDirectives.get(e);if(!i)throw new Error(`Unknown directive: ${e}`);return i}function vR(r,e,t){switch(e){case"both":return`${gR}<script>${If(r,t)};${mR}<\/script>`;case"directive":return`<script>${If(r,t)}<\/script>`}return""}const Xg=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,SR=/^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,wR=/^(contenteditable|draggable|spellcheck|value)$/i,kR=/^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,xR=new Set(["set:html","set:text"]),CR=r=>r.trim().replace(/(?:(?!^)\b\w|\s+|[^\w]+)/g,(e,t)=>/[^\w]|\s/.test(e)?"":t===0?e:e.toUpperCase()),yi=(r,e=!0)=>e?String(r).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):r,AR=r=>r.toLowerCase()===r?r:r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),Nf=r=>Object.entries(r).map(([e,t])=>e[0]!=="-"&&e[1]!=="-"?`${AR(e)}:${t}`:`${e}:${t}`).join(";");function _R(r){let e="";for(const[t,i]of Object.entries(r))e+=`const ${CR(t)} = ${JSON.stringify(i)?.replace(/<\/script>/g,"\\x3C/script>")};
`;return Fe(e)}function Mf(r){return r.length===1?r[0]:`${r.slice(0,-1).join(", ")} or ${r[r.length-1]}`}function ER(r,e,t=!0){if(r==null)return"";if(r===!1)return wR.test(e)||kR.test(e)?Fe(` ${e}="false"`):"";if(xR.has(e))return console.warn(`[astro] The "${e}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${e}={value}\`) instead of the dynamic spread syntax (\`{...{ "${e}": value }}\`).`),"";if(e==="class:list"){const i=yi(Gg(r),t);return i===""?"":Fe(` ${e.slice(0,-5)}="${i}"`)}if(e==="style"&&!(r instanceof na)){if(Array.isArray(r)&&r.length===2)return Fe(` ${e}="${yi(`${Nf(r[0])};${r[1]}`,t)}"`);if(typeof r=="object")return Fe(` ${e}="${yi(Nf(r),t)}"`)}return e==="className"?Fe(` class="${yi(r,t)}"`):r===!0&&(e.startsWith("data-")||SR.test(e))?Fe(` ${e}`):Fe(` ${e}="${yi(r,t)}"`)}function Yc(r,e=!0){let t="";for(const[i,n]of Object.entries(r))t+=ER(n,i,e);return Fe(t)}function Pr(r,{props:e,children:t=""},i=!0){const{lang:n,"data-astro-id":s,"define:vars":o,...a}=e;return o&&(r==="style"&&(delete a["is:global"],delete a["is:scoped"]),r==="script"&&(delete a.hoist,t=_R(o)+`
`+t)),(t==null||t=="")&&Xg.test(r)?`<${r}${Yc(a,i)} />`:`<${r}${Yc(a,i)}>${t}</${r}>`}function Jg(r){const e=[],t={write:n=>e.push(n)},i=r(t);return{async renderToFinalDestination(n){for(const s of e)n.write(s);t.write=s=>n.write(s),await i}}}const Rl=(r,e,t)=>{const i=JSON.stringify(r.props),n=r.children;return e===t.findIndex(s=>JSON.stringify(s.props)===i&&s.children==n)};function Df(r){r._metadata.hasRenderedHead=!0;const e=Array.from(r.styles).filter(Rl).map(s=>s.props.rel==="stylesheet"?Pr("link",s):Pr("style",s));r.styles.clear();const t=Array.from(r.scripts).filter(Rl).map(s=>Pr("script",s,!1)),i=Array.from(r.links).filter(Rl).map(s=>Pr("link",s,!1));let n=e.join(`
`)+i.join(`
`)+t.join(`
`);if(r._metadata.extraHead.length>0)for(const s of r._metadata.extraHead)n+=s;return Fe(n)}function*ZP(){yield Wg({type:"maybe-head"})}const Zc=Symbol.for("astro:slot-string");class e0 extends na{instructions;[Zc];constructor(e,t){super(e),this.instructions=t,this[Zc]=!0}}function OR(r){return!!r[Zc]}function t0(r,e,t){return!e&&t?t0(r,t):{async render(i){await $i(i,typeof e=="function"?e(r):e)}}}async function _a(r,e,t){let i="",n=null;const s={write(a){a instanceof Response||(typeof a=="object"&&"type"in a&&typeof a.type=="string"?(n===null&&(n=[]),n.push(a)):i+=Eh(r,a))}};return await t0(r,e,t).render(s),Fe(new e0(i,n))}async function r0(r,e={}){let t=null,i={};return e&&await Promise.all(Object.entries(e).map(([n,s])=>_a(r,s).then(o=>{o.instructions&&(t===null&&(t=[]),t.push(...o.instructions)),i[n]=o}))),{slotInstructions:t,children:i}}const TR=Symbol.for("astro:fragment"),$f=Symbol.for("astro:renderer");new TextEncoder;const RR=new TextDecoder;function i0(r,e){if(oR(e)){const t=e;switch(t.type){case"directive":{const{hydration:i}=t;let n=i&&bR(r),s=i&&yR(r,i.directive),o=n?"both":s?"directive":null;if(o){let a=vR(r,o,i.directive);return Fe(a)}else return""}case"head":return r._metadata.hasRenderedHead?"":Df(r);case"maybe-head":return r._metadata.hasRenderedHead||r._metadata.headInTree?"":Df(r);default:throw new Error(`Unknown chunk type: ${e.type}`)}}else{if(e instanceof Response)return"";if(OR(e)){let t="";const i=e;if(i.instructions)for(const n of i.instructions)t+=i0(r,n);return t+=e.toString(),t}}return e.toString()}function Eh(r,e){return ArrayBuffer.isView(e)?RR.decode(e):i0(r,e)}function LR(r){return!!r&&typeof r=="object"&&"render"in r&&typeof r.render=="function"}async function $i(r,e){if(e=await e,e instanceof e0)r.write(e);else if(iR(e))r.write(e);else if(Array.isArray(e)){const t=e.map(i=>Jg(n=>$i(n,i)));for(const i of t)i&&await i.renderToFinalDestination(r)}else if(typeof e=="function")await $i(r,e());else if(typeof e=="string")r.write(Fe(wo(e)));else if(!(!e&&e!==0))if(LR(e))await e.render(r);else if($R(e))await e.render(r);else if(MR(e))await e.render(r);else if(ArrayBuffer.isView(e))r.write(e);else if(typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e))for await(const t of e)await $i(r,t);else r.write(e)}const n0=Symbol.for("astro.componentInstance");class PR{[n0]=!0;result;props;slotValues;factory;returnValue;constructor(e,t,i,n){this.result=e,this.props=t,this.factory=n,this.slotValues={};for(const s in i){const o=i[s](e);this.slotValues[s]=()=>o}}async init(e){return this.returnValue!==void 0?this.returnValue:(this.returnValue=this.factory(e,this.props,this.slotValues),this.returnValue)}async render(e){this.returnValue===void 0&&await this.init(this.result);let t=this.returnValue;_h(t)&&(t=await t),fR(t)?await t.content.render(e):await $i(e,t)}}function IR(r,e){if(r!=null)for(const t of Object.keys(r))t.startsWith("client:")&&console.warn(`You are attempting to render <${e} ${t} />, but ${e} is an Astro component. Astro components do not render in the client and should not have a hydration directive. Please use a framework component for client rendering.`)}function NR(r,e,t,i,n={}){IR(i,e);const s=new PR(r,i,n,t);return dR(r,t)&&r._metadata.propagators.add(s),s}function MR(r){return typeof r=="object"&&!!r[n0]}const s0=Symbol.for("astro.renderTemplateResult");class DR{[s0]=!0;htmlParts;expressions;error;constructor(e,t){this.htmlParts=e,this.error=void 0,this.expressions=t.map(i=>_h(i)?Promise.resolve(i).catch(n=>{if(!this.error)throw this.error=n,n}):i)}async render(e){const t=this.expressions.map(i=>Jg(n=>{if(i||i===0)return $i(n,i)}));for(let i=0;i<this.htmlParts.length;i++){const n=this.htmlParts[i],s=t[i];e.write(Fe(n)),s&&await s.renderToFinalDestination(e)}}}function $R(r){return typeof r=="object"&&!!r[s0]}function o0(r,...e){return new DR(r,e)}function BR(r){return typeof HTMLElement<"u"&&HTMLElement.isPrototypeOf(r)}async function zR(r,e,t,i){const n=FR(e);let s="";for(const o in t)s+=` ${o}="${yi(await t[o])}"`;return Fe(`<${n}${s}>${await _a(r,i?.default)}</${n}>`)}function FR(r){const e=customElements.getName(r);return e||r.name.replace(/^HTML|Element$/g,"").replace(/[A-Z]/g,"-$&").toLowerCase().replace(/^-/,"html-")}const Bf=new Map([["solid","solid-js"]]);function jR(r){switch(r?.split(".").pop()){case"svelte":return["@astrojs/svelte"];case"vue":return["@astrojs/vue"];case"jsx":case"tsx":return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue (jsx)"];default:return["@astrojs/react","@astrojs/preact","@astrojs/solid-js","@astrojs/vue","@astrojs/svelte","@astrojs/lit"]}}function HR(r){return r===TR}function VR(r){return r&&r["astro:html"]===!0}const WR=/\<\/?astro-slot\b[^>]*>/g,UR=/\<\/?astro-static-slot\b[^>]*>/g;function GR(r,e){const t=e?UR:WR;return r.replace(t,"")}async function KR(r,e,t,i,n={}){if(!t&&!i["client:only"])throw new Error(`Unable to render ${e} because it is ${t}!
Did you forget to import the component or is it possible there is a typo?`);const{renderers:s,clientDirectives:o}=r,a={astroStaticSlot:!0,displayName:e},{hydration:l,isPage:c,props:h,propsWithoutTransitionAttributes:u}=aR(i,o);let d="",f;l&&(a.hydrate=l.directive,a.hydrateArgs=l.value,a.componentExport=l.componentExport,a.componentUrl=l.componentUrl);const p=jR(a.componentUrl),b=s.filter(C=>C.name!=="astro:jsx"),{children:g,slotInstructions:v}=await r0(r,n);let k;if(a.hydrate!=="only"){let C=!1;try{C=t&&t[$f]}catch{}if(C){const N=t[$f];k=s.find(({name:I})=>I===N)}if(!k){let N;for(const I of s)try{if(await I.ssr.check.call({result:r},t,h,g)){k=I;break}}catch(V){N??=V}if(!k&&N)throw N}if(!k&&typeof HTMLElement=="function"&&BR(t)){const N=await zR(r,t,i,n);return{render(I){I.write(N)}}}}else{if(a.hydrateArgs){const C=a.hydrateArgs,N=Bf.has(C)?Bf.get(C):C;k=s.find(({name:I})=>I===`@astrojs/${N}`||I===N)}if(!k&&b.length===1&&(k=b[0]),!k){const C=a.componentUrl?.split(".").pop();k=s.filter(({name:N})=>N===`@astrojs/${C}`||N===C)[0]}}if(k)a.hydrate==="only"?d=await _a(r,n?.fallback):{html:d,attrs:f}=await k.ssr.renderToStaticMarkup.call({result:r},t,u,g,a);else{if(a.hydrate==="only")throw new ti({...ja,message:ja.message(a.displayName),hint:ja.hint(p.map(C=>C.replace("@astrojs/","")).join("|"))});if(typeof t!="string"){const C=b.filter(I=>p.includes(I.name)),N=b.length>1;if(C.length===0)throw new ti({...Ha,message:Ha.message(a.displayName,a?.componentUrl?.split(".").pop(),N,b.length),hint:Ha.hint(Mf(p.map(I=>"`"+I+"`")))});if(C.length===1)k=C[0],{html:d,attrs:f}=await k.ssr.renderToStaticMarkup.call({result:r},t,u,g,a);else throw new Error(`Unable to render ${a.displayName}!

This component likely uses ${Mf(p)},
but Astro encountered an error during server-side rendering.

Please ensure that ${a.displayName}:
1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.
   If this is unavoidable, use the \`client:only\` hydration directive.
2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.

If you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`)}}if(k&&!k.clientEntrypoint&&k.name!=="@astrojs/lit"&&a.hydrate)throw new ti({...tu,message:tu.message(e,a.hydrate,k.name)});if(!d&&typeof t=="string"){const C=qR(t),N=Object.values(g).join(""),I=o0`<${C}${Yc(h)}${Fe(N===""&&Xg.test(C)?"/>":`>${N}</${C}>`)}`;d="";const V={write(X){X instanceof Response||(d+=Eh(r,X))}};await I.render(V)}if(!l)return{render(C){if(v)for(const N of v)C.write(N);c||k?.name==="astro:jsx"?C.write(d):d&&d.length>0&&C.write(Fe(GR(d,k?.ssr?.supportsAstroStaticSlot??!1)))}};const E=hR(`<!--${a.componentExport.value}:${a.componentUrl}-->
${d}
${Yg(h,a)}`),A=await lR({renderer:k,result:r,astroId:E,props:h,attrs:f},a);let _=[];if(d){if(Object.keys(g).length>0)for(const C of Object.keys(g)){let N=k?.ssr?.supportsAstroStaticSlot?a.hydrate?"astro-slot":"astro-static-slot":"astro-slot",I=C==="default"?`<${N}>`:`<${N} name="${C}">`;d.includes(I)||_.push(C)}}else _=Object.keys(g);const O=_.length>0?_.map(C=>`<template data-astro-template${C!=="default"?`="${C}"`:""}>${g[C]}</template>`).join(""):"";return A.children=`${d??""}${O}`,A.children&&(A.props["await-children"]="",A.children+="<!--astro:end-->"),{render(C){if(v)for(const N of v)C.write(N);C.write(Wg({type:"directive",hydration:l})),C.write(Fe(Pr("astro-island",A,!1)))}}}function qR(r){const e=/[&<>'"\s]+/g;return e.test(r)?r.trim().split(e)[0].trim():r}async function YR(r,e={}){const t=await _a(r,e?.default);return{render(i){t!=null&&i.write(t)}}}async function ZR(r,e,t,i={}){const{slotInstructions:n,children:s}=await r0(r,i),o=e({slots:s}),a=n?n.map(l=>Eh(r,l)).join(""):"";return{render(l){l.write(Fe(a+o))}}}function QR(r,e,t,i,n={}){const s=NR(r,e,t,i,n);return{async render(o){await s.render(o)}}}async function XR(r,e,t,i,n={}){return _h(t)&&(t=await t),HR(t)?await YR(r,n):(i=JR(i),VR(t)?await ZR(r,t,i,n):uR(t)?QR(r,e,t,i,n):await KR(r,e,t,i,n))}function JR(r){if(r["class:list"]!==void 0){const e=r["class:list"];delete r["class:list"],r.class=Gg(r.class,e),r.class===""&&delete r.class}return r}function eL({props:r,children:e}){return Pr("script",{props:r,children:e})}function zf(r,e){if(e.type==="external")return Array.from(r.styles).some(t=>t.props.href===e.src)?"":Pr("link",{props:{rel:"stylesheet",href:e.src},children:""});if(e.type==="inline")return Array.from(r.styles).some(t=>t.children.includes(e.content))?"":Pr("style",{props:{},children:e.content})}function Ea({globResult:r,contentDir:e}){const t={};for(const i in r){const s=i.replace(new RegExp(`^${e}`),"").split("/");if(s.length<=1)continue;const o=s[0];t[o]??={},t[o][i]=r[i]}return t}const Ll=new Map;function tL({contentCollectionToEntryMap:r,dataCollectionToEntryMap:e,getRenderEntryImport:t}){return async function(n,s){let o;if(n in r)o="content";else if(n in e)o="data";else{console.warn(`The collection **${n}** does not exist or is empty. Ensure a collection directory with this name exists.`);return}const a=Object.values(o==="content"?r[n]:e[n]);let l=[];return Ll.has(n)?l=[...Ll.get(n)]:(l=await Promise.all(a.map(async c=>{const h=await c();return o==="content"?{id:h.id,slug:h.slug,body:h.body,collection:h.collection,data:h.data,async render(){return rL({collection:h.collection,id:h.id,renderEntryImport:await t(n,h.slug)})}}:{id:h.id,collection:h.collection,data:h.data}})),Ll.set(n,l)),typeof s=="function"?l.filter(s):l}}async function rL({collection:r,id:e,renderEntryImport:t}){const i=new ti({...Eb,message:`Unexpected error while rendering ${String(r)}  ${String(e)}.`});if(typeof t!="function")throw i;const n=await t();if(n==null||typeof n!="object")throw i;const{default:s}=n;if(iL(s)){const{collectedStyles:o,collectedLinks:a,collectedScripts:l,getMod:c}=s;if(typeof c!="function")throw i;const h=await c();if(h==null||typeof h!="object")throw i;return{Content:ZT({factory(d,f,p){let b="",g="",v="";Array.isArray(o)&&(b=o.map(E=>zf(d,{type:"inline",content:E})).join("")),Array.isArray(a)&&(g=a.map(E=>zf(d,{type:"external",src:Ob(E)})).join("")),Array.isArray(l)&&(v=l.map(E=>eL(E)).join(""));let k=f;return e.endsWith("mdx")&&(k={components:h.components??{},...f}),pR(ns(b+g+v),o0`${XR(d,"Content",h.Content,k,p)}`)},propagation:"self"}),headings:h.getHeadings?.()??[],remarkPluginFrontmatter:h.frontmatter??{}}}else{if(n.Content&&typeof n.Content=="function")return{Content:n.Content,headings:n.getHeadings?.()??[],remarkPluginFrontmatter:n.frontmatter??{}};throw i}}function iL(r){return typeof r=="object"&&r!=null&&"__astroPropagation"in r}const Oa="/src/content/",a0=Object.assign({"/src/content/docs/about/contacts.mdx":()=>$(()=>import("./contacts.772cfa1f.js"),[]),"/src/content/docs/about/faq.mdx":()=>$(()=>import("./faq.d05f2165.js"),[]),"/src/content/docs/about/goals.mdx":()=>$(()=>import("./goals.75242361.js"),[]),"/src/content/docs/en/about/contacts.mdx":()=>$(()=>import("./contacts.9fa799e8.js"),[]),"/src/content/docs/en/about/faq.mdx":()=>$(()=>import("./faq.5792bc76.js"),[]),"/src/content/docs/en/about/goals.mdx":()=>$(()=>import("./goals.b1d2334a.js"),[]),"/src/content/docs/en/index.mdx":()=>$(()=>import("./index.af02dec4.js"),[]),"/src/content/docs/en/overview/welcome.mdx":()=>$(()=>import("./welcome.36b0499c.js"),[]),"/src/content/docs/en/play.mdx":()=>$(()=>import("./play.141430aa.js"),[]),"/src/content/docs/en/reference/robo1-language.md":()=>$(()=>import("./robo1-language.03350c6e.js"),[]),"/src/content/docs/index.mdx":()=>$(()=>import("./index.e918d698.js"),[]),"/src/content/docs/overview/welcome.mdx":()=>$(()=>import("./welcome.5da5c800.js"),[]),"/src/content/docs/play.mdx":()=>$(()=>import("./play.88fe101c.js"),[]),"/src/content/docs/reference/robo1-language.md":()=>$(()=>import("./robo1-language.80c95f45.js"),[]),"/src/content/lessons/en/lesson00.mdx":()=>$(()=>import("./lesson00.fd56354d.js"),[]),"/src/content/lessons/en/lesson01.mdx":()=>$(()=>import("./lesson01.c056eeb0.js"),[]),"/src/content/lessons/en/lesson02.mdx":()=>$(()=>import("./lesson02.e310391a.js"),[]),"/src/content/lessons/en/lesson03.mdx":()=>$(()=>import("./lesson03.f3367c49.js"),[]),"/src/content/lessons/en/lesson04.mdx":()=>$(()=>import("./lesson04.2defc1bd.js"),[]),"/src/content/lessons/en/lesson05.mdx":()=>$(()=>import("./lesson05.d4b3a99e.js"),[]),"/src/content/lessons/en/lesson06.mdx":()=>$(()=>import("./lesson06.47569c66.js"),[]),"/src/content/lessons/en/lesson07.mdx":()=>$(()=>import("./lesson07.f845df76.js"),[]),"/src/content/lessons/en/lesson08.mdx":()=>$(()=>import("./lesson08.d0ee1ba0.js"),[]),"/src/content/lessons/lesson00.mdx":()=>$(()=>import("./lesson00.4e093bbe.js"),[]),"/src/content/lessons/lesson01.mdx":()=>$(()=>import("./lesson01.ac7789ae.js"),[]),"/src/content/lessons/lesson02.mdx":()=>$(()=>import("./lesson02.48144576.js"),[]),"/src/content/lessons/lesson03.mdx":()=>$(()=>import("./lesson03.8a2087e0.js"),[]),"/src/content/lessons/lesson04.mdx":()=>$(()=>import("./lesson04.9bdb0557.js"),[]),"/src/content/lessons/lesson05.mdx":()=>$(()=>import("./lesson05.b66d7325.js"),[]),"/src/content/lessons/lesson06.mdx":()=>$(()=>import("./lesson06.2df110cb.js"),[]),"/src/content/lessons/lesson07.mdx":()=>$(()=>import("./lesson07.e7c15bdd.js"),[]),"/src/content/lessons/lesson08.mdx":()=>$(()=>import("./lesson08.6106a32a.js"),[])}),nL=Ea({globResult:a0,contentDir:Oa}),l0=Object.assign({"/src/content/i18n/en.json":()=>$(()=>import("./en.61ede625.js"),[]),"/src/content/i18n/lt.json":()=>$(()=>import("./lt.3503dc59.js"),[])}),sL=Ea({globResult:l0,contentDir:Oa});Ea({globResult:{...a0,...l0},contentDir:Oa});let c0={};c0={i18n:{type:"data",entries:{en:"/src/content/i18n/en.json",lt:"/src/content/i18n/lt.json"}},docs:{type:"content",entries:{index:"/src/content/docs/index.mdx",play:"/src/content/docs/play.mdx","about/faq":"/src/content/docs/about/faq.mdx","about/goals":"/src/content/docs/about/goals.mdx","about/contacts":"/src/content/docs/about/contacts.mdx",en:"/src/content/docs/en/index.mdx","en/play":"/src/content/docs/en/play.mdx","overview/welcome":"/src/content/docs/overview/welcome.mdx","reference/robo1-language":"/src/content/docs/reference/robo1-language.md","en/about/contacts":"/src/content/docs/en/about/contacts.mdx","en/about/faq":"/src/content/docs/en/about/faq.mdx","en/about/goals":"/src/content/docs/en/about/goals.mdx","en/overview/welcome":"/src/content/docs/en/overview/welcome.mdx","en/reference/robo1-language":"/src/content/docs/en/reference/robo1-language.md"}},lessons:{type:"content",entries:{lesson00:"/src/content/lessons/lesson00.mdx",lesson01:"/src/content/lessons/lesson01.mdx",lesson02:"/src/content/lessons/lesson02.mdx",lesson03:"/src/content/lessons/lesson03.mdx",lesson04:"/src/content/lessons/lesson04.mdx",lesson05:"/src/content/lessons/lesson05.mdx",lesson06:"/src/content/lessons/lesson06.mdx",lesson07:"/src/content/lessons/lesson07.mdx",lesson08:"/src/content/lessons/lesson08.mdx","en/lesson00":"/src/content/lessons/en/lesson00.mdx","en/lesson01":"/src/content/lessons/en/lesson01.mdx","en/lesson02":"/src/content/lessons/en/lesson02.mdx","en/lesson03":"/src/content/lessons/en/lesson03.mdx","en/lesson04":"/src/content/lessons/en/lesson04.mdx","en/lesson05":"/src/content/lessons/en/lesson05.mdx","en/lesson06":"/src/content/lessons/en/lesson06.mdx","en/lesson07":"/src/content/lessons/en/lesson07.mdx","en/lesson08":"/src/content/lessons/en/lesson08.mdx"}}};function oL(r){return async(e,t)=>{const i=c0[e]?.entries[t];if(i)return r[e][i]}}const aL=Object.assign({"/src/content/docs/about/contacts.mdx":()=>$(()=>import("./contacts.0c0a930c.js"),["_astro/contacts.0c0a930c.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/about/faq.mdx":()=>$(()=>import("./faq.f6cecebf.js"),["_astro/faq.f6cecebf.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/about/goals.mdx":()=>$(()=>import("./goals.81168328.js"),["_astro/goals.81168328.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/en/about/contacts.mdx":()=>$(()=>import("./contacts.97686f72.js"),["_astro/contacts.97686f72.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/en/about/faq.mdx":()=>$(()=>import("./faq.7ed0e409.js"),["_astro/faq.7ed0e409.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/en/about/goals.mdx":()=>$(()=>import("./goals.25de80ac.js"),["_astro/goals.25de80ac.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/en/index.mdx":()=>$(()=>import("./index.a51f4b81.js"),["_astro/index.a51f4b81.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/en/overview/welcome.mdx":()=>$(()=>import("./welcome.6620c97c.js"),["_astro/welcome.6620c97c.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/en/play.mdx":()=>$(()=>import("./play.2ad7f893.js"),["_astro/play.2ad7f893.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/en/reference/robo1-language.md":()=>$(()=>import("./robo1-language.9f7c9ac2.js"),["_astro/robo1-language.9f7c9ac2.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/index.mdx":()=>$(()=>import("./index.cf2d9bea.js"),["_astro/index.cf2d9bea.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/overview/welcome.mdx":()=>$(()=>import("./welcome.e55d9719.js"),["_astro/welcome.e55d9719.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/play.mdx":()=>$(()=>import("./play.cad86601.js"),["_astro/play.cad86601.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/docs/reference/robo1-language.md":()=>$(()=>import("./robo1-language.75918154.js"),["_astro/robo1-language.75918154.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson00.mdx":()=>$(()=>import("./lesson00.58575194.js"),["_astro/lesson00.58575194.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson01.mdx":()=>$(()=>import("./lesson01.f9e5ef9c.js"),["_astro/lesson01.f9e5ef9c.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson02.mdx":()=>$(()=>import("./lesson02.5e30131c.js"),["_astro/lesson02.5e30131c.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson03.mdx":()=>$(()=>import("./lesson03.bb92d8f2.js"),["_astro/lesson03.bb92d8f2.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson04.mdx":()=>$(()=>import("./lesson04.ad483d16.js"),["_astro/lesson04.ad483d16.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson05.mdx":()=>$(()=>import("./lesson05.13802c5d.js"),["_astro/lesson05.13802c5d.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson06.mdx":()=>$(()=>import("./lesson06.e0c32b29.js"),["_astro/lesson06.e0c32b29.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson07.mdx":()=>$(()=>import("./lesson07.3fd9c81d.js"),["_astro/lesson07.3fd9c81d.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/en/lesson08.mdx":()=>$(()=>import("./lesson08.876c7de8.js"),["_astro/lesson08.876c7de8.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson00.mdx":()=>$(()=>import("./lesson00.927f56c7.js"),["_astro/lesson00.927f56c7.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson01.mdx":()=>$(()=>import("./lesson01.d7bd14c8.js"),["_astro/lesson01.d7bd14c8.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson02.mdx":()=>$(()=>import("./lesson02.67f30123.js"),["_astro/lesson02.67f30123.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson03.mdx":()=>$(()=>import("./lesson03.1cb480d0.js"),["_astro/lesson03.1cb480d0.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson04.mdx":()=>$(()=>import("./lesson04.b2cfb87e.js"),["_astro/lesson04.b2cfb87e.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson05.mdx":()=>$(()=>import("./lesson05.dc527f9d.js"),["_astro/lesson05.dc527f9d.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson06.mdx":()=>$(()=>import("./lesson06.1681472a.js"),["_astro/lesson06.1681472a.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson07.mdx":()=>$(()=>import("./lesson07.1cbf765f.js"),["_astro/lesson07.1cbf765f.js","_astro/astro-assets-services.79a8b34c.js"]),"/src/content/lessons/lesson08.mdx":()=>$(()=>import("./lesson08.a82cf3ef.js"),["_astro/lesson08.a82cf3ef.js","_astro/astro-assets-services.79a8b34c.js"])}),lL=Ea({globResult:aL,contentDir:Oa}),cL=tL({contentCollectionToEntryMap:nL,dataCollectionToEntryMap:sL,getRenderEntryImport:oL(lL)}),ko={title:"ROBO1",logo:{dark:"./src/assets/logo-dark.svg",light:"./src/assets/logo.svg",alt:"",replacesTitle:!0},social:{github:{label:"GitHub",url:"https://github.com/slicklash/robo1"},linkedin:{label:"LinkedIn",url:"https://www.linkedin.com/in/audrius-kovalenko-536447116"}},tableOfContents:{minHeadingLevel:2,maxHeadingLevel:3},editLink:{},sidebar:[{label:"Pradia",translations:{en:"Start Here"},collapsed:!1,items:[{label:"Labas!",translations:{en:"Hello!"},link:"/overview/welcome",attrs:{}}]},{label:"inynas",translations:{en:"Reference"},collapsed:!1,autogenerate:{directory:"reference"}},{label:"Apie",translations:{en:"About"},collapsed:!1,items:[{label:"Tikslai",translations:{en:"Goals"},link:"/about/goals",attrs:{}},{label:"DUK",translations:{en:"FAQ"},link:"/about/faq",attrs:{}},{label:"Kontaktai",translations:{en:"Contacts"},link:"/about/contacts",attrs:{}}]}],head:[{tag:"script",attrs:{src:"//www.freeprivacypolicy.com/public/cookie-consent/4.1.0/cookie-consent.js"},content:""},{tag:"script",attrs:{},content:`document.addEventListener('DOMContentLoaded', function() { cookieconsent.run({ "notice_banner_type": "simple", "consent_type": "express", "palette": "light", "language": location.href.includes("/en") ? "en" : "lt", "page_load_consent_levels": ["strictly-necessary"], "notice_banner_reject_button_hide": false, "preferences_center_close_button_hide": false, "page_refresh_confirmation_buttons": false, "website_name": "ROBO1" }); });`},{tag:"script",attrs:{type:"text/plain","data-cookie-consent":"tracking",async:!0,src:"https://www.googletagmanager.com/gtag/js?id=G-CKERSNREGE"},content:""},{tag:"script",attrs:{type:"text/plain","data-cookie-consent":"tracking"},content:"window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date());gtag('config', 'G-CKERSNREGE');"}],customCss:["./src/styles/custom.css"],lastUpdated:!1,pagination:!0,favicon:{href:"/favicon.svg",type:"image/svg+xml"},components:{Head:"@astrojs/starlight/components/Head.astro",ThemeProvider:"@astrojs/starlight/components/ThemeProvider.astro",SkipLink:"@astrojs/starlight/components/SkipLink.astro",PageFrame:"@astrojs/starlight/components/PageFrame.astro",MobileMenuToggle:"@astrojs/starlight/components/MobileMenuToggle.astro",TwoColumnContent:"@astrojs/starlight/components/TwoColumnContent.astro",Header:"@astrojs/starlight/components/Header.astro",SiteTitle:"@astrojs/starlight/components/SiteTitle.astro",Search:"@astrojs/starlight/components/Search.astro",SocialIcons:"@astrojs/starlight/components/SocialIcons.astro",ThemeSelect:"@astrojs/starlight/components/ThemeSelect.astro",LanguageSelect:"@astrojs/starlight/components/LanguageSelect.astro",Sidebar:"@astrojs/starlight/components/Sidebar.astro",MobileMenuFooter:"@astrojs/starlight/components/MobileMenuFooter.astro",PageSidebar:"@astrojs/starlight/components/PageSidebar.astro",TableOfContents:"@astrojs/starlight/components/TableOfContents.astro",MobileTableOfContents:"@astrojs/starlight/components/MobileTableOfContents.astro",Banner:"@astrojs/starlight/components/Banner.astro",ContentPanel:"@astrojs/starlight/components/ContentPanel.astro",PageTitle:"./src/components/PageTitle.astro",FallbackContentNotice:"@astrojs/starlight/components/FallbackContentNotice.astro",Hero:"./src/components/Hero.astro",MarkdownContent:"@astrojs/starlight/components/MarkdownContent.astro",Footer:"./src/components/Footer.astro",LastUpdated:"@astrojs/starlight/components/LastUpdated.astro",Pagination:"@astrojs/starlight/components/Pagination.astro",EditLink:"@astrojs/starlight/components/EditLink.astro"},titleDelimiter:"|",isMultilingual:!0,defaultLocale:{label:"Lietuvi",lang:"lt",dir:"ltr",locale:"root"},locales:{root:{label:"Lietuvi",lang:"lt",dir:"ltr"},en:{label:"English",dir:"ltr",lang:"en"}}};function hL(){return uL().required().strict().merge(dL())}function uL(){return zg({"skipLink.label":de().describe("Text displayed in the accessible Skip link when a keyboard user first tabs into a page."),"search.label":de().describe("Text displayed in the search bar."),"search.shortcutLabel":de().describe("Accessible label for the shortcut key to open the search modal."),"search.cancelLabel":de().describe("Text for the Cancel button that closes the search modal."),"search.devWarning":de().describe("Warning displayed when opening the Search in a dev environment."),"themeSelect.accessibleLabel":de().describe("Accessible label for the theme selection dropdown."),"themeSelect.dark":de().describe("Name of the dark color theme."),"themeSelect.light":de().describe("Name of the light color theme."),"themeSelect.auto":de().describe("Name of the automatic color theme that syncs with system preferences."),"languageSelect.accessibleLabel":de().describe("Accessible label for the language selection dropdown."),"menuButton.accessibleLabel":de().describe("Accessible label for he mobile menu button."),"sidebarNav.accessibleLabel":de().describe("Accessible label for the main sidebar `<nav>` element to distinguish it fom other `<nav>` landmarks on the page."),"tableOfContents.onThisPage":de().describe("Title for the table of contents component."),"tableOfContents.overview":de().describe("Label used for the first link in the table of contents, linking to the page title."),"i18n.untranslatedContent":de().describe("Notice informing users they are on a page that is not yet translated to their language."),"page.editLink":de().describe("Text for the link to edit a page."),"page.lastUpdated":de().describe("Text displayed in front of the last updated date in the page footer."),"page.previousLink":de().describe("Label shown on the previous page pagination arrow in the page footer."),"page.nextLink":de().describe("Label shown on the next page pagination arrow in the page footer."),"404.text":de().describe("Text shown on Starlights default 404 page")}).partial()}function dL(){return zg({"pagefind.clear_search":de().describe('Pagefind UI translation. English default value: `"Clear"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.load_more":de().describe('Pagefind UI translation. English default value: `"Load more results"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.search_label":de().describe('Pagefind UI translation. English default value: `"Search this site"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.filters_label":de().describe('Pagefind UI translation. English default value: `"Filters"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.zero_results":de().describe('Pagefind UI translation. English default value: `"No results for [SEARCH_TERM]"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.many_results":de().describe('Pagefind UI translation. English default value: `"[COUNT] results for [SEARCH_TERM]"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.one_result":de().describe('Pagefind UI translation. English default value: `"[COUNT] result for [SEARCH_TERM]"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.alt_search":de().describe('Pagefind UI translation. English default value: `"No results for [SEARCH_TERM]. Showing results for [DIFFERENT_TERM] instead"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.search_suggestion":de().describe('Pagefind UI translation. English default value: `"No results for [SEARCH_TERM]. Try one of the following searches:"`. See https://pagefind.app/docs/ui/#translations'),"pagefind.searching":de().describe('Pagefind UI translation. English default value: `"Searching for [SEARCH_TERM]..."`. See https://pagefind.app/docs/ui/#translations')}).partial()}const fL={"skipLink.label":"Peskoit na obsah","search.label":"Hledat","search.shortcutLabel":"(Vyhledejte stisknutm /)","search.cancelLabel":"Zruit","search.devWarning":`Vyhledvn je dostupn pouze v produknch sestavench. 
Zkuste sestavit a zobrazit nhled webu a otestovat jej lokln.`,"themeSelect.accessibleLabel":"Vyberte motiv","themeSelect.dark":"Tmav","themeSelect.light":"Svtl","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Vyberte jazyk","menuButton.accessibleLabel":"Nabdka","sidebarNav.accessibleLabel":"Hlavn","tableOfContents.onThisPage":"Na tto strnce","tableOfContents.overview":"Pehled","i18n.untranslatedContent":"Tento obsah zatm nen dostupn ve vaem jazyce.","page.editLink":"Upravit strnku","page.lastUpdated":"Posledn aktualizace:","page.previousLink":"Pedchoz","page.nextLink":"Dal","404.text":"Strnka nenalezena. Zkontrolujte adresu URL nebo zkuste pout vyhledvac pole."},pL={"skipLink.label":"Skip to content","search.label":"Search","search.shortcutLabel":"(Press / to Search)","search.cancelLabel":"Cancel","search.devWarning":`Search is only available in production builds. 
Try building and previewing the site to test it out locally.`,"themeSelect.accessibleLabel":"Select theme","themeSelect.dark":"Dark","themeSelect.light":"Light","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Select language","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"Main","tableOfContents.onThisPage":"On this page","tableOfContents.overview":"Overview","i18n.untranslatedContent":"This content is not available in your language yet.","page.editLink":"Edit page","page.lastUpdated":"Last updated:","page.previousLink":"Previous","page.nextLink":"Next","404.text":"Page not found. Check the URL or try using the search bar."},mL={"skipLink.label":"Saltearse al contenido","search.label":"Buscar","search.shortcutLabel":"(Presiona / para buscar)","search.cancelLabel":"Interrumpir","search.devWarning":`La bsqueda solo est disponible en las versiones de produccin.  
Intenta construir y previsualizar el sitio para probarlo localmente.`,"themeSelect.accessibleLabel":"Seleccionar tema","themeSelect.dark":"Oscuro","themeSelect.light":"Claro","themeSelect.auto":"Automtico","languageSelect.accessibleLabel":"Seleccionar idioma","menuButton.accessibleLabel":"Men","sidebarNav.accessibleLabel":"Primario","tableOfContents.onThisPage":"En esta pgina","tableOfContents.overview":"Sinopsis","i18n.untranslatedContent":"Esta pgina an no est disponible en tu idioma.","page.editLink":"Edita esta pgina","page.lastUpdated":"ltima actualizacin:","page.previousLink":"Pgina anterior","page.nextLink":"Siguiente pgina","404.text":"Pgina no encontrada. Verifica la URL o intenta usar la barra de bsqueda."},gL={"skipLink.label":"Zum Inhalt springen","search.label":"Suchen","search.shortcutLabel":"(Drcke / zum Suchen)","search.cancelLabel":"Abbrechen","search.devWarning":`Search is only available in production builds. 
Try building and previewing the site to test it out locally.`,"themeSelect.accessibleLabel":"Farbschema whlen","themeSelect.dark":"Dunkel","themeSelect.light":"Hell","themeSelect.auto":"System","languageSelect.accessibleLabel":"Sprache whlen","menuButton.accessibleLabel":"Men","sidebarNav.accessibleLabel":"Hauptnavigation","tableOfContents.onThisPage":"Auf dieser Seite","tableOfContents.overview":"berblick","i18n.untranslatedContent":"Dieser Inhalt ist noch nicht in deiner Sprache verfgbar.","page.editLink":"Seite bearbeiten","page.lastUpdated":"Zuletzt bearbeitet:","page.previousLink":"Vorherige Seite","page.nextLink":"Nchste Seite","404.text":"Seite nicht gefunden. berprfe die URL oder nutze die Suchleiste."},bL={"skipLink.label":"","search.label":"","search.shortcutLabel":"/","search.cancelLabel":"","search.devWarning":`
`,"themeSelect.accessibleLabel":"","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":"","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":"","tableOfContents.overview":"","i18n.untranslatedContent":"","page.editLink":"","page.lastUpdated":":","page.previousLink":"","page.nextLink":"","404.text":" URL "},yL={"skipLink.label":"Pular para o contedo","search.label":"Pesquisar","search.shortcutLabel":"(Pressione / para Pesquisar)","search.cancelLabel":"Cancelar","search.devWarning":`A pesquisa est disponvel apenas em builds em produo. 
Tente fazer a build e pr-visualize o site para testar localmente.`,"themeSelect.accessibleLabel":"Selecionar tema","themeSelect.dark":"Escuro","themeSelect.light":"Claro","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Selecionar lngua","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"Principal","tableOfContents.onThisPage":"Nesta pgina","tableOfContents.overview":"Viso geral","i18n.untranslatedContent":"Este contedo no est disponvel em sua lngua ainda.","page.editLink":"Editar pgina","page.lastUpdated":"ltima atualizao:","page.previousLink":"Anterior","page.nextLink":"Prximo","404.text":"Pgina no encontrada. Verifique o URL ou tente usar a barra de pesquisa."},vL={"skipLink.label":"  ","search.label":"","search.shortcutLabel":"(  /   )","search.cancelLabel":"","search.devWarning":`       . 
             .`,"themeSelect.accessibleLabel":" ","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":" ","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":"  ","tableOfContents.overview":" ","i18n.untranslatedContent":"        .","page.editLink":" ","page.lastUpdated":"   :","page.previousLink":"","page.nextLink":"","404.text":"  .  URL        ."},SL={"skipLink.label":"Aller au contenu","search.label":"Rechercher","search.shortcutLabel":"(Presser / pour rechercher)","search.cancelLabel":"Annuler","search.devWarning":`La recherche est disponible uniquement en mode production. 
Essayez de construire puis de prvisualiser votre site pour tester la recherche localement.`,"themeSelect.accessibleLabel":"Selectionner le thme","themeSelect.dark":"Sombre","themeSelect.light":"Clair","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Selectionner la langue","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"principale","tableOfContents.onThisPage":"Sur cette page","tableOfContents.overview":"Vue densemble","i18n.untranslatedContent":"Ce contenu nest pas encore disponible dans votre langue.","page.editLink":"Modifier cette page","page.lastUpdated":"Dernire mise  jour :","page.previousLink":"Prcdent","page.nextLink":"Suivant","404.text":"Page non trouve. Vrifiez lURL ou essayez dutiliser la barre de recherche."},wL={"skipLink.label":" ","search.label":"","search.shortcutLabel":"( /  )","search.cancelLabel":"","search.devWarning":`    . 
           .`,"themeSelect.accessibleLabel":"  ","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":" ","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":" ","tableOfContents.overview":" ","i18n.untranslatedContent":"      .","page.editLink":" ","page.lastUpdated":" :","page.previousLink":"","page.nextLink":"","404.text":"  .          ."},kL={"skipLink.label":"Lewati ke konten","search.label":"Pencarian","search.shortcutLabel":"(Tekan / untuk mencari)","search.cancelLabel":"Batal","search.devWarning":`Pencarian hanya tersedia pada build produksi. 
Lakukan proses build dan pratinjau situs Anda sebelum mencoba di lingkungan lokal.`,"themeSelect.accessibleLabel":"Pilih tema","themeSelect.dark":"Gelap","themeSelect.light":"Terang","themeSelect.auto":"Otomatis","languageSelect.accessibleLabel":"Pilih Bahasa","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"Utama","tableOfContents.onThisPage":"Di halaman ini","tableOfContents.overview":"Ringkasan","i18n.untranslatedContent":"Konten ini belum tersedia dalam bahasa Anda.","page.editLink":"Edit halaman","page.lastUpdated":"Terakhir diperbaharui:","page.previousLink":"Sebelumnya","page.nextLink":"Selanjutnya","404.text":"Halaman tidak ditemukan. Cek kembali kolom URL atau gunakan fitur pencarian."},xL={"skipLink.label":"Salta ai contenuti","search.label":"Cerca","search.shortcutLabel":"(Usa / per cercare)","search.cancelLabel":"Cancella","search.devWarning":`Search is only available in production builds. 
Try building and previewing the site to test it out locally.`,"themeSelect.accessibleLabel":"Seleziona tema","themeSelect.dark":"Scuro","themeSelect.light":"Chiaro","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Seleziona lingua","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"Principale","tableOfContents.onThisPage":"In questa pagina","tableOfContents.overview":"Panoramica","i18n.untranslatedContent":"Questi contenuti non sono ancora disponibili nella tua lingua.","page.editLink":"Modifica pagina","page.lastUpdated":"Ultimo aggiornamento:","page.previousLink":"Indietro","page.nextLink":"Avanti","404.text":"Pagina non trovata. Verifica l'URL o prova a utilizzare la barra di ricerca."},CL={"skipLink.label":"Ga naar inhoud","search.label":"Zoeken","search.shortcutLabel":"(Druk op / om te zoeken)","search.cancelLabel":"Annuleren","search.devWarning":`Zoeken is alleen beschikbaar tijdens productie. 
Probeer om de site te builden en er een preview van te bekijken om lokaal te testen.`,"themeSelect.accessibleLabel":"Selecteer thema","themeSelect.dark":"Donker","themeSelect.light":"Licht","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Selecteer taal","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"Hoofdnavigatie","tableOfContents.onThisPage":"Op deze pagina","tableOfContents.overview":"Overzicht","i18n.untranslatedContent":"Deze inhoud is nog niet vertaald.","page.editLink":"Bewerk pagina","page.lastUpdated":"Laatst bewerkt:","page.previousLink":"Vorige","page.nextLink":"Volgende","404.text":"Pagina niet gevonden. Controleer de URL of probeer de zoekbalk."},AL={"skipLink.label":"G til indhold","search.label":"Sg","search.shortcutLabel":"(Tryk / for at sge)","search.cancelLabel":"Annuller","search.devWarning":`Sgning er kun tilgngeligt i produktions versioner. 
Prv at bygge siden og forhndsvis den for at teste det lokalt.`,"themeSelect.accessibleLabel":"Vlg tema","themeSelect.dark":"Mrk","themeSelect.light":"Lys","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Vlg sprog","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"Hovednavigation","tableOfContents.onThisPage":"P denne side","tableOfContents.overview":"Oversigt","i18n.untranslatedContent":"Dette indhold er ikke tilgngeligt i dit sprog endnu.","page.editLink":"Rediger siden","page.lastUpdated":"Sidst opdateret:","page.previousLink":"Forrige","page.nextLink":"Nste","404.text":"Siden er ikke fundet. Tjek din URL eller prv sgelinjen."},_L={"skipLink.label":"erie ge","search.label":"Ara","search.shortcutLabel":"(Aramak iin / bas)","search.cancelLabel":"ptal","search.devWarning":`Arama yalnzca retim derlemelerinde kullanlabilir. 
Yerel bilgisayarnzda test etmek iin siteyi derleyin ve nizleme yapn.`,"themeSelect.accessibleLabel":"Tema se","themeSelect.dark":"Koyu","themeSelect.light":"Ak","themeSelect.auto":"Otomatik","languageSelect.accessibleLabel":"Dil sein","menuButton.accessibleLabel":"Men","sidebarNav.accessibleLabel":"Ana","tableOfContents.onThisPage":"Sayfa ierii","tableOfContents.overview":"Genel bak","i18n.untranslatedContent":"Bu ierik henz dilinizde mevcut deil.","page.editLink":"Sayfay dzenle","page.lastUpdated":"Son gncelleme:","page.previousLink":"nceki","page.nextLink":"Sonraki","404.text":"Sayfa bulunamad. URL'i kontrol edin ya da arama ubuunu kullanmay deneyin."},EL={"skipLink.label":"  ","search.label":"","search.shortcutLabel":"( / )","search.cancelLabel":"","search.devWarning":`     . 
      `,"themeSelect.accessibleLabel":" ","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":" ","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":"  ","tableOfContents.overview":" ","i18n.untranslatedContent":"     .","page.editLink":" ","page.lastUpdated":" :","page.previousLink":"","page.nextLink":"","404.text":"  .        ."},OL={"skipLink.label":"G til innholdet","search.label":"Sk","search.shortcutLabel":"(Trykk / for  ske)","search.cancelLabel":"Avbryt","search.devWarning":`Sk er bare tilgjengelig i produksjonsbygg. 
Prv  bygg siden og forhndsvis den for  teste det lokalt.`,"themeSelect.accessibleLabel":"Velg tema","themeSelect.dark":"Mrk","themeSelect.light":"Lys","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Velg sprk","menuButton.accessibleLabel":"Meny","sidebarNav.accessibleLabel":"Hovednavigasjon","tableOfContents.onThisPage":"P denne siden","tableOfContents.overview":"Oversikt","i18n.untranslatedContent":"Dette innholdet er ikke tilgjengelig p ditt sprk.","page.editLink":"Rediger side","page.lastUpdated":"Sist oppdatert:","page.previousLink":"Forrige","page.nextLink":"Neste","404.text":"Siden ble ikke funnet. Sjekk URL-en eller prv  bruke skefeltet."},TL={"skipLink.label":"","search.label":"","search.shortcutLabel":" / ","search.cancelLabel":"","search.devWarning":`
`,"themeSelect.accessibleLabel":"","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":"","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":"","tableOfContents.overview":"","i18n.untranslatedContent":"","page.editLink":"","page.lastUpdated":"","page.previousLink":"","page.nextLink":"","404.text":" URL "},RL={"skipLink.label":" ","search.label":"","search.shortcutLabel":"(  /  )","search.cancelLabel":"","search.devWarning":`      .
      (Preview) .`,"themeSelect.accessibleLabel":" ","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":" ","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":"","tableOfContents.overview":"","i18n.untranslatedContent":"    .","page.editLink":" ","page.lastUpdated":" :","page.previousLink":" ","page.nextLink":" ","404.text":"   . URL   ."},LL={"skipLink.label":"Hoppa till innehll","search.label":"Sk","search.shortcutLabel":"(Tryck / fr att ska)","search.cancelLabel":"Avbryt","search.devWarning":`Skfunktionen r endast tillgnglig i produktionsbyggen. 
Prova att bygga och frhandsvisa siten fr att testa det lokalt.`,"themeSelect.accessibleLabel":"Vlj tema","themeSelect.dark":"Mrkt","themeSelect.light":"Ljust","themeSelect.auto":"Auto","languageSelect.accessibleLabel":"Vlj sprk","menuButton.accessibleLabel":"Meny","sidebarNav.accessibleLabel":"Huvudmeny","tableOfContents.onThisPage":"P den hr sidan","tableOfContents.overview":"versikt","i18n.untranslatedContent":"Det hr innehllet r inte tillgngligt p ditt sprk n.","page.editLink":"Redigera sida","page.lastUpdated":"Senast uppdaterad:","page.previousLink":"Fregende","page.nextLink":"Nsta","404.text":"Sidan hittades inte. Kontrollera URL:n eller testa att anvnda skfltet."},PL={"skipLink.label":"  ","search.label":"","search.shortcutLabel":"( /  )","search.cancelLabel":"","search.devWarning":`     . 
     ,    .`,"themeSelect.accessibleLabel":" ","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":" ","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":"  ","tableOfContents.overview":"","i18n.untranslatedContent":"       .","page.editLink":" ","page.lastUpdated":" :","page.previousLink":"","page.nextLink":"","404.text":"  .   URL     "},IL={"skipLink.label":"B qua ni dung","search.label":"Tm kim","search.shortcutLabel":"(Nhn /  Tm kim)","search.cancelLabel":"Thot","search.devWarning":`Tm kim khng kh dng khi ang trong mi trng lp trnh. 
Th xut bn website v tm kim.`,"themeSelect.accessibleLabel":"Chn giao din","themeSelect.dark":"Ti","themeSelect.light":"Sng","themeSelect.auto":"T ng","languageSelect.accessibleLabel":"Chn ngn ng","menuButton.accessibleLabel":"Menu","sidebarNav.accessibleLabel":"Chnh","tableOfContents.onThisPage":"Tm tt","tableOfContents.overview":"Tng qut","i18n.untranslatedContent":"Ni dung ny khng tn ti trong ngn ng ca bn","page.editLink":"Chnh sa trang","page.lastUpdated":"Cp nht ln cui:","page.previousLink":"Tip","page.nextLink":"Trc","404.text":"Khng tm thy trang. Kim tra URL hoc th s dng thanh tm kim."},NL={"skipLink.label":"  ","search.label":"","search.shortcutLabel":"( /  )","search.cancelLabel":"","search.devWarning":`     . 
     ,    `,"themeSelect.accessibleLabel":" ","themeSelect.dark":"","themeSelect.light":"","themeSelect.auto":"","languageSelect.accessibleLabel":" ","menuButton.accessibleLabel":"","sidebarNav.accessibleLabel":"","tableOfContents.onThisPage":"  ","tableOfContents.overview":"","i18n.untranslatedContent":"       .","page.editLink":" ","page.lastUpdated":" :","page.previousLink":"","page.nextLink":"","404.text":"  .  URL-     ."},{parse:ML}=hL(),$n=Object.fromEntries(Object.entries({cs:fL,en:pL,es:mL,de:gL,ja:bL,pt:yL,fa:vL,fr:SL,he:wL,id:kL,it:xL,nl:CL,da:AL,tr:_L,ar:EL,nb:OL,zh:TL,ko:RL,sv:LL,ru:PL,vi:IL,uk:NL}).map(([r,e])=>[r,ML(e)]));function DL(r){const e=r?ko.locales?.[r]?.lang:ko.locales?.root?.lang,t=ko.defaultLocale?.lang;return e||t||"en"}const Pl=ko.defaultLocale?.locale;let sa={};try{sa=Object.fromEntries((await cL("i18n")).map(({id:r,data:e})=>[r,e]))}catch{}const $L=u0($n.en,sa.en,$n[Pl]||$n[h0(Pl)],sa[Pl]);function h0(r){return r.replace(/-[a-zA-Z]{2}/,"")}function BL(r){const e=DL(r),t=u0($L,$n[e]||$n[h0(e)],sa[e]),i=n=>t[n];return i.pick=n=>Object.fromEntries(Object.entries(t).filter(([s])=>s.startsWith(n))),i}function u0(r,...e){const t={...r};for(const i of e)for(const n in i){const s=i[n];s&&(t[n]=s)}return t}let Oh="lt",xo;const QP=()=>Oh,XP=(r="lt")=>{Oh=r,xo=void 0},JP=()=>{if(!xo){const r=BL(Oh);xo=e=>r(e)||e}return xo};class oa{constructor(e,t,i,n,s,o,a,l,c,h=0,u){this.p=e,this.stack=t,this.state=i,this.reducePos=n,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=h,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let n=e.parser.context;return new oa(e,[],t,i,i,0,[],0,n?new Ff(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let i=e>>19,n=e&65535,{parser:s}=this.p,o=s.dynamicPrecedence(n);if(o&&(this.score+=o),i==0){this.pushState(s.getGoto(this.state,n,!0),this.reducePos),n<s.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),this.reduceContext(n,this.reducePos);return}let a=this.stack.length-(i-1)*3-(e&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((t=this.p.parser.nodeSet.types[n])===null||t===void 0)&&t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let h=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-h;if(n<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,d,u+4,!0)}if(e&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=s.getGoto(d,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(e,t,i,n=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,n);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=n}}shift(e,t,i,n){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=n,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,n,4);else{let s=e,{parser:o}=this.p;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(s,1)||(this.reducePos=n)),this.pushState(s,i),this.shiftContext(t,i),t<=o.maxNode&&this.buffer.push(t,i,n,4)}}apply(e,t,i,n){e&65536?this.reduce(e):this.shift(e,t,i,n)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(i,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new oa(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new zL(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(i==0)return!1;if(!(i&65536))return!0;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let n=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&n.push(t[s],o);if(this.stack.length<120)for(let s=0;n.length<8&&s<t.length;s+=2){let o=t[s+1];n.some((a,l)=>l&1&&a==o)||n.push(t[s],o)}t=n}let i=[];for(let n=0;n<t.length&&i.length<4;n+=2){let s=t[n+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[n],this.pos),o.reducePos=this.pos,o.score-=200,i.push(o)}return i}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let i=t>>19,n=t&65535,s=this.stack.length-i*3;if(s<0||e.getGoto(this.stack[s],n,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],i=(n,s)=>{if(!t.includes(n))return t.push(n),e.allActions(n,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=i(o,s+1);if(a!=null)return a}})};return i(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Ff(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Ff{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class zL{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class aa{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new aa(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new aa(this.stack,this.pos,this.index)}}function Ys(r,e=Uint16Array){if(typeof r!="string")return r;let t=null;for(let i=0,n=0;i<r.length;){let s=0;for(;;){let o=r.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[n++]=s:t=new e(s)}return t}class Co{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const jf=new Co;class FL{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=jf,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,n=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!n)return null;let o=this.ranges[--n];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(n==this.ranges.length-1)return null;let o=this.ranges[++n];s+=o.from-i.to,i=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,i,n;if(t>=0&&t<this.chunk.length)i=this.pos+e,n=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),n=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),n}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=jf,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(i+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return i}}class Bi{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:i}=t.p;jL(this.data,e,t,this.id,i.data,i.tokenPrecTable)}}Bi.prototype.contextual=Bi.prototype.fallback=Bi.prototype.extend=!1;Bi.prototype.fallback=Bi.prototype.extend=!1;function jL(r,e,t,i,n,s){let o=0,a=1<<i,{dialect:l}=t.p.parser;e:for(;a&r[o];){let c=r[o+1];for(let f=o+3;f<c;f+=2)if((r[f+1]&a)>0){let p=r[f];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||HL(p,e.token.value,n,s))){e.acceptToken(p);break}}let h=e.next,u=0,d=r[o+2];if(e.next<0&&d>u&&r[c+d*3-3]==65535&&r[c+d*3-3]==65535){o=r[c+d*3-1];continue e}for(;u<d;){let f=u+d>>1,p=c+f+(f<<1),b=r[p],g=r[p+1]||65536;if(h<b)d=f;else if(h>=g)u=f+1;else{o=r[p+2],e.advance();continue e}}break}}function Hf(r,e,t){for(let i=e,n;(n=r[i])!=65535;i++)if(n==t)return i-e;return-1}function HL(r,e,t,i){let n=Hf(t,i,e);return n<0||Hf(t,i,r)<n}const yt=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let Il=null;function Vf(r,e,t){let i=r.cursor(Ge.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(r.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:r.length}}class VL{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Vf(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Vf(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],n=this.index[t];if(n==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[n],o=this.start[t]+i.positions[n];if(o>e)return this.nextStart=o,null;if(s instanceof He){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(se.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class WL{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new Co)}getActions(e){let t=0,i=null,{parser:n}=e.p,{tokenizers:s}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let h=s[c],u=this.tokens[c];if(!(i&&!h.fallback)&&((h.contextual||u.start!=e.pos||u.mask!=o||u.context!=a)&&(this.updateCachedToken(u,h,e),u.mask=o,u.context=a),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let d=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!h.extend&&(i=u,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new Co,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Co,{pos:i,p:n}=e;return t.start=i,t.end=Math.min(i+1,n.stream.end),t.value=i==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,i){let n=this.stream.clipPos(i.pos);if(t.token(this.stream.reset(n,e),i),e.value>-1){let{parser:s}=i.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),i);if(a>=0&&i.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,i,n){for(let s=0;s<n;s+=3)if(this.actions[s]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=i,n}addActions(e,t,i,n){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=sr(a,c+2);else{n==0&&a[c+1]==2&&(n=this.putAction(sr(a,c+2),t,i,n));break}a[c]==t&&(n=this.putAction(sr(a,c+1),t,i,n))}return n}}class UL{constructor(e,t,i,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new FL(t,n),this.tokens=new WL(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[oa.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new VL(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],n,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{n||(n=[],s=[]),n.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=n&&KL(n);if(o)return yt&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw yt&&n&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&n){let o=this.stoppedAt!=null&&n[0].pos>this.stoppedAt?n[0]:this.runRecovery(n,s,i);if(o)return yt&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let c=i[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let n=e.pos,{parser:s}=this,o=yt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,h=c?e.curContext.hash:0;for(let u=this.fragments.nodeAt(n);u;){let d=this.parser.nodeSet.types[u.type.id]==u.type?s.getGoto(e.state,u.type.id):-1;if(d>-1&&u.length&&(!c||(u.prop(se.contextHash)||0)==h))return e.useNode(u,d),yt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(u.type.id)})`),!0;if(!(u instanceof He)||u.children.length==0||u.positions[0]>0)break;let f=u.children[0];if(f instanceof He&&u.positions[0]==0)u=f;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),yt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=9e3)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let h=l[c++],u=l[c++],d=l[c++],f=c==l.length||!i,p=f?e:e.split(),b=this.tokens.mainToken;if(p.apply(h,u,b?b.start:p.pos,d),yt&&console.log(o+this.stackID(p)+` (via ${h&65536?`reduce of ${s.getName(h&65535)}`:"shift"} for ${s.getName(u)} @ ${n}${p==e?"":", split"})`),f)return!0;p.pos>n?t.push(p):i.push(p)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Wf(e,t),!0}}runRecovery(e,t,i){let n=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],h=yt?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),yt&&console.log(h+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let u=a.split(),d=h;for(let f=0;u.forceReduce()&&f<10&&(yt&&console.log(d+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,i));f++)yt&&(d=this.stackID(u)+" -> ");for(let f of a.recoverByInsert(l))yt&&console.log(h+this.stackID(f)+" (via recover-insert)"),this.advanceFully(f,i);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),yt&&console.log(h+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Wf(a,i)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),He.build({buffer:aa.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Il||(Il=new WeakMap)).get(e);return t||Il.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Wf(r,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==r.pos&&i.sameState(r)){e[t].score<r.score&&(e[t]=r);return}}e.push(r)}class GL{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}class la extends Vp{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),n=[];for(let a=0;a<t.length;a++)n.push([]);function s(a,l,c){n[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=se[l]);for(let c=1;c<a.length;){let h=a[c++];if(h>=0)s(h,l,a[c++]);else{let u=a[c+-h];for(let d=-h;d>0;d--)s(a[c++],l,u);c++}}}this.nodeSet=new ch(t.map((a,l)=>ft.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:n[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=zp;let o=Ys(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(Uf),this.states=Ys(e.states,Uint32Array),this.data=Ys(e.stateData),this.goto=Ys(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Bi(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let n=new UL(this,e,t,i);for(let s of this.wrappers)n=s(n,e,t,i);return n}getGoto(e,t,i=!1){let n=this.goto;if(t>=n[0])return-1;for(let s=n[t+1];;){let o=n[s++],a=o&1,l=n[s++];if(a&&i)return l;for(let c=s+(o>>1);s<c;s++)if(n[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let n=0;n<2;n++)for(let s=this.stateSlot(e,n?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=sr(i,s+2)];else{if(i[s+1]==2)return sr(i,s+2);break}if(o==t||o==0)return sr(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,i=>i==t?!0:null)}allActions(e,t){let i=this.stateSlot(e,4),n=i?t(i):void 0;for(let s=this.stateSlot(e,1);n==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=sr(this.data,s+2);else break;n=t(sr(this.data,s+1))}return n}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=sr(this.data,i+2);else break;if(!(this.data[i+2]&1)){let n=this.data[i+1];t.some((s,o)=>o&1&&s==n)||t.push(this.data[i],n)}}return t}configure(e){let t=Object.assign(Object.create(la.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let n=e.tokenizers.find(s=>s.from==i);return n?n.to:i})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((i,n)=>{let s=e.specializers.find(a=>a.from==i.external);if(!s)return i;let o=Object.assign(Object.assign({},i),{external:s.to});return t.specializers[n]=Uf(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let n=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(n||(n=new Uint8Array(this.maxTerm+1)))[a]=1;return new GL(e,i,n)}static deserialize(e){return new la(e)}}function sr(r,e){return r[e]|r[e+1]<<16}function KL(r){let e=null;for(let t of r){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function Uf(r){if(r.external){let e=r.extend?1:0;return(t,i)=>r.external(t,i)<<1|e}return r.get}const qL={__proto__:null,pirmyn:14,PIRMYN:16,forward:18,FORWARD:20,atgal:38,ATGAL:40,backward:42,BACKWARD:44,deinn:48,DEINN:50,right:52,RIGHT:54,kairn:58,KAIRN:60,left:62,LEFT:64,stok:68,STOK:70,stop:72,STOP:74,piek:78,PIEK:80,pendown:82,PEN_DOWN:84,nepiek:88,NEPIEK:90,penup:92,PEN_UP:94,spalva:98,SPALVA:100,color:102,COLOR:104,paimk:108,PAIMK:110,pickup:112,PICKUP:114,padk:118,PADK:120,place:122,PLACE:124,rayk:128,RAYK:130,print:132,PRINT:134,kartok:138,KARTOK:140,repeat:142,REPEAT:144,kol:148,KOL:150,while:152,WHILE:154,su:158,SU:160,for:162,FOR:164,i:168,I:170,in:172,IN:174,tai:178,TAI:180,here:182,HERE:184,fn:186,jeigu:190,JEIGU:192,if:194,IF:196,kitu:200,atveju:202,KITU:204,ATVEJU:206,else:208,ELSE:210,kai:214,KAI:216,when:218,WHEN:220,tikrink:224,TIKRINK:226,check:228,CHECK:230,yra:234,YRA:236,is:238,IS:240,ir:244,IR:246,and:248,AND:250,arba:254,ARBA:256,or:258,OR:260},eI=la.deserialize({version:14,states:"(^QYQPOOO'qQPO'#CmOOQO'#Cg'#CgOOQO'#C`'#C`OOQO'#FT'#FTQYQPOOO(SQPO'#CaO(SQPO'#CnO(SQPO'#CsO(SQPO'#CxOOQO'#C}'#C}OOQO'#DS'#DSOOQO'#DX'#DXO(SQPO'#D^O(SQPO'#DcO(SQPO'#DhO(SQPO'#DmO(SQPO'#DrO(SQPO'#DwO(SQPO'#D|O(SQPO'#ERO(bQPO'#EWO(SQPO'#E^O(SQPO'#EcO(SQPO'#EjO(SQPO'#EoO(SQPO'#EtO(SQPO'#EyO(SQPO'#FOOOQO'#FU'#FUO(gQPO,59XOOQO,59X,59XOOQO-E9R-E9ROOQO,58{,58{OOQO,59Y,59YOOQO,59_,59_OOQO,59d,59dOOQO,59x,59xOOQO,59},59}OOQO,5:S,5:SOOQO,5:X,5:XOOQO,5:^,5:^OOQO,5:c,5:cOOQO,5:h,5:hOOQO,5:m,5:mO(SQPO,5:rOOQO,5:x,5:xOOQO,5:},5:}OOQO,5;U,5;UOOQO,5;Z,5;ZOOQO,5;`,5;`OOQO,5;e,5;eOOQO,5;j,5;jOOQO-E9S-E9SOOQO1G.s1G.sOOQO1G0^1G0^",stateData:"(x~OPOSQOS~OVUOWUOXUOYUO[QO]QO^QO`POcVOdVOeVOfVOhWOiWOjWOkWOmXOnXOoXOpXOrYOsYOtYOuYOwZOxZOyZOzZO|[O}[O!O[O!P[O!R]O!S]O!T]O!U]O!W^O!X^O!Y^O!Z^O!]_O!^_O!__O!`_O!b`O!c`O!d`O!e`O!gaO!haO!iaO!jaO!lbO!mbO!nbO!obO!qcO!rcO!scO!tcO!vdO!wdO!xdO!ydO!{eO!|eO!}eO#OeO#PeO#RfO#SfO#TfO#UfO#WgO#XgO#YgO#ZgO#[gO#]gO#_hO#`hO#ahO#bhO#diO#eiO#fiO#giO#ijO#jjO#kjO#ljO#nkO#okO#pkO#qkO#slO#tlO#ulO#vlO~O[QO]QO^QO_oO`PO~O[QO]QO^QO`PO~OU}O~O[QO]QO^QO_!WO`PO~O",goto:"&b#yPPPP#z$OPPPPP$SPPPPP%j$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPPP$OPPPP$OPPPPPP$OPPPP$OPPPP$OPPPP$OPPPP$OPPPP&U&[TSOTTROTSROTSmPnQqUQrVQsWQtXQu]Qv^Qw_Qx`QyaQzbQ{cQ|dQ!OfQ!PgQ!QhQ!RiQ!SjQ!TkQ!UlR!X}!RQOPTUVWX]^_`abcdfghijkln}QTORpTQnPR!Vn",nodeNames:" Space LineComment Program Statement Forward Identifier pirmyn PIRMYN forward FORWARD Expression String Number Variable ) ( Application Backward atgal ATGAL backward BACKWARD Right deinn DEINN right RIGHT Left kairn KAIRN left LEFT Stop stok STOK stop STOP PenDown piek PIEK pendown PEN_DOWN PenUp nepiek NEPIEK penup PEN_UP Color spalva SPALVA color COLOR PickUp paimk PAIMK pickup PICKUP Place padk PADK place PLACE Print rayk RAYK print PRINT Repeat kartok KARTOK repeat REPEAT While kol KOL while WHILE ForEach su SU for FOR In i I in IN FunctionDef tai TAI here HERE fn If jeigu JEIGU if IF Else kitu atveju KITU ATVEJU else ELSE When kai KAI when WHEN Check tikrink TIKRINK check CHECK Is yra YRA is IS And ir IR and AND Or arba ARBA or OR",maxTerm:134,nodeProps:[["openedBy",15,"("],["closedBy",16,")"]],skippedNodes:[0,1,2],repeatNodeCount:2,tokenData:"+^~RbXY!ZYZ!Z]^!Zpq!Zrs!lst$Ytu'Wxy'{yz(Q!O!P(V!Q![)c![!]*P!c!}'W#R#S'W#T#o'W$g;'S'W;'S;=`'u<%lO'W~!`SP~XY!ZYZ!Z]^!Zpq!Z~!oVOr!lrs#Us#O!l#O#P#Z#P;'S!l;'S;=`$S<%lO!l~#ZO[~~#^RO;'S!l;'S;=`#g;=`O!l~#jWOr!lrs#Us#O!l#O#P#Z#P;'S!l;'S;=`$S;=`<%l!l<%lO!l~$VP;=`<%l!l~$_UQ~OY$qZ!}$q!}#O%Y#O;'S$q;'S;=`%S<%lO$q~$vSQ~OY$qZ;'S$q;'S;=`%S<%lO$q~%VP;=`<%l$q~%_VQ~OY%YYZ%tZs%Yst&it;'S%Y;'S;=`'Q<%lO%Y~%wTOs%tst&Wt;'S%t;'S;=`&c<%lO%t~&ZP#P#Q&^~&cOQ~~&fP;=`<%l%t~&nUQ~OY$qZ#P$q#P#Q$q#Q;'S$q;'S;=`%S<%lO$q~'TP;=`<%l%Y~']WU~tu'W!Q!['W!c!}'W#R#S'W#T#o'W$g;'S'W;'S;=`'u<%lO'W~'xP;=`<%l'W~(QO`~~(VO_~~(YP!Q![(]~(bS]~!Q![(]!g!h(n#R#S(]#X#Y(n~(qS{|(}}!O(}!Q![)W#R#S)W~)QQ!Q![)W#R#S)W~)]Q]~!Q![)W#R#S)W~)hU]~!O!P(]!Q![)c!g!h(n#R#S)c#X#Y(n#b#c)z~*PO]~~*SVtu*i!c!}*i#R#S*i#T#o*i$g;'S*i;'S;=`+W<%lO*i~*nW^~tu*i!Q![*i!c!}*i#R#S*i#T#o*i$g;'S*i;'S;=`+W<%lO*i~+ZP;=`<%l*i",tokenizers:[0],topRules:{Program:[0,3]},specialized:[{term:6,get:r=>qL[r]||-1}],tokenPrec:0}),YL="m 3.5,16.5 v -9 h 15 v 9 M 20,16.67 V 15 h 2 V 9 H 20 V 7.33 C 20,6.6 19.4,6 18.67,6 H 3.33 C 2.6,6 2,6.6 2,7.33 v 9.34 C 2,17.41 2.59,18 3.33,18 H 18.67 C 19.4,18 20,17.4 20,16.67 M 7.8,15 V 9 h -3 v 6 h 3 m 9,0 V 9 h -3 v 6 h 3 m -4.5,0 V 9 h -3 v 6 z",ZL="m 3.5,16.5 v -9 h 15 v 9 M 20,16.67 V 15 h 2 V 9 H 20 V 7.33 C 20,6.6 19.4,6 18.67,6 H 3.33 C 2.6,6 2,6.6 2,7.33 v 9.34 C 2,17.41 2.59,18 3.33,18 H 18.67 C 19.4,18 20,17.4 20,16.67 M 7.8,15 V 9 h -3 v 6 h 3 m 4.5,0 V 9 h -3 v 6 z",QL="m 3.5,16.5 v -9 h 15 v 9 M 20,16.67 V 15 h 2 V 9 H 20 V 7.33 C 20,6.6 19.4,6 18.67,6 H 3.33 C 2.6,6 2,6.6 2,7.33 v 9.34 C 2,17.41 2.59,18 3.33,18 H 18.67 C 19.4,18 20,17.4 20,16.67 M 7.8,15 V 9 h -3 v 6 h 3",XL="m 3.5,16.5 v -9 h 15 v 9 M 20,16.67 V 15 h 2 V 9 H 20 V 7.33 C 20,6.6 19.4,6 18.67,6 H 3.33 C 2.6,6 2,6.6 2,7.33 v 9.34 C 2,17.41 2.59,18 3.33,18 H 18.67 C 19.4,18 20,17.4 20,16.67",JL=({percentage:r=100,...e})=>{const t=es(),i=[t.GREEN,t.YELLOW,t.RED];return De.jsx(lh,{className:"iconBattery",viewBox:"0 0 24 24",boxSize:10,color:r>65?i[0]:r>32?i[1]:i[2],...e,children:De.jsx("path",{fill:"currentColor",d:r>65?YL:r>32?ZL:r>0?QL:XL})})},tI=as({displayName:"Target",viewBox:"0 0 24 24",d:vT}),rI=as({displayName:"Lock",viewBox:"0 0 24 24",d:wT}),iI=as({displayName:"Draw",viewBox:"0 0 24 24",d:ST}),nI=as({displayName:"Play",viewBox:"0 0 24 24",d:kT});as({displayName:"Next",viewBox:"0 0 24 24",d:xT});const eP=({startEnergy:r,currentEnergy:e})=>De.jsxs(ya,{display:"flex",alignItems:"center",children:[De.jsx(JL,{percentage:e*100/r}),De.jsx("p",{className:Ip(gi.value,"no-margin"),children:e})]}),tP=({startEnergy:r})=>{const{energy:e}=gT();return De.jsx(eP,{startEnergy:r,currentEnergy:e})},sI=r=>{const{zoomLevel:e=1,size:t,objects:i=[],rules:n=[],speed:s=1,start:o,angle:a,energy:l,code:c=[],loop:h=!1,play:u=!0,animate:d=!0,penDown:f=!1,freeStyle:p,className:b,onGameOver:g,onAnimationOver:v,onError:k,hideHeader:E,language:A}=r,_=ee.useRef(null),O=ee.useRef(null),[C,N]=ee.useState(null),{setEnergy:I}=yT();ee.useEffect(()=>{if(_.current){const R=_.current.getContext("2d");N(R)}},[]),ee.useEffect(()=>{I(l)},[l,s,I]),ee.useEffect(()=>{let R=s,J=0;switch(e){case 1:{R=60,s>2?J=Math.pow(s+1,s+1):s>1?J=Math.pow(s,s):J=s;break}case 16:{R=s*4;break}case 32:{R=s>1?s*3.5:s;break}default:{R=s>1?s*2.5:s;break}}const ve=1e3/R;let Oe,Te;if(C){const Se=new fT({ctx:C,zoomLevel:e,size:t,objects:i,rules:n,code:c,start:o,angle:a,energy:l,runCode:u,animate:s<4&&d,loop:h,penDown:f,freeStyle:p,onGameOver:g,onError:k,language:A,onEnergyChanged:I,element:O.current}),Re=mt=>{if(Se.isAnimationFinished){v?.();return}Oe=window.requestAnimationFrame(Re);const Rt=mt-(Te||mt);if(Rt>ve||Te===void 0){Te=mt-Rt%ve,Se.tick();for(let ne=0;ne<J;ne++)Se.tick()}};Oe=window.requestAnimationFrame(Re)}return()=>{window.cancelAnimationFrame(Oe)}},[C,c,e,t,i,n,o,a,l,h,f,s,u,d,p,g,v,k,A,I]);let V,X;t?.width?(V=t.width*e,X=t.height*e):(V=500,X=500);const xe=ee.useMemo(()=>({width:V}),[V]),Ne=Ip(gi.canvas,e>1&&gi.crisp,b);return De.jsxs("div",{className:gi.container,children:[De.jsx(ya,{height:E?"var(--sp2)":"var(--sp4)",children:l!==void 0&&De.jsx(tP,{startEnergy:l})}),De.jsxs("div",{className:gi.canvasWrapper,style:xe,children:[De.jsx("img",{ref:O,className:gi.robot,src:"/robot.svg"}),De.jsx("canvas",{className:Ne,ref:_,width:V,height:X})]})]})};export{ut as $,Pt as A,td as B,op as C,GA as D,fe as E,fP as F,Q as G,Ql as H,lh as I,Pn as J,F as K,cr as L,er as M,kO as N,H as O,va as P,ls as Q,Qi as R,WP as S,Eo as T,Dt as U,dg as V,TP as W,Ke as X,Nr as Y,Ie as Z,_o as _,sI as a,es as a$,Hi as a0,ye as a1,yP as a2,ze as a3,Xi as a4,Np as a5,Lc as a6,eI as a7,S2 as a8,MP as a9,qt as aA,be as aB,RP as aC,pf as aD,pe as aE,oi as aF,SP as aG,OP as aH,Hr as aI,BP as aJ,LP as aK,PP as aL,xP as aM,zP as aN,wP as aO,kP as aP,DP as aQ,j2 as aR,jP as aS,_P as aT,EP as aU,CP as aV,FP as aW,fs as aX,AP as aY,VP as aZ,nI as a_,T2 as aa,$P as ab,C_ as ac,P as ad,pP as ae,NP as af,PT as ag,YP as ah,Dg as ai,ts as aj,rI as ak,ya as al,iI as am,GP as an,it as ao,Ue as ap,dr as aq,yg as ar,v2 as as,gh as at,y2 as au,ge as av,bg as aw,b2 as ax,qs as ay,se as az,vy as b,_T as b0,OT as b1,i_ as b2,Ls as b3,UP as b4,Ip as b5,tI as b6,KP as b7,HP as b8,qP as b9,XP as ba,TR as bb,$f as bc,Fe as bd,ER as be,ZT as bf,o0 as bg,ZP as bh,XR as bi,ns as bj,t0 as bk,eP as bl,sP as c,oP as d,ap as e,zv as f,Gl as g,Xr as h,dy as i,De as j,ba as k,TA as l,SA as m,Ey as n,hP as o,Af as p,uP as q,kA as r,gP as s,cP as t,QP as u,dA as v,ky as w,aP as x,lP as y,JP as z};
